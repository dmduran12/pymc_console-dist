(function(){"use strict";function k(a){const e=a.replace(/^0x/i,"").replace(/\s/g,"");if(e.length%2!==0)throw new Error("Invalid hex string: odd number of characters");const n=new Uint8Array(e.length/2);for(let o=0;o<n.length;o++){const s=parseInt(e.substr(o*2,2),16);if(isNaN(s))throw new Error(`Invalid hex character at position ${o*2}`);n[o]=s}return n}function E(a,e=!0){const n=(a&255).toString(16).padStart(2,"0");return e?n.toUpperCase():n}function K(){return typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function"}const O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),V=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);function g(a,e){return(a>>>e|a<<32-e)>>>0}function Y(a,e){let n=a[0],o=a[1],s=a[2],t=a[3],l=a[4],i=a[5],r=a[6],h=a[7];for(let c=0;c<64;c++){if(c>=16){const C=g(e[c-15&15],7)^g(e[c-15&15],18)^e[c-15&15]>>>3,ha=g(e[c-2&15],17)^g(e[c-2&15],19)^e[c-2&15]>>>10;e[c&15]=e[c&15]+C+e[c-7&15]+ha>>>0}const y=g(l,6)^g(l,11)^g(l,25),w=l&i^~l&r,f=h+y+w+O[c]+e[c&15]>>>0,b=g(n,2)^g(n,13)^g(n,22),m=n&o^n&s^o&s,p=b+m>>>0;h=r,r=i,i=l,l=t+f>>>0,t=s,s=o,o=n,n=f+p>>>0}a[0]=a[0]+n>>>0,a[1]=a[1]+o>>>0,a[2]=a[2]+s>>>0,a[3]=a[3]+t>>>0,a[4]=a[4]+l>>>0,a[5]=a[5]+i>>>0,a[6]=a[6]+r>>>0,a[7]=a[7]+h>>>0}function x(a){const e=new Uint32Array(V),n=new Uint32Array(16),o=a.length*8,s=a.length+9+63&-64,t=new Uint8Array(s);t.set(a),t[a.length]=128;const l=new DataView(t.buffer);l.setUint32(s-4,o,!1);for(let h=0;h<s;h+=64){for(let c=0;c<16;c++)n[c]=l.getUint32(h+c*4,!1);Y(e,n)}const i=new Uint8Array(32),r=new DataView(i.buffer);for(let h=0;h<8;h++)r.setUint32(h*4,e[h],!1);return i}async function S(a){if(K())try{const e=new ArrayBuffer(a.length);new Uint8Array(e).set(a);const n=await crypto.subtle.digest("SHA-256",e);return new Uint8Array(n)}catch{}return x(a)}async function $(a,e){let o;a.length>64?(o=new Uint8Array(64),o.set(x(a))):(o=new Uint8Array(64),o.set(a));const s=new Uint8Array(64),t=new Uint8Array(64);for(let h=0;h<64;h++)s[h]=o[h]^54,t[h]=o[h]^92;const l=new Uint8Array(64+e.length);l.set(s),l.set(e,64);const i=x(l),r=new Uint8Array(96);return r.set(t),r.set(i,64),x(r)}async function X(a,e){if(K())try{const n=new ArrayBuffer(a.length);new Uint8Array(n).set(a);const o=new ArrayBuffer(e.length);new Uint8Array(o).set(e);const s=await crypto.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),t=await crypto.subtle.sign("HMAC",s,o);return new Uint8Array(t)}catch{}return $(a,e)}const z=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),G=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),J=new Uint8Array([1,2,4,8,16,32,64,128,27,54]);function d(a,e){let n=0;for(let o=0;o<8;o++){e&1&&(n^=a);const s=a&128;a=a<<1&255,s&&(a^=27),e>>=1}return n}function Z(a){const e=[],n=new Uint8Array(176);n.set(a.slice(0,16));for(let o=16;o<176;o+=4){let s=n[o-4],t=n[o-3],l=n[o-2],i=n[o-1];if(o%16===0){const r=s;s=z[t]^J[o/16-1],t=z[l],l=z[i],i=z[r]}n[o]=n[o-16]^s,n[o+1]=n[o-15]^t,n[o+2]=n[o-14]^l,n[o+3]=n[o-13]^i}for(let o=0;o<11;o++)e.push(n.slice(o*16,(o+1)*16));return e}function P(a){let e=a[13];a[13]=a[9],a[9]=a[5],a[5]=a[1],a[1]=e,e=a[2],a[2]=a[10],a[10]=e,e=a[6],a[6]=a[14],a[14]=e,e=a[3],a[3]=a[7],a[7]=a[11],a[11]=a[15],a[15]=e}function B(a){for(let e=0;e<16;e++)a[e]=G[a[e]]}function U(a,e){for(let n=0;n<16;n++)a[n]^=e[n]}function Q(a){for(let e=0;e<4;e++){const n=e*4,o=a[n],s=a[n+1],t=a[n+2],l=a[n+3];a[n]=d(14,o)^d(11,s)^d(13,t)^d(9,l),a[n+1]=d(9,o)^d(14,s)^d(11,t)^d(13,l),a[n+2]=d(13,o)^d(9,s)^d(14,t)^d(11,l),a[n+3]=d(11,o)^d(13,s)^d(9,t)^d(14,l)}}function W(a,e){const n=new Uint8Array(a);U(n,e[10]);for(let o=9;o>=1;o--)P(n),B(n),U(n,e[o]),Q(n);return P(n),B(n),U(n,e[0]),n}function j(a,e){const o=Z(a),s=new Uint8Array(e.length);for(let t=0;t<e.length;t+=16){const l=e.slice(t,Math.min(t+16,e.length)),i=new Uint8Array(16);i.set(l);const r=W(i,o);s.set(r.slice(0,l.length),t)}return s}function M(a,e){return(a[e]|a[e+1]<<8|a[e+2]<<16|a[e+3]<<24)>>>0}const H=["alameda","alpine","amador","butte","calaveras","colusa","contracosta","contra-costa","delnorte","del-norte","eldorado","el-dorado","fresno","glenn","humboldt","imperial","inyo","kern","kings","lake","lassen","losangeles","los-angeles","la-county","madera","marin","mariposa","mendocino","merced","modoc","mono","monterey","napa","nevada","orange","oc","placer","plumas","riverside","sacramento","sac","sanbenito","san-benito","sanbernardino","san-bernardino","sandiego","san-diego","sd","sanfrancisco","san-francisco","sf","sanjoaquin","san-joaquin","sanluisobispo","san-luis-obispo","slo","sanmateo","san-mateo","santabarbara","santa-barbara","sb","santaclara","santa-clara","santacruz","santa-cruz","shasta","sierra","siskiyou","solano","sonoma","stanislaus","sutter","tehama","trinity","tulare","tuolumne","ventura","yolo","yuba","losangeles","los-angeles","la","hollywood","westhollywood","west-hollywood","weho","beverlyhills","beverly-hills","santamonica","santa-monica","culvercity","culver-city","marinadelrey","marina-del-rey","venice","venicebeach","venice-beach","malibu","palisades","pacificpalisades","pacific-palisades","brentwood","westwood","westla","west-la","dtla","downtown","downtownla","downtown-la","koreatown","ktown","silverlake","silver-lake","losfeliz","los-feliz","echopark","echo-park","eastla","east-la","boyleheights","boyle-heights","highlandpark","highland-park","eaglerock","eagle-rock","pasadena","southpasadena","south-pasadena","glendale","burbank","tolucalake","toluca-lake","studiocity","studio-city","shermanoaks","sherman-oaks","encino","tarzana","reseda","vannuys","van-nuys","northhollywood","north-hollywood","noho","woodlandhills","woodland-hills","calabasas","topanga","agourahills","agoura-hills","thousandoaks","thousand-oaks","simivalley","simi-valley","simi","moorpark","camarillo","oxnard","porthueneme","port-hueneme","ventura","ojai","sfv","sfvalley","sf-valley","thevalley","the-valley","sanfernando","san-fernando","sanfernandovalley","san-fernando-valley","pacoima","sylmar","sunland","tujunga","sunlandtujunga","lakeviewterrace","lakeview-terrace","shadowhills","shadow-hills","chatsworth","northridge","granadahills","granada-hills","missionhills","mission-hills","panoramacity","panorama-city","arleta","sunvalley","sun-valley","santaclarita","santa-clarita","scv","valencia","newhall","saugus","canyoncountry","canyon-country","castaic","stevenson","stevensonranch","stevenson-ranch","acton","agua-dulce","aguadulce","palmdale","lancaster","antelopevalley","antelope-valley","av","avmesh","av-mesh","quartz-hill","quartzhill","littlerock","little-rock","pearblossom","pear-blossom","lakelosangeles","lake-los-angeles","highdesert","high-desert","hd","hdmesh","hd-mesh","victorville","hesperia","applevalley","apple-valley","barstow","adelanto","phelan","pinon-hills","pinonhills","wrightwood","bigbear","big-bear","lakeisabella","lake-isabella","inlandempire","inland-empire","ie","riverside","corona","moreno-valley","morenovalley","fontana","ontario","rancho","ranchocucamonga","rancho-cucamonga","upland","claremont","pomona","azusa","glendora","covina","westcovina","west-covina","diamondbar","diamond-bar","chino","chinohills","chino-hills","sanbernardinocity","rialto","colton","redlands","yuciapa","yucaipa","beaumont","banning","hemet","perris","menifee","temecula","murrieta","wildomar","lakeland","lakeelsinore","lake-elsinore","orangecounty","orange-county","oc","anaheim","fullerton","santaana","santa-ana","irvine","costamesa","costa-mesa","newportbeach","newport-beach","newport","huntingtonbeach","huntington-beach","hb","surfcity","surf-city","lagunabeach","laguna-beach","lagunaniguel","laguna-niguel","sanclemente","san-clemente","danapoint","dana-point","missionviejo","mission-viejo","lakeforest","lake-forest","rsm","ranchosantamargarita","rancho-santa-margarita","alisoviejo","aliso-viejo","tustin","orange","yorbalinda","yorba-linda","brea","lahabra","la-habra","placentia","buenapark","buena-park","cypress","losalamitojos","sealbeach","seal-beach","gardengrove","garden-grove","westminster","stanton","fountainvalley","sandiego","san-diego","sd","sdmesh","sd-mesh","lajolla","la-jolla","pacificbeach","pacific-beach","pb","missionbeach","mission-beach","oceanbeach","ocean-beach","ob","pointloma","point-loma","coronado","hillcrest","northpark","north-park","southpark","south-park","normalheights","normal-heights","cityheights","city-heights","lamesa","la-mesa","elcajon","el-cajon","santee","lakeside","poway","ramona","julian","alpine","escondido","sanmarcos","san-marcos","vista","oceanside","carlsbad","encinitas","delmar","del-mar","solanabeanch","solana-beach","chulavista","chula-vista","nationalcity","national-city","imperialbeach","imperial-beach","ib","southbay","south-bay","torrance","gardena","hawthorne","lawndale","redondo","redondobeach","hermosa","hermosabeach","manhattan","manhattanbeach","manhattan-beach","elsegundo","el-segundo","palosverdes","palos-verdes","pv","ranchopalosverdes","rancho-palos-verdes","sanpedro","san-pedro","wilmington","carson","compton","longbeach","long-beach","lb","signalhill","signal-hill","lakewood","cerritos","artesia","lamirada","la-mirada","norwalk","whittier","lahabra","la-habra-heights","downey","bellflower","paramount","southgate","south-gate","lynwood","bellgardens","bell-gardens","cudahy","huntingtonpark","maywood","vernon","commerce","montebello","picorivera","pico-rivera","montereypark","monterey-park","alhambra","sanmarinno","san-marino","arcadia","monrovia","duarte","azusa","irwindale","baldwinpark","baldwin-park","elmonbte","el-monte","southelmonte","south-el-monte","rosemead","temple-city","templecity","sangabriel","san-gabriel","santabarbara","santa-barbara","sb","goleta","carpinteria","montecito","islavista","isla-vista","iv","ucsb","slo","sanluisobispo","san-luis-obispo","morrobay","morro-bay","pismobeach","pismo-beach","pismo","shellbeach","shell-beach","arroyogrande","arroyo-grande","groverbeach","grover-beach","oceano","santamaria","santa-maria","lompoc","vandenberg","solvang","buellton","losalamos","los-alamos","atascadero","pasorobles","paso-robles","paso","cambria","cayucos","sansiemon","san-simeon","hearst","fresno","clovis","visalia","tulare","hanford","porterville","bakersfield","bako","delano","wasco","shafter","taft","tehachapi","stockton","tracy","manteca","lodi","modesto","turlock","merced","madera","chowchilla","losabnos","los-banos","sacramento","sac","sactown","westsacramento","west-sacramento","westsac","elkgrove","elk-grove","folsom","ranchocordova","rancho-cordova","roseville","rocklin","lincoln","citrus-heights","citrusheights","fair-oaks","fairoaks","carmichael","orangevale","davis","woodland","dixon","vacaville","fairfield","vallejo","bayarea","bay-area","sfbay","sf-bay","sanfrancisco","san-francisco","sf","sfmesh","sf-mesh","oakland","eastbay","east-bay","berkeley","emeryville","alameda","sanleandro","san-leandro","hayward","fremont","unioncity","union-city","newark","milpitas","sanjose","san-jose","sj","campbell","saratoga","losgartos","los-gatos","sunnyvale","santaclara","santa-clara","cupertino","mountainview","mountain-view","paloalto","palo-alto","menlopark","menlo-park","atherton","redwoodcity","redwood-city","sancarlos","san-carlos","belmont","sanmateo","san-mateo","fostercity","foster-city","burlingame","sanbruno","san-bruno","southsanfrancisco","ssf","dalycity","daly-city","pacifica","halfmoonbay","half-moon-bay","hmb","santacruz","santa-cruz","capitola","scottsvalley","scotts-valley","watsonville","aptos","soquel","concord","walnutcreek","walnut-creek","pleasant-hill","pleasanthill","martinez","antioch","pittsburg","brentwood","oakley","discovery-bay","livermore","pleasanton","dublin","sanramon","san-ramon","danville","richmond","sanpablo","san-pablo","pinole","hercules","napa","sonoma","petaluma","santarosa","santa-rosa","rohnertpark","novato","sanrafael","san-rafael","sausalito","tiburon","millvalley","mill-valley","redding","chico","oroville","paradise","reddingbluff","redbluff","red-bluff","shasta","mtshasta","mt-shasta","eureka","arcata","fortuna","mckibleyville","ukiah","fortbragg","fort-bragg","willits","yreka","weed","dunsmuir","tahoe","laketahoe","lake-tahoe","southlaketahoe","south-lake-tahoe","truckee","squaw","squawvalley","squaw-valley","northstar","mammoth","mammothlakes","mammoth-lakes","bishopca","bishop","placerville","tahoe-city","tahoecity","kings-beach","kingsbeach","incline","inclinevillage","incline-village","maricopa","pima","pinal","yavapai","yuma","mohave","coconino","cochise","navajo","apache","gila","santacruzaz","graham","lapaz","la-paz","greenlee","arizona","az","azmesh","az-mesh","phoenix","phx","phoenixmesh","phoenix-mesh","scottsdale","tempe","mesa","gilbert","chandler","glendale","peoria","surprize","avondale","goodyear","buckeye","litchfieldpark","litchfield-park","tolleson","laveen","paradisevalley","paradise-valley","pv","carefree","cavekreek","cave-creek","fountainhills","fountain-hills","rioverde","rio-verde","queencreek","queen-creek","santan","san-tan","santanvalley","ahwatukee","southmountain","south-mountain","anthem","newriver","new-river","apachejunction","apache-junction","aj","goldcanyon","gold-canyon","tucson","tucsomesh","tucson-mesh","orovalley","oro-valley","marana","catalina","catalinafoothills","saddlebrooke","casagrande","casa-grande","eloy","coolidge","florence","sierravista","sierra-vista","bisbee","tombstone","benson","douglas","nogales","tubac","greenvalley","green-valley","sahuarita","flagstaff","flag","flagmesh","sedona","cottonwood","clarkdale","prescott","prescottvalley","prescott-valley","dewey","chino-valley","chinovalley","williams","grandcanyon","grand-canyon","tusayan","page","marble-canyon","showlow","show-low","pinetop","pinetoplakeside","lakeside","snowflake","taylor","payson","pine","strawberry","camp-verde","campverde","winslow","holbrook","stjohns","springerville","eagar","yuma","yumamesh","fortuna-foothills","sanluisaz","san-luis","lakehavasu","lake-havasu","havasu","havasucity","lake-havasu-city","bullheadcity","bullhead-city","bullhead","laughlin","kingman","goldenkvalley","golden-valley","parker","quartzsite","wickenburg","lasvegas","las-vegas","vegas","vegasmesh","vegas-mesh","lv","henderson","boulder-city","bouldercity","northlasvegas","north-las-vegas","nlv","summerlin","enterprise","pahrump","mesquite","reno","sparks","carsoncity","carson-city","incline","bajacalifornia","baja-california","baja","bajamesh","tijuana","tj","mexicali","ensenada","tecate","rosarito","sanfelipe","san-felipe","sanluis","sanluisriocoalorado","brabant","flevoland","gelderland","noordbrabant","noordholland","zuid-holland","zuidholland","zeeland","twente","alkmaar","almere","amsterdam","amstelland","capelleaandenijssel","denhaag","dordrecht","drechtsteden","eindhoven","haarlem","hellevoetsluis","hilversum","katwijk","lelystad","maassluis","middelburg","rijnmond","rotterdam","tilburg","utrecht","vlissingen","voorburg","voorne-putten","walcheren","west-friesland","zaandam","zaanstreek-waterland","024-bot","afrithonbot","ai","amradio","analyser","angrynerds","bemesh","bot","buch","burgernet","chat","chatgpt","dares","dekroeg","dtis","emergency","english","evenvroegopstaan","fosdem","gezellig","gmr","gmrbot","goedemorgen","gyverbot","haagscourant","hackerspacenijmegen","hamradio","hamradionederland","hetweerinjegemeente","hsnl","jokes","kanalen","koffie","linux","meshcore","nerd","nl-alert","nl-prio","noodkanaal","nsagov","pi4hm","pi4utr","pingbot","sensemakers","sports","survival","test","testing","uitdagingen","valleibot","valleirug","vleesboek","wardrive","weer","swl","qso","qrz","cq","dx","sstv","aprs","winlink","aredn","hamnet","emcomm","emcommplanning","races","ares","auxcomm","simplex","repeater","uhf","vhf","2m","70cm","440"];new Set(H);const aa=k("8b3387e9c5cdea6ac9e5edbaa115cd72"),ea=["southbay","south-bay","bot","ventura","weather","wardrive","test","icewatch","sbcountymesh","sb-county-mesh","sbcounty","sb-county","meshbud","mesh-bud","ai-bot","aibot","hdmesh","hd-mesh","hdme","hdme7","hdme7yard","hdmeyard","hdmeshtayrd","hdmestayrd","hdmestyard","hdmetayrd","hdmeshtnyard","mustard","socalmesh","socal-mesh","meshla","mesh-la","lamesh","la-mesh","westcoast","west-coast","wcmesh","wc-mesh","eastcoast","east-coast","midwest","southwest","northwest","northeast","southeast","california","cali","santaclarita","santa-clarita","scv","newhall","valencia","saugus","castaic","palmdale","lancaster","antelopevalley","antelope-valley","avmesh","av-mesh","highdesert","high-desert","mojave","victorville","hesperia","barstow","pomona","claremont","glendora","azusa","covina","westcovina","west-covina","walnut","diamondbar","diamond-bar","whittier","brea","yorbalinda","yorba-linda","montebello","montereypark","monterey-park","alhambra","arcadia","monrovia","duarte","hermosabeach","hermosa-beach","manhattanbeach","manhattan-beach","redondobeach","redondo-beach","palosverdes","palos-verdes","sanpedro","san-pedro","ojai","fillmore","santapaula","santa-paula","porthueneme","port-hueneme","general","public","main","default","chat","local","mesh","network","emergency","sos","help","news","info","status","alerts","announce","random","offtopic","off-topic","lobby","lounge","hangout","testing","dev","development","beta","alpha","experimental","meshcore","mesh-core","meshtastic","lora","lo-ra","lorawan","lora-wan","radio","ham","amateur","hamradio","ham-radio","amateurradio","repeater","repeaters","gateway","node","nodes","rf","rfmesh","offgrid","off-grid","prepper","preppers","prepping","emcomm","ares","races","socal","so-cal","southerncalifornia","southern-california","losangeles","los-angeles","la","laarea","la-area","greaterla","sfv","sfvalley","sf-valley","sanfernandovalley","san-fernando-valley","sanfernando","san-fernando","valley","thevalley","the-valley","westla","west-la","eastla","east-la","southla","south-la","dtla","downtown","downtownla","downtown-la","hollywood","beverlyhills","beverly-hills","santamonica","santa-monica","culvercity","culver-city","marinadelrey","marina-del-rey","longbeach","long-beach","torrance","carson","compton","inglewood","pasadena","glendale","burbank","noho","northhollywood","north-hollywood","encino","tarzana","woodland","woodlandhills","woodland-hills","calabasas","malibu","topanga","agoura","agourahills","agoura-hills","thousandoaks","thousand-oaks","simivalley","simi-valley","simi","venturacounty","ventura-county","oxnard","camarillo","moorpark","santabarbara","santa-barbara","sb","goleta","carpinteria","orangecounty","orange-county","oc","irvine","anaheim","fullerton","costamesa","costa-mesa","newportbeach","newport-beach","huntingtonbeach","inlandempire","inland-empire","ie","riverside","sanbernardino","san-bernardino","ontario","rancho","ranchocucamonga","rancho-cucamonga","fontana","corona","palmsprings","palm-springs","palmdesert","palm-desert","coachella","temecula","murrieta","hemet","perris","menifee","sandiego","san-diego","sd","sdmesh","sd-mesh","norcal","nor-cal","northerncalifornia","northern-california","bayarea","bay-area","sfbay","sf-bay","sfbayarea","sf-bay-area","sanfrancisco","san-francisco","sf","sfmesh","sf-mesh","oakland","berkeley","eastbay","east-bay","alameda","sanjose","san-jose","sj","siliconvalley","silicon-valley","santaclara","santa-clara","sunnyvale","mountainview","mountain-view","paloalto","palo-alto","menlopark","menlo-park","redwoodcity","redwood-city","fremont","hayward","unioncity","union-city","newark","milpitas","santacruz","santa-cruz","watsonville","monterey","montereybay","monterey-bay","sacramento","sac","sactown","roseville","folsom","fresno","bakersfield","stockton","modesto","visalia","seattle","seattlemesh","seattle-mesh","pnw","pacificnorthwest","portland","pdx","portlandmesh","portland-mesh","oregon","denver","denvermesh","denver-mesh","colorado","boulder","austin","austinmesh","austin-mesh","atx","texas","sanantonio","san-antonio","dallas","dfw","dallasmesh","dallas-mesh","fortworth","fort-worth","houston","houstonmesh","houston-mesh","htx","phoenix","phoenixmesh","phoenix-mesh","arizona","az","tucson","mesa","tempe","lasvegas","las-vegas","vegas","vegasmesh","vegas-mesh","nevada","henderson","saltlake","salt-lake","slc","saltlakecity","salt-lake-city","utah","chicago","chicagomesh","chicago-mesh","illinois","detroit","detroitmesh","detroit-mesh","michigan","annarbor","minneapolis","twincities","twin-cities","minnesota","atlanta","atlantamesh","atlanta-mesh","atl","georgia","miami","miamimesh","miami-mesh","florida","tampa","orlando","jacksonville","boston","bostonmesh","boston-mesh","massachusetts","newyork","new-york","nyc","nycmesh","nyc-mesh","brooklyn","manhattan","queens","newjersey","new-jersey","nj","jersey","philly","philadelphia","pennsylvania","dc","washingtondc","washington-dc","dmv","nova","maryland","virginia","raleigh","durham","rdu","triangle","northcarolina","charlotte","clt","southcarolina","nashville","tennessee","memphis","knoxville","neworleans","new-orleans","nola","louisiana","hawaii","oahu","honolulu","maui","alaska","anchorage","fairbanks","canada","toronto","vancouver","montreal","calgary","edmonton","ottawa","uk","london","manchester","birmingham","edinburgh","glasgow","germany","berlin","munich","hamburg","frankfurt","france","paris","lyon","marseille","spain","madrid","barcelona","italy","rome","milan","netherlands","amsterdam","rotterdam","brabant","flevoland","gelderland","noordbrabant","noordholland","zuid-holland","zuidholland","zeeland","twente","alkmaar","almere","amstelland","capelleaandenijssel","denhaag","dordrecht","drechtsteden","eindhoven","haarlem","hellevoetsluis","hilversum","katwijk","lelystad","maassluis","middelburg","rijnmond","tilburg","utrecht","vlissingen","voorburg","voorne-putten","walcheren","west-friesland","zaandam","zaanstreek-waterland","024-bot","afrithonbot","ai","amradio","analyser","angrynerds","bemesh","buch","burgernet","chatgpt","dares","dekroeg","dtis","english","evenvroegopstaan","fosdem","gezellig","gmr","gmrbot","goedemorgen","gyverbot","haagscourant","hackerspacenijmegen","hamradionederland","hetweerinjegemeente","hsnl","jokes","kanalen","koffie","linux","nerd","nl-alert","nl-prio","noodkanaal","nsagov","pi4hm","pi4utr","pingbot","sensemakers","sports","survival","uitdagingen","valleibot","valleirug","vleesboek","wardrive","weer","australia","sydney","melbourne","brisbane","perth","adelaide","newzealand","new-zealand","auckland","wellington","japan","tokyo","osaka","kyoto","korea","seoul","taiwan","taipei","singapore","hongkong","hong-kong","india","mumbai","delhi","bangalore","brazil","saopaulo","sao-paulo","rio","mexico","mexicocity","mexico-city","guadalajara","tijuana"];function na(a){let e=a.startsWith("#")?a.slice(1):a;return e=e.toLowerCase().replace(/[^a-z0-9-]/g,""),e=e.replace(/-+/g,"-"),e=e.replace(/^-+|-+$/g,""),e}const u=new Map;let q=!1;const _=new Map;function T(a){const e=_.get(a)??0;_.set(a,e+1)}function D(a){return _.get(a)??0}async function L(a){const e=na(a),n="#"+e,o=new TextEncoder,t=(await S(o.encode(n))).slice(0,16),i=(await S(t))[0],r=new Uint8Array(32);return r.set(t),{name:"#"+e,channelHash:i,aesKey:t,hmacKey:r}}async function oa(){if(q)return;const a=aa,n=(await S(a))[0],o=new Uint8Array(32);o.set(a);const s={name:"Public",channelHash:n,aesKey:a.slice(0,16),hmacKey:o};u.has(s.channelHash)||u.set(s.channelHash,[]),u.get(s.channelHash).push(s);for(const i of ea)try{const r=await L(i);u.has(r.channelHash)||u.set(r.channelHash,[]),u.get(r.channelHash).push(r)}catch{}for(const i of H)try{const r=await L(i);u.has(r.channelHash)||u.set(r.channelHash,[]);const h=u.get(r.channelHash);h.some(c=>c.name===r.name)||h.push(r)}catch{}q=!0;let t=0,l=0;for(const i of u.values())t+=i.length,l=Math.max(l,i.length);console.log(`[DecryptWorker] Cache initialized: ${t} channels, ${u.size} unique hashes, max ${l} collisions`)}function sa(a){const e=u.get(a);return!e||e.length<=1?e??[]:[...e].sort((n,o)=>D(o.name)-D(n.name))}function F(a){if(!a||a.length<4)return null;const n=parseInt(a.slice(0,2),16)&3;let o=2;(n===0||n===3)&&(o=10);const s=parseInt(a.slice(o,o+2),16);o+=2,o+=s*2;const t=a.slice(o);return t.length<8?null:k(t)}async function R(a,e,n){const o=await X(a.hmacKey,n);return e[0]===o[0]&&e[1]===o[1]}function N(a){if(a.length<6)return{valid:!1,confidence:"low"};const e=a[0]|a[1]<<8|a[2]<<16|a[3]<<24,o=new Date(e*1e3).getFullYear(),s=o>=2024&&o<=2030;if(!s)return{valid:!1,confidence:"low"};const t=a.slice(5);if(t.length===0)return{valid:!1,confidence:"low"};let l=0,i=!1;for(let h=0;h<t.length;h++){const c=t[h];(c>=32&&c<=126||c===0||c===10||c===13||c===9)&&l++,c===58&&(i=!0)}const r=l/t.length;return r>=.85&&i&&s?{valid:!0,confidence:"high"}:r>=.7&&s?{valid:!0,confidence:"medium"}:{valid:!1,confidence:"low"}}async function ta(a,e,n){const o=sa(a),s=[];for(const l of o){if(await R(l,e,n)){T(l.name);const r=j(l.aesKey,n);return{keys:l,plaintext:r}}s.push(l)}let t=null;for(const l of s)try{const i=j(l.aesKey,n),r=N(i);if(r.valid){if(r.confidence==="high")return T(l.name),{keys:l,plaintext:i,macCorrupted:!0};r.confidence==="medium"&&!t&&(t={keys:l,plaintext:i,confidence:"medium"})}}catch{}return t?(T(t.keys.name),{keys:t.keys,plaintext:t.plaintext,macCorrupted:!0}):null}async function la(a,e){const n={packetHash:a.packet_hash,success:!1,channelHash:"",packetTimestamp:a.timestamp,rssi:a.rssi,snr:a.snr};if((a.type??a.payload_type)!==5)return n;const s=F(a.raw_packet);if(!s||s.length<4)return n;const t=s[0],l=s.slice(1,3),i=s.slice(3);if(n.channelHash=E(t,!0),t!==e.channelHash)return n;const r={name:e.name,channelHash:e.channelHash,aesKey:k(e.aesKeyHex),hmacKey:k(e.hmacKeyHex)},h=await R(r,l,i);let c,y=!1;if(h)c=j(r.aesKey,i);else try{c=j(r.aesKey,i);const C=N(c);if(!C.valid||C.confidence==="low")return n;y=!0}catch{return n}if(c.length<5)return n;const w=M(c,0),f=c[4],m=new TextDecoder("utf-8",{fatal:!1}).decode(c.slice(5)).replace(/\uFFFD/g,"").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,"").replace(/\x00+$/,"").trim();n.success=!0,n.channelName=r.name,n.timestamp=w,n.flags=f,n.macCorrupted=y;const p=m.indexOf(": ");return p>0?(n.senderName=m.slice(0,p),n.text=m.slice(p+2)):n.text=m,n}async function ra(a){const e={packetHash:a.packet_hash,success:!1,channelHash:"",packetTimestamp:a.timestamp,rssi:a.rssi,snr:a.snr};if((a.type??a.payload_type)!==5)return e;const o=F(a.raw_packet);if(!o||o.length<4)return e;const s=o[0],t=o.slice(1,3),l=o.slice(3);e.channelHash=E(s,!0);const i=await ta(s,t,l);if(!i)return e;const{keys:r,plaintext:h,macCorrupted:c}=i;if(h.length<5)return e;const y=M(h,0),w=h[4],b=new TextDecoder("utf-8",{fatal:!1}).decode(h.slice(5)).replace(/\uFFFD/g,"").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,"").replace(/\x00+$/,"").trim();e.success=!0,e.channelName=r.name,e.timestamp=y,e.flags=w,e.macCorrupted=c;const m=b.indexOf(": ");return m>0?(e.senderName=b.slice(0,m),e.text=b.slice(m+2)):e.text=b,e}let A=!1,v=null;function ia(){return A?new Promise(a=>{v=a}):Promise.resolve()}const I=32,ca=100;self.onmessage=async a=>{const e=a.data;switch(e.type){case"decrypt":{const n=performance.now();e.knownKey||await oa();const o=e.packets,s=e.knownKey;let t=0,l=0,i=0,r=[];const h=()=>{r.length>0&&(self.postMessage({type:"results",results:r}),r=[])};for(let y=0;y<o.length;y+=I){await ia();const w=Math.min(y+I,o.length),f=o.slice(y,w),b=await Promise.all(f.map(p=>s?la(p,s):ra(p)));for(const p of b)p.success&&(t++,r.push(p),r.length>=ca&&h());l+=f.length;const m=performance.now();m-i>100&&(self.postMessage({type:"progress",processed:l,total:o.length}),i=m)}h();const c=performance.now()-n;self.postMessage({type:"batchComplete",successCount:t,totalCount:o.length,computeTimeMs:c});break}case"pause":A=!0;break;case"resume":A=!1,v&&(v(),v=null);break;case"stop":A=!1,v&&(v(),v=null);break}},self.postMessage({type:"ready"})})();
