import{c as e}from"./index-BY6uUKaW.js";import{r as a,c as r,j as t}from"./vendor-react-j_fHog8x.js";import{s}from"./signal-scoring-CcBiRcks.js";const o=e("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),n=e("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),i=e("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),l=e("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),c=e("signal-high",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}]]),p=e("signal-low",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}]]),d=e("signal-medium",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}]]),m=e("signal-zero",[["path",{d:"M2 20h.01",key:"4haj6o"}]]),h=e("signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),u=e("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function x(e){var a;const r=(null==(a=e.contact_type)?void 0:a.toLowerCase())??"";return"room server"===r||"room_server"===r||"room"===r||"server"===r?{type:"room_server",isRepeater:!0===e.is_repeater,isCompanion:!1,isRoomServer:!0,isClient:!1,label:"Room Server",badgeText:"ROOM"}:"companion"===r?{type:"companion",isRepeater:!1,isCompanion:!0,isRoomServer:!1,isClient:!1,label:"Companion",badgeText:"COMP"}:"client"===r||"cli"===r?{type:"companion",isRepeater:!1,isCompanion:!1,isRoomServer:!1,isClient:!0,label:"Client",badgeText:"CLI"}:"repeater"===r||"rep"===r||!0===e.is_repeater?{type:"repeater",isRepeater:!0,isCompanion:!1,isRoomServer:!1,isClient:!1,label:"Repeater",badgeText:"RPT"}:{type:"unknown",isRepeater:!1,isCompanion:!1,isRoomServer:!1,isClient:!1,label:"Unknown",badgeText:""}}function y(e,a){const r=x({});if(!e||!a)return{name:null,nodeType:r};const t=e.startsWith("0x")?e.slice(2):e;for(const[s,o]of Object.entries(a))if((s.startsWith("0x")?s.slice(2):s).toLowerCase().startsWith(t.toLowerCase()))return{name:o.name||o.node_name||null,nodeType:x(o)};return{name:null,nodeType:r}}const g={ADVERT:"purple",ACK:"emerald",REQ:"sky",RESPONSE:"sky",TXT_MSG:"teal",GRP_TXT:"teal",FLOOD:"sky",GRP_DATA:"indigo",PATH:"amber",MULTIPART:"violet",TRACE:"orange",ANON_REQ:"pink",RAW_CUSTOM:"fuchsia"},f={FLOOD:"sky",T_FLOOD:"sky",DIRECT:"cyan",T_DIRECT:"cyan"},k={rx:"sky",forward:"teal",duplicate:"zinc",tx:"amber",dropped:"rose"},b={neighbor:"amber",hub:"purple",gateway:"indigo",backbone:"purple",repeater:"teal",room:"pink",companion:"blue",client:"indigo",mobile:"orange"},v={hub:"amber",backbone:"purple",relay:"cyan",edge:"brown"},j={high:"green",medium:"amber",low:"orange",insufficient:"brown"},w={direct:"amber",multihop:"brown"},C={excellent:"color(display-p3 0.00 1.00 0.00)",good:"color(display-p3 0.55 0.90 0.15)",fair:"color(display-p3 1.00 0.85 0.00)",weak:"color(display-p3 1.00 0.55 0.15)",poor:"color(display-p3 1.00 0.20 0.20)"},R={excellent:"#4ADE80",good:"#A3E635",fair:"#FACC15",weak:"#FB923C",poor:"#EF4444"};function M(e){return e>=-90?"excellent":e>=-100?"good":e>=-110?"fair":e>=-120?"weak":"poor"}function T(e,a,r=!0){return a?r?{backgroundColor:R[e],"--p3-color":C[e]}:{backgroundColor:"rgba(255, 255, 255, 0.25)"}:{backgroundColor:"rgba(255, 255, 255, 0.1)"}}function A(e,a=!0){return e&&a?"signal-bar-active":""}function _({rssi:e,className:a="w-4 h-4"}){const s=M(e),o=function(e){switch(e){case"excellent":return"text-signal-excellent";case"good":return"text-signal-good";case"fair":return"text-signal-fair";case"weak":return"text-signal-poor";case"poor":return"text-signal-critical";default:return"text-fg-muted"}}(s),n=r(o,a);switch(s){case"excellent":return t.jsx(h,{className:n});case"good":return t.jsx(c,{className:n});case"fair":return t.jsx(d,{className:n});case"weak":return t.jsx(p,{className:n});default:return t.jsx(m,{className:n})}}const N=a.memo(function({rssi:e,snr:a,compact:o=!1,showValues:n=!0,radioConfig:i,nfPenalty:l=0,validated:c=!0}){const p=void 0!==a?function(e,a,r,t=0){const o=s(a,e,r,t);return o?function(e){switch(e){case"excellent":return"excellent";case"good":return"good";case"fair":return"fair";case"poor":return"weak";case"critical":return"poor"}}(o.finalGrade):M(e)}(e,a,i,l):M(e),d={excellent:4,good:3,fair:2,weak:1,poor:0}[p];return o?t.jsxs("div",{className:"flex items-center gap-1.5",children:[n&&t.jsx("span",{className:r("type-data-xs w-[32px] text-left",c?"text-fg-secondary":"text-fg-muted"),children:e}),t.jsx("div",{className:"flex items-center gap-[2px] h-3 w-[14px]",children:Array.from({length:4}).map((e,a)=>t.jsx("div",{className:r("w-[3px] h-full rounded-[1px] transition-colors",A(a<d,c)),style:T(p,a<d,c)},a))})]}):t.jsxs("div",{className:"flex items-center gap-2",children:[n&&t.jsxs("div",{className:"flex flex-col items-start w-[52px]",children:[t.jsxs("span",{className:r("type-data-xs leading-tight",c?"text-fg-secondary":"text-fg-muted"),children:[e," dBm"]}),void 0!==a&&t.jsxs("span",{className:"type-data-xs text-fg-muted leading-tight",children:[a.toFixed(1)," dB"]})]}),t.jsx("div",{className:"flex items-center gap-[2px] h-3.5 w-[14px]",children:Array.from({length:4}).map((e,a)=>t.jsx("div",{className:r("w-[3px] h-full rounded-[1px] transition-colors",A(a<d,c)),style:T(p,a<d,c)},a))})]})});function O(e){const a=M(e);return a.charAt(0).toUpperCase()+a.slice(1)}function E(e){if("tx_local"===e.packet_origin)return!1;if("tx_forward"===e.packet_origin)return!1;const a=Array.isArray(e.original_path)?e.original_path:[],r=Array.isArray(e.forwarded_path)?e.forwarded_path:[];return!(a.length>0||r.length>0)}export{o as A,l as C,k as D,w as H,v as N,g as P,f as R,N as S,u as Z,i as a,h as b,O as c,n as d,x as e,b as f,y as g,_ as h,E as i,j};
