import{r as l,j as m}from"./vendor-react-CHg3w57L.js";import{a as u}from"./vendor-motion-CXybMqb1.js";import{b0 as c}from"./index-B4woLUMa.js";import{a as A,p}from"./vendor-core-CgllfypI.js";const f=400;function T({value:e,format:t,prefix:a,className:n,style:o}){const[s,g]=l.useState("waiting");if(l.useEffect(()=>{const i=setTimeout(()=>g("mounted"),f);return()=>clearTimeout(i)},[]),l.useEffect(()=>{if(s==="mounted"){const i=requestAnimationFrame(()=>g("animating"));return()=>cancelAnimationFrame(i)}},[s]),s==="waiting"){const i=0 .toLocaleString(void 0,t);return m.jsxs("span",{className:n,style:o,children:[a,i]})}return m.jsx(u,{className:n,style:o,format:t,prefix:a,transition:c.numberReveal,children:s==="animating"?e:0})}const r=["repeater","companion","room_server","hubs","direct"],d={showTopology:!1,showNeighborLines:!0,show3DTerrain:!1,showMinCut:!1,showLinkQuality:!1,nodeFilters:[...r]},F=A()(p(e=>({viewState:null,setViewState:t=>e({viewState:t,lastSavedAt:Date.now()}),toggles:d,setToggle:(t,a)=>e(n=>({toggles:{...n.toggles,[t]:a},lastSavedAt:Date.now()})),setToggles:t=>e(a=>({toggles:{...a.toggles,...t},lastSavedAt:Date.now()})),hasAnalyzed:!1,setHasAnalyzed:t=>e({hasAnalyzed:t,lastSavedAt:Date.now()}),modalMapOpen:!1,setModalMapOpen:t=>e({modalMapOpen:t}),lastSavedAt:null,reset:()=>e({viewState:null,toggles:d,hasAnalyzed:!1,lastSavedAt:null})}),{name:"pymc-map-view",version:2,migrate:(e,t)=>{const a=e,n=a.toggles??{};if(t===0){const o=n.nodeFilter;let s=[...r];return o==="hubs"?s=["hubs"]:o==="direct"&&(s=["direct"]),{...a,toggles:{...n,nodeFilters:s,nodeFilter:void 0}}}if(t===1){const o=n.nodeFilters,s=o&&o.length>0?o:[...r];return{...a,toggles:{...n,nodeFilters:s}}}return e},partialize:e=>({viewState:e.viewState,toggles:e.toggles,hasAnalyzed:e.hasAnalyzed,lastSavedAt:e.lastSavedAt})}));export{r as A,T as D,F as u};
