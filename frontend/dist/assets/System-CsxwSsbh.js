import{r as e,j as s,c as t}from"./vendor-react-Co0R0q1H.js";import{c as r,bH as n,bz as a,e as l,h as o,y as i,bI as c,bJ as d,bK as m,bL as u,bM as x,b1 as p,B as h,bN as f,bO as g}from"./index-C66hrd0t.js";import{C as y,P as j,a as b,B as v}from"./PageLayout-C-F7Chr_.js";import{T as w}from"./triangle-alert-XBu0R2Es.js";import{a as N,A as M}from"./arrow-up-XEz_ULgm.js";import{N as k}from"./network-CgRNLes8.js";import{A as R}from"./activity-BNLHaVDB.js";import{R as C}from"./refresh-cw-BcyqZYrX.js";import{R as S,C as F}from"./Grid-CTmu8x0g.js";import"./maplibre-gl-b91ci4Kr.js";import"./vendor-core-B_fdKJ1g.js";const _=r("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),B=r("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),P=r("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),$=[{pos:0,color:n(a.purple)},{pos:.25,color:n(a.indigo)},{pos:.5,color:n(a.cyan)},{pos:.75,color:n(a.amber)},{pos:1,color:n(a.red)}];function E(e){const s=Math.max(0,Math.min(1,e));let t=$[0],r=$[$.length-1];for(let l=0;l<$.length-1;l++)if(s>=$[l].pos&&s<=$[l+1].pos){t=$[l],r=$[l+1];break}const n=r.pos-t.pos,a=n>0?(s-t.pos)/n:0;return function(e,s,t){const r=2.2,n=1/r,a=Math.pow(e.r/255,r),l=Math.pow(e.g/255,r),o=Math.pow(e.b/255,r),i=Math.pow(s.r/255,r),c=Math.pow(s.g/255,r),d=Math.pow(s.b/255,r);return{r:Math.round(255*Math.pow(a+t*(i-a),n)),g:Math.round(255*Math.pow(l+t*(c-l),n)),b:Math.round(255*Math.pow(o+t*(d-o),n))}}(t.color,r.color,a)}const T=o.hero;function A(){const e=getComputedStyle(document.documentElement);return{fontFamily:e.getPropertyValue("--font-data").trim()||'"JetBrains Mono", ui-monospace, monospace',textPrimary:e.getPropertyValue("--text-primary").trim()||"#FFFFFF",textMuted:e.getPropertyValue("--text-muted").trim()||"#727272",gridColor:e.getPropertyValue("--chart-grid").trim()||"rgba(255, 255, 255, 0.06)"}}const L=e.memo(function({data:t,cpuColor:r,memoryColor:n}){const a=e.useRef(null),o=e.useRef(null),i=e.useRef([]),c=e.useRef(r),d=e.useRef(n),m=e.useRef(null),u=e.useRef(t.length);e.useLayoutEffect(()=>{c.current=r,d.current=n}),e.useEffect(()=>{m.current=A()},[]);const x=e.useMemo(()=>function(e){const s=[],t=Math.max(0,T-e.length);for(let n=0;n<t;n++)s.push({timestamp:n,time:"",cpu:null,memory:null});const r=e.slice(-T);for(let n=0;n<r.length;n++){const e=r[n];s.push({timestamp:t+n,time:e.time.slice(0,5),cpu:e.cpu,memory:e.memory})}return s}(t),[t]);e.useLayoutEffect(()=>{i.current=x},[x]);const p=e.useMemo(()=>[x.map(e=>e.timestamp),new Array(x.length).fill(1)],[x]),h=e.useMemo(()=>({hooks:{draw:e=>{const s=m.current||A();!function(e,s,t,r,n){if(0===s.length)return;const a=e.ctx,{left:l,top:o,width:i,height:c}=e.bbox,d=window.devicePixelRatio||1;if(i<=0||c<=0)return;const m=s.length;if(0===m)return;const u=i/m,x=e=>l+(e+.5)*u,p=e=>{const s=Math.min(Math.max(e/100,0),1);return o+c*(1-s)};a.save(),a.strokeStyle=n.textPrimary,a.globalAlpha=.1,a.lineWidth=1*d,a.setLineDash([4*d,4*d]);for(const b of[25,50,75]){const e=Math.round(p(b))+.5;a.beginPath(),a.moveTo(Math.round(l),e),a.lineTo(Math.round(l+i),e),a.stroke()}a.restore(),a.save(),a.font=`bold ${10*d}px ${n.fontFamily}`,a.fillStyle=n.textMuted,a.textBaseline="middle",a.textAlign="left";const h=8*d;for(const b of[0,25,50,75,100]){const e=p(b),s=Math.max(o+h,Math.min(o+c-h,e));a.fillText(`${b}%`,4*d,s)}a.restore(),a.save();for(let b=0;b<m;b++){const e=s[b];if(!e||null===e.cpu)continue;const t=x(b)-u/2,r=p(e.cpu),n=o+c-r,l=E(Math.pow(e.cpu/100,.7));a.fillStyle=`rgba(${l.r}, ${l.g}, ${l.b}, 0.85)`,a.fillRect(t,r,u,n)}a.restore(),a.save(),a.lineWidth=2.5*d,a.lineCap="round",a.lineJoin="round",a.strokeStyle=r;let f=!1,g=0;for(let b=0;b<m;b++){const e=s[b];if(!e||null===e.memory){f&&(a.stroke(),a.beginPath(),f=!1);continue}const t=x(b),r=p(e.memory);f?(a.lineTo(t,g),a.lineTo(t,r)):(a.beginPath(),a.moveTo(t,r),f=!0),g=r}f&&a.stroke(),a.restore(),a.save(),a.font=`${10*d}px ${n.fontFamily}`,a.fillStyle=n.textMuted,a.textBaseline="top",a.textAlign="center";const y=o+c+6*d,j=Math.max(1,Math.floor(m/4));for(let b=0;b<m;b+=j){const e=s[b];e&&e.time&&a.fillText(e.time,x(b),y)}if(m>0){const e=s[m-1];(null==e?void 0:e.time)&&(a.textAlign="right",a.fillText(e.time,x(m-1),y))}a.restore()}(e,i.current,c.current,d.current,s)}}}),[]),f=e.useMemo(()=>({width:400,height:240,padding:[4,8,4,36],cursor:{show:!1,x:!1,y:!1,drag:{x:!1,y:!1},points:{show:!1}},scales:{x:{time:!1},y:{range:[0,100]}},axes:[{show:!1},{show:!1}],series:[{},{show:!1}],plugins:[h]}),[h]);return e.useEffect(()=>{const e=a.current;if(!e||0===x.length)return;const s=u.current,r=t.length,n=Math.abs(r-s);if(!(!o.current||n>50||s>0&&n/s>.2)&&o.current)return o.current.setData(p),void(u.current=r);o.current&&o.current.destroy();const i=e.getBoundingClientRect(),c=Math.floor(i.width)||400,d=Math.floor(i.height)||240,m=new l({...f,width:c,height:d},p,e);return o.current=m,u.current=r,()=>{m.destroy(),o.current=null}},[f,p,x.length,t.length]),e.useEffect(()=>{const e=a.current;if(!e)return;const s=new ResizeObserver(e=>{const s=e[0];if(!s||!o.current)return;const{width:t,height:r}=s.contentRect;t>0&&r>0&&o.current.setSize({width:Math.floor(t),height:Math.floor(r)})});return s.observe(e),()=>{s.disconnect()}},[]),e.useEffect(()=>{o.current&&o.current.redraw()},[r,n,x]),0===t.length?s.jsx("div",{className:"flex-1 min-h-[180px] flex items-center justify-center text-fg-muted",children:"Collecting data..."}):s.jsx("div",{className:"relative flex-1 min-h-[180px]",children:s.jsx("div",{ref:a,className:"absolute inset-0 radius-inner overflow-hidden"})})}),z=e.memo(function({data:t,color:r,flipped:n=!1,fixedSlots:a}){const o=e.useRef(null),i=e.useRef(null),c=e.useRef(t),d=e.useRef(r),m=e.useRef(n),u=e.useRef(a);e.useLayoutEffect(()=>{c.current=t,d.current=r,m.current=n,u.current=a});const x=e.useMemo(()=>[Array.from({length:a},(e,s)=>s),new Array(a).fill(1)],[a]),p=e.useMemo(()=>({hooks:{draw:e=>{!function(e,s,t,r,n){const a=e.ctx,{left:l,top:o,width:i,height:c}=e.bbox;if(i<=0||c<=0)return;const d=[...Array(Math.max(0,n-s.length)).fill(0),...s.slice(-n)],m=Math.max(...d,1),u=d.length,x=i/u,p=.03*c;a.save();for(let h=0;h<u;h++){const e=d[h],s=l+h*x;if(e<=0)continue;const t=Math.min(e/m,1),n=Math.max(t*c,p),i=Math.min(e/1048576,1),u=E(Math.pow(i,.7));a.fillStyle=`rgb(${u.r}, ${u.g}, ${u.b})`,r?a.fillRect(s,o,x,n):a.fillRect(s,o+c-n,x,n)}a.restore()}(e,c.current,d.current,m.current,u.current)}}}),[]),h=e.useMemo(()=>({width:400,height:40,padding:[0,0,0,0],legend:{show:!1},cursor:{show:!1,x:!1,y:!1,drag:{x:!1,y:!1},points:{show:!1}},scales:{x:{time:!1},y:{range:[0,1]}},axes:[{show:!1},{show:!1}],series:[{},{show:!1,label:""}],plugins:[p]}),[p]);return e.useEffect(()=>{const e=o.current;if(!e)return;i.current&&i.current.destroy();const s=e.getBoundingClientRect(),t=Math.floor(s.width)||400,r=Math.floor(s.height)||40,n=new l({...h,width:t,height:r},x,e);return i.current=n,()=>{n.destroy(),i.current=null}},[h,x]),e.useEffect(()=>{const e=o.current;if(!e)return;const s=new ResizeObserver(e=>{const s=e[0];if(!s||!i.current)return;const{width:t,height:r}=s.contentRect;t>0&&r>0&&i.current.setSize({width:Math.floor(t),height:Math.floor(r)})});return s.observe(e),()=>{s.disconnect()}},[]),e.useEffect(()=>{i.current&&i.current.redraw()},[t,r,n]),s.jsx("div",{ref:o,className:"w-full h-full"})}),O={warning:80,danger:95},D={warning:85,danger:95},H={warning:70,danger:85},U=[{threshold:30,color:"var(--sys-cyan)"},{threshold:50,color:"var(--sys-blue)"},{threshold:65,color:"var(--sys-indigo)"},{threshold:80,color:"var(--signal-poor)"}];function G(e,s,t){const r=t-s,n={cold:(30-s)/r*100,normal:(50-s)/r*100,warm:(65-s)/r*100,hot:(80-s)/r*100};return`linear-gradient(to right, ${[{pos:0,color:"var(--sys-cyan)"},{pos:n.cold,color:"var(--sys-cyan)"},{pos:n.cold,color:"var(--sys-blue)"},{pos:n.normal,color:"var(--sys-blue)"},{pos:n.normal,color:"var(--sys-indigo)"},{pos:n.warm,color:"var(--sys-indigo)"},{pos:n.warm,color:"var(--signal-poor)"},{pos:n.hot,color:"var(--signal-poor)"},{pos:n.hot,color:"var(--sys-red)"},{pos:100,color:"var(--sys-red)"}].map(s=>{const t=e>0?s.pos/e*100:0;return`${s.color} ${Math.min(t,100)}%`}).join(", ")})`}function I(e,s){return e>=s.danger?"danger":e>=s.warning?"warning":"none"}function V(e){let s="none";for(const t of Object.values(e)){const e=I(t,H);if("danger"===e)return"danger";"warning"===e&&(s="warning")}return s}function W(e){let s,t,r;return e>=1073741824?(s=e/1073741824,t="GB/s"):e>=1048576?(s=e/1048576,t="MB/s"):e>=1024?(s=e/1024,t="KB/s"):(s=e,t="B/s"),r=s>=100?s.toFixed(0):s.toFixed(1),`${r} ${t}`}function J(e){return e>=1073741824?{value:(e/1073741824).toFixed(1),unit:"GiB"}:e>=1048576?{value:(e/1048576).toFixed(1),unit:"MiB"}:e>=1024?{value:(e/1024).toFixed(1),unit:"KiB"}:{value:String(e),unit:"B"}}const K=e.memo(function({level:e}){return"none"===e?null:s.jsxs("span",{className:t("inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium","danger"===e&&"bg-sys-red/20 text-sys-red","warning"===e&&"bg-sys-indigo/20 text-sys-indigo"),children:[s.jsx(w,{className:"w-3 h-3"}),"danger"===e?"High":"Warn"]})}),X=e.memo(function({value:e,max:t=100,width:r=10,color:n="primary"}){const a=Math.min(e/t,1),l=Math.round(a*r),o=r-l,i="■".repeat(l),c="·".repeat(o),d={primary:"text-sys-blue",secondary:"text-sys-indigo",success:"text-sys-green",danger:"text-sys-red"}[n];return s.jsxs("span",{className:"font-mono text-[10px] tracking-tight",children:[s.jsx("span",{className:d,children:i}),s.jsx("span",{className:"text-fg-muted/40",children:c})]})}),q=e.memo(function({index:e,usage:r}){const n=r>90?"danger":r>70?"secondary":"primary";return s.jsxs("div",{className:"flex items-center gap-1 type-data-xs",children:[s.jsxs("span",{className:"text-fg-muted w-5",children:["C",e]}),s.jsx(X,{value:r,width:8,color:n}),s.jsxs("span",{className:t("w-7 text-right tabular-nums",r>90?"text-sys-red":r>70?"text-sys-indigo":"text-sys-green"),children:[r.toFixed(0),"%"]})]})}),Y=e.memo(function({pid:e,name:r,cpu:n,mem:a,isTopCpu:l=!1,isTopMem:o=!1}){return s.jsxs("div",{className:"flex items-center gap-2 py-1 type-data-sm hover:bg-subtle-fill -mx-1 px-1 rounded",children:[s.jsx("span",{className:"text-fg-muted w-10 sm:w-14 tabular-nums",children:e}),s.jsx("span",{className:"flex-1 truncate text-fg-primary",children:r}),s.jsx("span",{className:"hidden sm:inline-flex",children:s.jsx(X,{value:n,max:100,width:6,color:n>50?"danger":n>20?"secondary":"success"})}),s.jsx("span",{className:t("w-10 sm:w-12 text-right tabular-nums",l?"text-fg-primary":n>50?"text-sys-red":n>20?"text-sys-indigo":"text-fg-muted"),children:n.toFixed(1)}),s.jsx("span",{className:t("w-10 sm:w-12 text-right tabular-nums",o?"text-fg-primary":a>50?"text-sys-red":a>20?"text-sys-indigo":"text-fg-muted"),children:a.toFixed(1)})]})}),Z=e.memo(function({value:e,label:t,min:r=20,max:n=100}){const a=Math.min(Math.max((e-r)/(n-r)*100,0),100),l=function(e){return e<30?{text:"Cool",color:"text-sys-cyan"}:e<50?{text:"Normal",color:"text-sys-blue"}:e<65?{text:"Warm",color:"text-sys-indigo"}:e<80?{text:"Hot",color:"text-signal-poor"}:{text:"Danger",color:"text-sys-red"}}(e),o=n-r;return s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"type-data-sm text-fg-muted",children:t}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"type-data-sm text-fg-muted",children:l.text}),s.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded type-data-sm",children:[s.jsx("span",{className:l.color,children:e.toFixed(1)}),s.jsx("span",{className:"text-fg-primary",children:"°C"})]})]})]}),s.jsxs("div",{className:"relative h-3 rounded-full bg-subtle-fill/80 depth-stroke-inset overflow-hidden",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-300 ease-out",style:{background:G(a,r,n),width:`${a}%`}}),s.jsx("div",{className:"absolute inset-0 flex items-center pointer-events-none",children:U.map(({threshold:e,color:t})=>{const n=(e-r)/o*100;return n<0||n>100?null:s.jsx("div",{className:"absolute w-px h-full",style:{left:`${n}%`,backgroundColor:t}},e)})})]})]})});e.memo(function({data:e,color:t,flipped:r=!1,fixedSlots:n}){const a=[...Array(Math.max(0,n-e.length)).fill(0),...e.slice(-n)],l=Math.max(...a,1),o=a.map(e=>0===e?0:Math.max(e/l*100,3));return s.jsx("div",{className:"w-full h-full flex items-end",style:{transform:r?"scaleY(-1)":void 0},children:o.map((e,r)=>s.jsx("div",{className:"flex-1 min-w-0",style:{height:e>0?`${e}%`:"0%",backgroundColor:e>0?t:"transparent"}},r))})});const Q=e.memo(function({networkHistory:e,txRate:t,rxRate:r,totalBytesSent:n,totalBytesRecv:a,cpuColor:l,memoryColor:o,networkSlots:c}){return s.jsxs(y,{neomorphic:!0,className:"flex flex-col",children:[s.jsx(i,{icon:s.jsx(k,{}),title:"Network",actions:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(N,{className:"w-3.5 h-3.5",style:{color:o}}),s.jsx("span",{className:"type-data-xs",style:{color:o},children:"TX"}),s.jsx("span",{className:"px-2 py-1 bg-subtle-fill-strong rounded type-data-sm text-fg-primary",children:W(t)})]})}),s.jsxs("div",{className:"flex flex-col h-[120px]",children:[s.jsx("div",{className:"h-[60px]",children:s.jsx(z,{data:e.map((e,s,t)=>{if(0===s)return 0;const r=(e.timestamp-t[s-1].timestamp)/1e3;return r>0?(e.bytesSent-t[s-1].bytesSent)/r:0}),color:o,fixedSlots:c})}),s.jsx("div",{className:"h-[60px]",children:s.jsx(z,{data:e.map((e,s,t)=>{if(0===s)return 0;const r=(e.timestamp-t[s-1].timestamp)/1e3;return r>0?(e.bytesRecv-t[s-1].bytesRecv)/r:0}),color:l,flipped:!0,fixedSlots:c})})]}),s.jsxs("div",{className:"pt-2 flex flex-wrap justify-between items-center gap-2 type-data-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("span",{className:"text-fg-muted",children:"Total"}),s.jsxs("span",{className:"px-1.5 sm:px-2 py-1 bg-subtle-fill-strong rounded tabular-nums",children:[s.jsx("span",{style:{color:o},children:J(n).value})," ",s.jsx("span",{className:"text-fg-muted",children:J(n).unit})]}),s.jsxs("span",{className:"px-1.5 sm:px-2 py-1 bg-subtle-fill-strong rounded tabular-nums",children:[s.jsx("span",{style:{color:l},children:J(a).value})," ",s.jsx("span",{className:"text-fg-muted",children:J(a).unit})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(M,{className:"w-3.5 h-3.5",style:{color:l}}),s.jsx("span",{className:"type-data-xs",style:{color:l},children:"RX"}),s.jsx("span",{className:"px-1.5 sm:px-2 py-1 bg-subtle-fill-strong rounded tabular-nums text-fg-primary",children:W(r)})]})]})]})}),ee=e.memo(function({temperatures:e}){return s.jsxs(y,{neomorphic:!0,className:"flex flex-col",children:[s.jsx(i,{icon:s.jsx(P,{}),title:"Temperature",actions:e&&s.jsx(K,{level:V(e)})}),s.jsx("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:e&&Object.keys(e).length>0?s.jsxs("div",{className:"space-y-3",children:[void 0!==e.cpu_thermal&&s.jsx(Z,{value:e.cpu_thermal,label:"CPU",min:20,max:100}),Object.entries(e).filter(([e])=>"cpu_thermal"!==e).slice(0,2).map(([e,t])=>s.jsx(Z,{value:t,label:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),min:20,max:100},e))]}):s.jsxs("div",{className:"flex items-center justify-center text-fg-muted text-sm",children:[s.jsx(R,{className:"w-4 h-4 mr-2"}),"No sensors"]})})]})}),se=e.memo(function({usagePercent:e,used:t,available:r,memoryColor:n}){return s.jsxs(y,{neomorphic:!0,className:"flex flex-col",children:[s.jsx(i,{icon:s.jsx(R,{}),title:"Memory",actions:s.jsxs("span",{className:"px-2 py-0.5 bg-subtle-fill-strong rounded type-data",style:{color:n},children:[e.toFixed(0),"%"]})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:[s.jsxs("div",{className:"flex gap-1 h-12 radius-inner bg-subtle-fill/80 depth-stroke-inset overflow-hidden",children:[s.jsx("div",{className:"h-full transition-all duration-300 bg-sys-blue",style:{width:`${e}%`}}),s.jsx("div",{className:"h-full transition-all duration-300 bg-subtle-fill/80",style:{width:100-e+"%"}})]}),s.jsxs("div",{className:"flex items-center justify-between type-data-xs pt-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-sys-blue"}),s.jsx("span",{className:"text-fg-muted",children:"Used"}),s.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-primary",children:[(t/1048576).toFixed(0)," MB"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-subtle-fill-strong depth-stroke-raised"}),s.jsx("span",{className:"text-fg-muted",children:"Avail"}),s.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-muted",children:[(r/1048576).toFixed(0)," MB"]})]})]})]})]})}),te=e.memo(function({usagePercent:e,used:t,free:r,cpuColor:n}){return s.jsxs(y,{neomorphic:!0,className:"flex flex-col",children:[s.jsx(i,{icon:s.jsx(B,{}),title:"Disk",actions:s.jsxs("span",{className:"px-2 py-0.5 bg-subtle-fill-strong rounded type-data",style:{color:n},children:[e.toFixed(0),"%"]})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:[s.jsxs("div",{className:"flex gap-1 h-12 radius-inner bg-subtle-fill/80 depth-stroke-inset overflow-hidden",children:[s.jsx("div",{className:"h-full transition-all duration-300 bg-sys-blue",style:{width:`${e}%`}}),s.jsx("div",{className:"h-full transition-all duration-300 bg-subtle-fill/80",style:{width:100-e+"%"}})]}),s.jsxs("div",{className:"flex items-center justify-between type-data-xs pt-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-sys-blue"}),s.jsx("span",{className:"text-fg-muted",children:"Used"}),s.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-primary",children:[(t/1073741824).toFixed(1)," GB"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-subtle-fill-strong depth-stroke-raised"}),s.jsx("span",{className:"text-fg-muted",children:"Free"}),s.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-muted",children:[(r/1073741824).toFixed(1)," GB"]})]})]})]})]})}),re=e.memo(function({processes:e}){if(0===e.length)return null;const t=e.slice(0,10),r=Math.max(...t.map(e=>e.cpu_percent)),n=Math.max(...t.map(e=>e.memory_percent));return s.jsx(y,{neomorphic:!0,noPadding:!0,children:s.jsxs("div",{className:"px-4 py-3",children:[s.jsx(i,{icon:s.jsx(R,{}),title:"Processes"}),s.jsxs("div",{className:"flex items-center gap-2 py-1.5 type-data-sm text-fg-muted",children:[s.jsx("span",{className:"w-10 sm:w-14",children:"PID"}),s.jsx("span",{className:"flex-1",children:"Program"}),s.jsx("span",{className:"hidden sm:block w-[52px]"}),s.jsx("span",{className:"w-10 sm:w-12 text-right",children:"CPU%"}),s.jsx("span",{className:"w-10 sm:w-12 text-right",children:"MEM%"})]}),t.map(e=>s.jsx(Y,{pid:e.pid,name:e.name,cpu:e.cpu_percent,mem:e.memory_percent,isTopCpu:e.cpu_percent===r&&r>0,isTopMem:e.memory_percent===n&&n>0},e.pid))]})})}),ne=o.hero;function ae(){var r;const n=c(),a=d(),l=m(),w=u(),N=x(),[M,k]=e.useState([]),[B,P]=e.useState(!1),[$,E]=e.useState([]),[T,A]=e.useState(0),[z,H]=e.useState(0),U=e.useRef(null),G=p(),V=G.blue,W=G.amber,J=function(){const[s,t]=e.useState("undefined"!=typeof window&&window.matchMedia("(max-width: 767px)").matches);return e.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)");t(e.matches);const s=e=>t(e.matches);return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[]),s?o.hero:40}();return e.useEffect(()=>{if(!n)return;const e=Date.now(),s={timestamp:e,bytesRecv:n.network.bytes_recv,bytesSent:n.network.bytes_sent};if(U.current){const t=(e-U.current.timestamp)/1e3;if(t>0){const e=(s.bytesRecv-U.current.bytesRecv)/t,r=(s.bytesSent-U.current.bytesSent)/t;e>=0&&r>=0&&(A(e),H(r))}}U.current=s,E(e=>[...e,s].slice(-ne))},[n]),e.useEffect(()=>{let e=!0;const s=async()=>{var s;const t=await g();e&&t.success&&(null==(s=t.data)?void 0:s.processes)&&k(t.data.processes)};s();const t=setInterval(s,5e3);return()=>{e=!1,clearInterval(t)}},[]),s.jsxs(j,{children:[s.jsx(b,{title:"System Stats",icon:s.jsx(_,{}),controls:s.jsxs(h,{color:"muted",onClick:async()=>{var e;P(!0),await w();const s=await g();s.success&&(null==(e=s.data)?void 0:e.processes)&&k(s.data.processes),P(!1)},disabled:B,children:[s.jsx(C,{"data-slot":"icon",className:t(B&&"animate-spin")}),"Refresh"]})}),s.jsxs(v,{children:[l&&s.jsx(y,{className:"border border-sys-red/50 bg-sys-red/10",children:s.jsx("p",{className:"text-sys-red",children:l})}),a?s.jsx(y,{neomorphic:!0,className:"p-12 text-center",children:s.jsx("div",{className:"animate-pulse text-fg-muted",children:"Loading system stats..."})}):n?s.jsxs(s.Fragment,{children:[s.jsx(S,{template:"hero",children:s.jsxs(y,{neomorphic:!0,className:"pb-2 sm:pb-3",children:[s.jsx(i,{icon:s.jsx(R,{}),title:"System Resources",stackActionsOnMobile:!0,actions:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[(null==(r=n.system)?void 0:r.uptime)&&s.jsx("span",{className:"px-2 py-0.5 bg-subtle-fill rounded type-data-sm text-fg-primary",children:f(n.system.uptime)}),s.jsx(K,{level:I(n.cpu.usage_percent,O)}),s.jsx(K,{level:I(n.memory.usage_percent,D)}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("span",{className:"type-data-sm text-fg-muted",children:"CPU"}),s.jsxs("span",{className:"text-sm sm:text-base font-mono font-semibold tabular-nums",style:{color:V},children:[n.cpu.usage_percent.toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("span",{className:"type-data-sm text-fg-muted",children:"MEM"}),s.jsxs("span",{className:"text-sm sm:text-base font-mono font-semibold tabular-nums",style:{color:W},children:[n.memory.usage_percent.toFixed(0),"%"]})]})]})}),s.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:s.jsx(L,{data:N,cpuColor:V,memoryColor:W})}),n.cpu.per_core_percent&&n.cpu.per_core_percent.length>0&&s.jsx("div",{className:"mt-3 pt-3 border-t border-edge-subtle",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-x-3 gap-y-0.5",children:n.cpu.per_core_percent.map((e,t)=>s.jsx(q,{index:t,usage:e},t))})})]})}),s.jsxs(S,{template:"compact",children:[s.jsx(F,{span:12,md:6,children:s.jsx(Q,{networkHistory:$,txRate:z,rxRate:T,totalBytesSent:n.network.bytes_sent,totalBytesRecv:n.network.bytes_recv,cpuColor:V,memoryColor:W,networkSlots:J})}),s.jsx(F,{span:12,md:6,children:s.jsx(ee,{temperatures:n.temperatures})})]}),s.jsxs(S,{template:"compact",children:[s.jsx(F,{span:12,sm:6,children:s.jsx(se,{usagePercent:n.memory.usage_percent,used:n.memory.used,available:n.memory.available,memoryColor:W})}),s.jsx(F,{span:12,sm:6,children:s.jsx(te,{usagePercent:n.disk.usage_percent,used:n.disk.used,free:n.disk.free,cpuColor:V})})]}),s.jsx(S,{template:"auto",children:s.jsx(re,{processes:M})})]}):null]})]})}export{ae as default};
