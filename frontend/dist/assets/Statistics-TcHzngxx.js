var e,t,s=Object.defineProperty,a=(e,t,a)=>((e,t,a)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a)(e,"symbol"!=typeof t?t+"":t,a);import{r as n,j as r,R as l,o as i,g as o,C as c,k as C,Y as A,T as D,i as B}from"./vendor-react-54o2BuWt.js";import{aN as F,aO as E,aP as m,az as d,c as u,aQ as h,aR as x,aS as p,al as g,aT as f,z as y,F as b,aU as v,aV as j,aW as k,aB as N,aX as w,aY as M,aC as S,f as T,j as R,h as P,u as $,r as L,v as z,k as H,t as _,aZ as O,n as I,a_ as W,a$ as V,R as q}from"./index-W7HOJkA3.js";import{u as G}from"./usePolling-CAy9T8nm.js";import{b as X,c as K,a as Y,d as Q,e as U,f as Z,s as J}from"./useThemeColors-BvPNffvW.js";import{L as ee,H as te,R as se}from"./route-B-i3IDor.js";import{C as ae}from"./compass-Bas5afHB.js";import{E as ne,T as re}from"./TimeRangeSelector-D9LcBXNu.js";import{a as le,P as ie,b as oe}from"./PageLayout-BreM1jWS.js";import{D as ce}from"./DataBox-B3hWOq8z.js";import{C as Ce}from"./CollisionExplorerModal-CXi5TyE5.js";import{C as Ae,a as De}from"./Card-ADh2cW78.js";import{I as Be}from"./info-nrh0xMkz.js";import{T as Fe}from"./triangle-alert-DJGP4SlO.js";import{G as Ee}from"./git-branch-vNLafFY9.js";import{R as me,C as de}from"./Grid-CORrqWoE.js";import{N as ue}from"./network-DlyPXQyX.js";import"./deckgl-DTsmDcfs.js";import"./vendor-core-dnrJb0w-.js";import"./BasemapLayer-DuDL4O6m.js";import"./maplibre-gl-Bk5DsYkB.js";import"./map-pin-BiNqduy8.js";const he={acton:{discrete:["#260D40","#2B1345","#2F194B","#342152","#382657","#3C2C5C","#403261","#443766","#483E6C","#4C4371","#504876","#544D7B","#57527F","#5D5884","#625C88","#685F8A","#6E618C","#74628D","#7B638D","#81638E","#88648E","#8E648E","#95658F","#9D658F","#A4668F","#AB6690","#B26790","#BB6992","#C26B94","#C86F97","#CD749B","#D07AA0","#D382A7","#D688AC","#D88FB2","#D995B8","#DB9CBD","#DEA4C4","#DFABC9","#E1B1CE","#E3B7D3","#E5BED8","#E6C5DE","#E8CBE2","#E9D0E6","#EBD6EA","#ECDBEE","#EDE1F3","#EFE6F6","#F0EAFA"],categorical:["#260D40","#F0EAFA","#A76690","#DDA1C2","#585380","#7D638E","#E8CAE1","#CF789E","#403261","#4C4371","#ECDBEE","#69608B","#E3B6D2","#D78CB0","#91648F","#BE6A92","#342152","#EAD3E8","#524B79","#73628D","#463A69","#605B86","#E5C0DA","#D382A7","#C86F97","#86648E","#EEE3F4","#DA97B9","#9B658F","#B26790","#2D1749","#E0ACCA","#3A2959","#8B648E","#311C4D","#EBD7EB","#EDDFF1","#AC6790","#A1668F","#6E618C","#E6C5DE","#78628D","#433665","#DEA7C6","#81638E","#554F7C","#B86891","#3D2D5D","#4F4775","#EFE7F7","#E9CEE4","#D27DA3","#2A1244","#655D89","#C36C94","#E1B1CE","#493F6D","#5C5783","#CC739A","#DB9CBD","#D892B4","#D587AB","#96658F","#E4BBD6","#362455","#4E4573","#7F638E","#D37FA5","#E1AECC","#382657","#EBD9ED","#DFA9C8","#A4668F","#8E648E","#99658F","#675F8A","#B56891","#BB6992","#E5BED8","#E2B4D0","#D07AA0","#71618C","#E6C2DC","#AA6690","#625C88","#EDE1F3","#E8CCE3","#AF6790","#CA7199","#C16B93","#453867","#57517E","#84638E","#4B416F","#E7C7DF","#423463","#514977","#3E2F5F","#544D7B","#93658F"]},bam:{discrete:["#65024B","#701057","#7B1B61","#88276E","#923078","#9B3881","#A4418A","#AC4993","#B5549C","#BC5CA3","#C266AB","#C970B2","#CF7AB9","#D587C1","#DA93C8","#DF9ECE","#E3AAD4","#E7B5DA","#EBC2E0","#EECCE5","#F1D5E9","#F3DDED","#F5E4F0","#F6EBF1","#F6EFF1","#F5F2F0","#F3F3ED","#EFF3E6","#EBF1DF","#E5EFD5","#DDEBCA","#D4E6BD","#C8DEAB","#BCD79B","#B0CE8C","#A3C67D","#97BC6F","#88B161","#7CA856","#72A04D","#679845","#5E903D","#538735","#4B7F2E","#427827","#397021","#306819","#245D10","#195507","#0D4C00"],categorical:["#65024B","#701057","#7B1B61","#88276E","#923078","#9B3881","#A4418A","#AC4993","#B5549C","#BC5CA3","#C266AB","#C970B2","#CF7AB9","#D587C1","#DA93C8","#DF9ECE","#E3AAD4","#E7B5DA","#EBC2E0","#EECCE5","#F1D5E9","#F3DDED","#F5E4F0","#F6EBF1","#F6EFF1","#F5F2F0","#F3F3ED","#EFF3E6","#EBF1DF","#E5EFD5","#DDEBCA","#D4E6BD","#C8DEAB","#BCD79B","#B0CE8C","#A3C67D","#97BC6F","#88B161","#7CA856","#72A04D","#679845","#5E903D","#538735","#4B7F2E","#427827","#397021","#306819","#245D10","#195507","#0D4C00"]},bamako:{discrete:["#003B47","#023C46","#053E45","#083F43","#0A4141","#0D4340","#0F443E","#12463C","#16483A","#194A38","#1C4D36","#204F34","#235132","#28542F","#2C572C","#305A2A","#355C27","#395F24","#3F6321","#44661E","#49691A","#4E6D17","#537014","#5A7410","#5F780D","#657C09","#6A7F05","#718302","#788501","#7F8700","#858800","#8C8A00","#948C01","#9B8E04","#A1920B","#A89713","#AE9C1B","#B7A225","#BEA82E","#C5AD37","#CBB341","#D2B84D","#D9BF5B","#DEC567","#E4CA73","#E9D07E","#EFD58A","#F5DB97","#FAE0A3","#FFE5AD"],categorical:["#003B47","#FFE5AD","#61790B","#B4A022","#245231","#406420","#898900","#DDC464","#0F443E","#EFD58A","#CAB23F","#194A38","#748401","#506E16","#9E9108","#315A29","#083F43","#A99815","#948C01","#6A7F05","#BFA930","#7F8700","#14473B","#1E4E35","#F7DD9C","#2A562D","#043D45","#597411","#E6CC77","#385F25","#48691B","#D4BB51","#0B4241","#8F8A00","#44661E","#1B4C37","#547113","#6F8203","#12463D","#998E03","#27542F","#4C6B18","#A4940E","#2E582B","#355C27","#B9A529","#215033","#EAD181","#FBE1A5","#C5AD37","#3C6122","#848800","#063E44","#E2C86E","#D9BF5B","#CFB648","#16493A","#798600","#023C46","#667C08","#5D770E","#0D433F","#AE9C1B","#F3D993","#094042","#A69611","#8C8A00","#053E45","#0C4240","#365E26","#6D8004","#9C8F05","#4A6A1A","#D6BD56","#B19E1F","#F9DFA0","#647B0A","#2F592A","#10453D","#818800","#C7AF3B","#46681C","#0E443F","#265330","#174A39","#335B28","#5B750F","#778501","#5F780D","#E8CF7C","#718302","#F1D78E","#978D02","#F5DB97","#204F34","#AC9A18","#29552E","#A1920B","#B7A225","#033C46"]},bamo:{discrete:["#4F3043","#56304B","#603354","#6D3961","#793F6B","#834675","#8D4E7E","#965587","#A05E91","#A86698","#B06EA0","#B877A7","#BF81AF","#C78DB8","#CD98BE","#D2A3C4","#D6ADC8","#D9B5CB","#DABECC","#DAC3CC","#D9C7CA","#D8CAC8","#D6CBC6","#D4CDC2","#D1CDBE","#CCCDB9","#C6CBB1","#BCC5A4","#B2BE97","#A7B58A","#9CAB7E","#92A174","#889669","#808D62","#79855C","#737D56","#6D7552","#666C4C","#616548","#5C5D45","#575642","#54503F","#50493D","#4D453C","#4B403B","#4A3C3A","#49393A","#49343B","#4A313E","#4E3042"],categorical:["#4F3043","#56304B","#603354","#6D3961","#793F6B","#834675","#8D4E7E","#965587","#A05E91","#A86698","#B06EA0","#B877A7","#BF81AF","#C78DB8","#CD98BE","#D2A3C4","#D6ADC8","#D9B5CB","#DABECC","#DAC3CC","#D9C7CA","#D8CAC8","#D6CBC6","#D4CDC2","#D1CDBE","#CCCDB9","#C6CBB1","#BCC5A4","#B2BE97","#A7B58A","#9CAB7E","#92A174","#889669","#808D62","#79855C","#737D56","#6D7552","#666C4C","#616548","#5C5D45","#575642","#54503F","#50493D","#4D453C","#4B403B","#4A3C3A","#49393A","#49343B","#4A313E","#4E3042"]},batlow:{discrete:["#011959","#06215B","#0A285C","#0D315D","#0E375E","#103D5F","#114260","#124761","#144D62","#165162","#195662","#1C5A62","#205E61","#26635F","#2C665D","#33695A","#3A6C57","#416F53","#4A724E","#52744A","#5A7745","#627941","#6A7B3D","#747E38","#7D8134","#868330","#8F862D","#9B892B","#A58B2C","#AF8D2E","#B98F32","#C29037","#CD923F","#D69446","#DE964F","#E69858","#ED9A62","#F39E70","#F8A17B","#FAA587","#FCA993","#FDAC9E","#FDB1AB","#FDB4B6","#FDB8C0","#FDBCCB","#FCBFD6","#FCC4E3","#FBC8EF","#FACCFA"],categorical:["#011959","#FACCFA","#828231","#226061","#F29D6D","#4D734D","#114360","#C09036","#FDB4B4","#DD954D","#356A59","#FCBFD6","#175262","#677B3E","#A18A2B","#0D315D","#FCA890","#FBC6E8","#2B655E","#B18D2F","#5A7745","#FDAEA2","#CF9340","#0F3B5F","#E9995C","#FDBAC4","#416F53","#91862D","#1B5962","#08255B","#747E38","#134B61","#F9A380","#8A842F","#0E365E","#124761","#154F62","#E39754","#7B8034","#1E5D62","#99882C","#195662","#0B2B5C","#FDB7BC","#C8913B","#FCC3DF","#EE9B64","#A98C2C","#FDB1AB","#FDBCCD","#FBC9F1","#051F5A","#F6A077","#607942","#FDAB9A","#477150","#3B6D56","#B98F32","#26635F","#537549","#D69446","#6D7C3B","#30685C","#103F60","#FBA689","#BD8F34","#CB923E","#EB9A60","#FDB8C0","#FBC7EC","#F09C69","#8E852E","#FDBBC9","#7F8133","#031C5A","#114160","#FDAC9E","#5D7844","#FCA995","#185462","#787F36","#A58B2C","#0A285C","#9D892B","#33695A","#0D335E","#637A40","#165062","#124561","#205E61","#144D62","#1D5B62","#0C2E5D","#D9954A","#3E6E55","#AD8C2D","#F49F72","#868330","#B58E30","#577647"]},batlowk:{discrete:["#04050A","#0A0D15","#0F141E","#121B29","#152233","#18293D","#1C3146","#21384F","#274156","#2C485B","#314E5E","#36535F","#3B575F","#405C5E","#445F5D","#49625B","#4D6558","#526756","#586B52","#5E6E4F","#63724B","#6A7548","#717845","#797D41","#81813E","#8A853B","#938839","#9F8D38","#A99139","#B3943B","#BE973E","#C89A43","#D39D4C","#DB9F54","#E2A15D","#E8A366","#EEA570","#F3A77C","#F6A986","#F8AC91","#FAAE9A","#FCB1A4","#FDB4B0","#FDB7B9","#FDBAC3","#FDBDCD","#FDC1D8","#FCC5E4","#FBC8EF","#FACCFA"],categorical:["#04050A","#FDC0D6","#787C41","#38555F","#E5A160","#536855","#AF933A","#FAAE9A","#1A2E43","#FDB6B7","#294458","#455F5C","#63724B","#CD9B47","#91883A","#F3A77E","#111A27","#F7AB8D","#FDBBC5","#FCB2AA","#D99E52","#A18E38","#4C6459","#21384F","#3F5B5E","#152335","#0C1019","#EEA570","#5B6D50","#6C7647","#314E5E","#85823D","#BE973E","#7E7F3F","#FBB0A2","#49625B","#576A53","#0F151F","#2D495B","#DFA059","#727944","#FDBDCD","#253E54","#EAA368","#C69942","#3C585F","#998B38","#677449","#F1A678","#F9AC92","#141F2F","#1D3248","#506657","#090C13","#A99139","#5F6F4E","#35525F","#435D5D","#FDB8BD","#F5A984","#B5953B","#FDB5B2","#17273B","#D39D4C","#8C853B","#9D8C38","#415C5E","#1F354B","#33505E","#FCB1A6","#101723","#3E595F","#121C2B","#757B43","#06080F","#FCB3AE","#3A565F","#274156","#61704D","#88843C","#2B475A","#FDBED1","#6A7548","#596C51","#192B3F","#6F7845","#233B51","#C99A45","#F0A574","#DC9F55","#2F4B5D","#47615C","#F6AA88","#FDB9C1","#C29840","#4A635A","#FAAD96","#81813E","#7B7E40","#E7A264"]},batloww:{discrete:["#011959","#06215B","#0A285C","#0D315D","#0E375E","#103D5F","#114260","#124761","#144C62","#165062","#185562","#1B5962","#1F5D62","#246261","#2A665F","#30695D","#366C5A","#3D7056","#467352","#4E764E","#56794A","#5E7C46","#667F42","#70823D","#798539","#828936","#8C8C33","#989032","#A29433","#AD9738","#B79B3F","#C19E48","#CBA154","#D3A45E","#D9A669","#DFA872","#E4AA7C","#E9AC88","#EEAF91","#F2B39C","#F6B9A8","#F9C0B5","#FCCAC4","#FED3CF","#FFDBDA","#FFE3E2","#FFEAEA","#FFF2F2","#FFF8F8","#FFFEFE"],categorical:["#FFFEFE","#011959","#7E8737","#205F61","#E7AB84","#497451","#114360","#FED1CD","#BF9D46","#637E44","#9E9233","#FFEAEA","#0D315D","#326B5C","#F5B7A6","#165162","#D7A564","#0F3B5F","#1A5862","#3D7056","#FFF5F5","#FFDFDD","#FAC3BA","#134A61","#08255B","#70823D","#EEB094","#56794A","#E0A874","#8E8D33","#28655F","#AF9839","#CBA154","#EBAD8B","#1D5C62","#051F5A","#124761","#FFE5E4","#B79B3F","#A79535","#386D59","#5C7B47","#185562","#DBA76D","#F8BDAF","#FFF0F0","#246261","#F2B39C","#868A35","#4F774D","#E4AA7C","#2D685E","#77853A","#FED8D6","#103F60","#FFFAF9","#968F32","#D1A35C","#144E62","#FCCAC4","#437254","#698040","#0E365E","#0B2B5C","#C59F4C","#30695D","#1C5A62","#A29433","#407155","#FFDBDA","#0C2E5D","#F7BAAA","#E5AB80","#175362","#828936","#1F5D62","#BB9C42","#E9AC88","#FFF7F7","#3A6E58","#9A9132","#8A8B34","#4C754F","#FFEDED","#D9A669","#144C62","#266460","#FDCDC9","#FCC6BF","#FFE2E1","#FFFCFC","#7B8639","#2B675E","#155062","#5F7C45","#F9C0B5","#356C5A","#F3B5A1","#EDAF8F","#FED5D2"]},berlin:{discrete:["#9EB0FF","#93AFFA","#87ADF4","#79ABED","#6CA9E6","#60A5DF","#54A0D5","#489ACA","#3E90BC","#3787AF","#327EA3","#2D7597","#296B8B","#25607C","#225771","#1E4E65","#1B465A","#183D4F","#153342","#122C38","#11242E","#101D25","#11181C","#121214","#160E0D","#1B0B07","#210B03","#270D01","#2D0E00","#340F00","#3B1100","#421301","#4B1602","#541905","#5D1E09","#68240F","#732B16","#803620","#8A3F2A","#944834","#9E513F","#A85A4A","#B46658","#BE6F63","#C8796F","#D2837A","#DD8D86","#EA9995","#F4A3A1","#FFADAD"],categorical:["#9EB0FF","#93AFFA","#87ADF4","#79ABED","#6CA9E6","#60A5DF","#54A0D5","#489ACA","#3E90BC","#3787AF","#327EA3","#2D7597","#296B8B","#25607C","#225771","#1E4E65","#1B465A","#183D4F","#153342","#122C38","#11242E","#101D25","#11181C","#121214","#160E0D","#1B0B07","#210B03","#270D01","#2D0E00","#340F00","#3B1100","#421301","#4B1602","#541905","#5D1E09","#68240F","#732B16","#803620","#8A3F2A","#944834","#9E513F","#A85A4A","#B46658","#BE6F63","#C8796F","#D2837A","#DD8D86","#EA9995","#F4A3A1","#FFADAD"]},bilbao:{discrete:["#4C0001","#54070B","#5B0E13","#64161A","#6B1D20","#712227","#77282D","#7D2E34","#84343B","#8A3A41","#8F4047","#94464B","#984C4F","#9B5253","#9D5754","#9E5C56","#A06057","#A16458","#A26959","#A36D5A","#A4715B","#A5745B","#A6785C","#A77C5D","#A8805E","#A9845F","#AA875F","#AC8C60","#AD9061","#AE9463","#AF9864","#B19D68","#B3A36E","#B6A975","#B8AD7E","#BBB287","#BDB590","#C0B99A","#C2BCA3","#C4BFAA","#C6C2B2","#C8C5B9","#CBCAC1","#CFCEC9","#D5D4D1","#DBDBDA","#E3E3E2","#EDEDED","#F6F6F6","#FFFFFF"],categorical:["#4C0001","#F8F8F8","#A9815E","#984D50","#BEB794","#AF9965","#CCCAC3","#78292F","#A26A59","#9F5D56","#64161A","#B6AA77","#C4C0AC","#A6765C","#8A3A41","#AC8C60","#DDDDDB","#A16358","#C7C5B7","#B3A16B","#A4705A","#6E2024","#EAEAE9","#92434A","#BAB185","#9C5554","#AD9262","#580B10","#813137","#C1BCA1","#AA865F","#D2D2CE","#A77C5D","#D7D7D4","#BCB48D","#B4A571","#C0B99A","#9E5955","#AB8960","#A6795C","#A36D5A","#8E3F46","#85353C","#A16758","#732529","#CAC7BD","#F1F1F0","#520509","#AC8F61","#5E1115","#C6C2B2","#E3E3E2","#691B1F","#B8AD7E","#95484D","#AE9663","#B19D68","#A5735B","#A06057","#9A5152","#A87E5D","#7D2E34","#A9835E","#C3BEA6","#CFCEC9","#A46E5A","#F4F4F4","#DADAD8","#B29F69","#EDEDED","#BBB289","#9D5754","#AF9764","#904148","#994F51","#B3A36E","#A87F5E","#A26859","#AC8D61","#BDB590","#AA875F","#A77A5D","#AB8A60","#A4715B","#611418","#BFB897","#E6E6E6","#9B5353","#D5D4D1","#974A4F","#C8C6BA","#A16558","#9F5E56","#76272C","#67191D","#8C3C43","#B9AF82","#C3BFA9","#B5A874","#4F0205"]},broc:{discrete:["#2C1A4C","#2B2154","#2B295B","#2A3164","#29396C","#284174","#29497C","#2A5183","#305C8C","#376593","#416D9A","#4B76A0","#567FA6","#6489AD","#6F92B3","#7B9BBA","#86A3C0","#92ACC6","#A0B7CD","#ACC0D3","#B8C9DA","#C4D2E0","#D0DBE6","#DEE5EC","#E7ECED","#EDEFE9","#EDEEE1","#E9E9D4","#E4E4C8","#DEDEBD","#D8D8B1","#D2D2A5","#C9C996","#C1C18A","#B8B87E","#AEAE73","#A3A369","#97975E","#8D8D56","#83834D","#797945","#70703D","#646434","#5B5B2C","#525224","#49491D","#404016","#36360F","#2E2E08","#262600"],categorical:["#2C1A4C","#2B2154","#2B295B","#2A3164","#29396C","#284174","#29497C","#2A5183","#305C8C","#376593","#416D9A","#4B76A0","#567FA6","#6489AD","#6F92B3","#7B9BBA","#86A3C0","#92ACC6","#A0B7CD","#ACC0D3","#B8C9DA","#C4D2E0","#D0DBE6","#DEE5EC","#E7ECED","#EDEFE9","#EDEEE1","#E9E9D4","#E4E4C8","#DEDEBD","#D8D8B1","#D2D2A5","#C9C996","#C1C18A","#B8B87E","#AEAE73","#A3A369","#97975E","#8D8D56","#83834D","#797945","#70703D","#646434","#5B5B2C","#525224","#49491D","#404016","#36360F","#2E2E08","#262600"]},broco:{discrete:["#372F38","#36303D","#363144","#36354E","#363957","#373F60","#39456A","#3C4D75","#415780","#47608A","#4D6992","#55729A","#5D7BA2","#6886AA","#728FB1","#7C97B7","#86A0BD","#91A8C2","#9DB2C8","#A7BACC","#B1C1CE","#BAC8D0","#C2CDD0","#CAD1CD","#CED3C8","#CFD3C2","#CFD1B9","#CBCCAD","#C6C6A2","#BFBF96","#B8B78B","#AFAF7F","#A4A472","#9B9A68","#91915E","#888755","#7E7E4C","#737243","#6B693D","#626137","#5B5932","#54512E","#4C482B","#474229","#423D29","#3F3829","#3C352B","#39322E","#383032","#372F37"],categorical:["#372F38","#36303D","#363144","#36354E","#363957","#373F60","#39456A","#3C4D75","#415780","#47608A","#4D6992","#55729A","#5D7BA2","#6886AA","#728FB1","#7C97B7","#86A0BD","#91A8C2","#9DB2C8","#A7BACC","#B1C1CE","#BAC8D0","#C2CDD0","#CAD1CD","#CED3C8","#CFD3C2","#CFD1B9","#CBCCAD","#C6C6A2","#BFBF96","#B8B78B","#AFAF7F","#A4A472","#9B9A68","#91915E","#888755","#7E7E4C","#737243","#6B693D","#626137","#5B5932","#54512E","#4C482B","#474229","#423D29","#3F3829","#3C352B","#39322E","#383032","#372F37"]},buda:{discrete:["#B301B3","#B30BAE","#B314AA","#B31CA6","#B323A2","#B3289F","#B32E9D","#B4339A","#B53998","#B63E96","#B84394","#B94892","#BB4C91","#BD528F","#BE568D","#C05B8C","#C15F8A","#C36389","#C46987","#C66D86","#C77184","#C97583","#CA7982","#CB7E80","#CD837F","#CE877E","#CF8B7D","#D0917B","#D1957A","#D29979","#D49E78","#D5A277","#D6A776","#D7AC75","#D8B073","#D9B572","#DAB971","#DCBF70","#DDC36F","#DEC86E","#DFCC6C","#E0D16B","#E2D76A","#E4DC69","#E6E168","#E9E667","#EDEC67","#F3F366","#F9F966","#FFFF66"],categorical:["#B301B3","#FFFF66","#CD857E","#BC4E90","#DBBD70","#C56A87","#B32F9C","#E3DB69","#D4A177","#EDEC67","#D1937B","#B73F95","#C05C8B","#DFCB6D","#C97882","#B31CA6","#D8AE74","#E7E368","#DAB572","#B311AC","#D39A79","#C36389","#C77184","#B53798","#E1D36B","#BE558E","#B94793","#CB7E80","#CF8C7C","#DDC46E","#B326A0","#F6F566","#D6A875","#DAB971","#C66E86","#E2D76A","#B32B9E","#B317A9","#B4339A","#BA4B91","#C46788","#C2608A","#B309AF","#D49E78","#B63B97","#BD528F","#DCC06F","#EAE767","#FAFA66","#D2977A","#F1F066","#D0907C","#CE897D","#C87483","#CC827F","#D5A576","#B321A3","#E5DF68","#B84394","#D9B273","#E0CF6C","#CA7B81","#DEC86E","#BF598C","#D7AB75","#E6E168","#D1957A","#CC8080","#D39C78","#E0CD6C","#CD847F","#B63D96","#C87384","#C66C86","#F8F866","#D49F78","#D9B473","#DAB772","#BF578D","#CB7D81","#CF8A7D","#B32D9D","#D08E7C","#DBBB71","#C2628A","#E2D56A","#DCBF70","#BC508F","#C46987","#C05B8C","#DFCA6D","#DDC26F","#C15E8B","#D7AD74","#F3F366","#DEC66E","#D5A377","#B31AA7","#BA4992","#CE877E"]},bukavu:{discrete:["#1A3333","#1B373D","#1C3C47","#1E4255","#1F4762","#214E71","#235582","#255E92","#2969A1","#2C73AD","#2F7CB8","#3485C2","#3B8EC7","#4799C8","#50A1C9","#59AAC9","#62B2CA","#6BBACB","#76C3CB","#81CCCD","#92D5D1","#A4DED5","#B6E7DA","#CCF2DF","#DDFBE3","#034224","#08491F","#115119","#1C5914","#2B6212","#3D6915","#4E6E1B","#617224","#6F742B","#7B7631","#867836","#917B3C","#9E7E45","#AA844F","#B48D5D","#BC976C","#C3A27C","#CAB08F","#CFBBA0","#D5C6B0","#DACFC1","#DFD7D0","#E4DFE0","#E9E6ED","#EDEDFC"],categorical:["#1A3333","#1B373D","#1C3C47","#1E4255","#1F4762","#214E71","#235582","#255E92","#2969A1","#2C73AD","#2F7CB8","#3485C2","#3B8EC7","#4799C8","#50A1C9","#59AAC9","#62B2CA","#6BBACB","#76C3CB","#81CCCD","#92D5D1","#A4DED5","#B6E7DA","#CCF2DF","#DDFBE3","#034224","#08491F","#115119","#1C5914","#2B6212","#3D6915","#4E6E1B","#617224","#6F742B","#7B7631","#867836","#917B3C","#9E7E45","#AA844F","#B48D5D","#BC976C","#C3A27C","#CAB08F","#CFBBA0","#D5C6B0","#DACFC1","#DFD7D0","#E4DFE0","#E9E6ED","#EDEDFC"]},cork:{discrete:["#2C194C","#2B2254","#2B295C","#2A3265","#293A6D","#284275","#284A7C","#2A5284","#2F5C8D","#366493","#3F6C99","#49749F","#527CA4","#5E85AA","#688DB0","#7395B6","#7E9DBB","#8AA6C2","#99B1C9","#A5BBD0","#B2C5D7","#C0CFDE","#CDD9E5","#DCE5EB","#E5ECED","#E6EEEA","#E0EAE1","#D4E2D4","#C8DBC8","#BCD3BC","#B0CAB0","#A4C2A3","#95B895","#89B088","#7DA87D","#71A071","#669966","#599059","#4F894E","#458244","#3B7B3A","#317430","#266A25","#1F611D","#1A5816","#174E12","#14450E","#123A0A","#103107","#0F2903"],categorical:["#2C194C","#2B2254","#2B295C","#2A3265","#293A6D","#284275","#284A7C","#2A5284","#2F5C8D","#366493","#3F6C99","#49749F","#527CA4","#5E85AA","#688DB0","#7395B6","#7E9DBB","#8AA6C2","#99B1C9","#A5BBD0","#B2C5D7","#C0CFDE","#CDD9E5","#DCE5EB","#E5ECED","#E6EEEA","#E0EAE1","#D4E2D4","#C8DBC8","#BCD3BC","#B0CAB0","#A4C2A3","#95B895","#89B088","#7DA87D","#71A071","#669966","#599059","#4F894E","#458244","#3B7B3A","#317430","#266A25","#1F611D","#1A5816","#174E12","#14450E","#123A0A","#103107","#0F2903"]},corko:{discrete:["#3F3E3A","#3E3D3F","#3E3D44","#3E3D4B","#3E3F52","#3E425A","#3F4762","#414C6C","#445578","#485D82","#4E658B","#546E94","#5C779C","#6581A5","#6E8AAC","#7792B2","#809BB8","#89A3BD","#94ACC2","#9CB3C5","#A3BAC7","#A9C0C8","#AEC5C7","#B0C9C4","#B0CABF","#ADCAB9","#A9C9B2","#A2C5A8","#9BC19F","#93BC95","#8BB68B","#82B081","#78A775","#709F6A","#689760","#608E56","#5A864C","#537B42","#4F733B","#4B6B35","#486431","#465D2E","#44562C","#43512C","#424D2D","#42492E","#414630","#404333","#404036","#3F3E3A"],categorical:["#3F3E3A","#3E3D3F","#3E3D44","#3E3D4B","#3E3F52","#3E425A","#3F4762","#414C6C","#445578","#485D82","#4E658B","#546E94","#5C779C","#6581A5","#6E8AAC","#7792B2","#809BB8","#89A3BD","#94ACC2","#9CB3C5","#A3BAC7","#A9C0C8","#AEC5C7","#B0C9C4","#B0CABF","#ADCAB9","#A9C9B2","#A2C5A8","#9BC19F","#93BC95","#8BB68B","#82B081","#78A775","#709F6A","#689760","#608E56","#5A864C","#537B42","#4F733B","#4B6B35","#486431","#465D2E","#44562C","#43512C","#424D2D","#42492E","#414630","#404333","#404036","#3F3E3A"]},davos:{discrete:["#00054A","#010E51","#041459","#081C61","#0C2368","#102A6F","#133075","#17377C","#1C3F83","#204588","#244C8D","#295291","#2D5895","#335F98","#38649A","#3C699C","#416E9D","#46729D","#4C779D","#517B9C","#567F9B","#5A829A","#5F8598","#658996","#698C94","#6E8F92","#739290","#78968D","#7D998C","#829D8A","#88A089","#8DA488","#95AA87","#9BAF88","#A3B489","#ABBB8C","#B4C190","#BFCA96","#C9D29E","#D2D9A6","#DBE0AF","#E3E7B8","#EBEDC4","#F0F1CD","#F4F4D6","#F7F7DE","#FAF9E6","#FCFCF0","#FDFDF7","#FEFEFE"],categorical:["#00054A","#FDFDF4","#688B94","#2D5895","#B2C08F","#E8EBC0","#87A089","#133075","#4B769D","#5A829A","#204588","#76958E","#D0D8A4","#99AD88","#F6F6DB","#3C699C","#081C61","#031256","#1A3B7F","#537C9C","#A4B68A","#C1CC98","#7E9A8B","#FAFAE8","#356199","#0E266B","#DEE3B3","#274F90","#6F9091","#618697","#8FA588","#F0F1CD","#43709D","#1D4084","#47739D","#F3F4D4","#658996","#567F9B","#17367A","#FCFBEE","#4F799D","#C9D29E","#93A987","#39659B","#D8DEAB","#ABBB8C","#739290","#B9C693","#F8F8E1","#234A8C","#112B70","#7A978D","#9EB188","#315C97","#829D8A","#05175B","#010C50","#3F6C9D","#0B2065","#5D8499","#2A5392","#8BA388","#6B8D93","#EDEFC7","#E3E7B8","#22488A","#638897","#122E73","#00094D","#AEBD8D","#4D789D","#CDD5A1","#5F8598","#58819A","#071A5E","#0C2368","#18387D","#91A787","#37639A","#EBEDC4","#F2F2D0","#FBFBEB","#74938F","#2F5A96","#335F98","#809B8B","#BDC995","#49759D","#719191","#9BAF88","#F7F7DE","#1B3E82","#A8B88B","#849E89","#557E9B","#E6E9BC","#45719D","#1E4386","#96AB87","#89A188"]},devon:{discrete:["#2C1A4C","#2B1E51","#2B2356","#2A295B","#2A2D60","#293265","#29376A","#283B6E","#274174","#27467A","#274C7F","#275186","#28568C","#2A5C95","#2D609C","#3064A3","#3468AA","#396BB1","#3F70B9","#4774C0","#4F79C6","#597DCC","#6382D1","#6F88D7","#798CDB","#8290DF","#8C95E2","#969AE6","#9E9EE9","#A6A3EB","#ACA7ED","#B1ACEF","#B7B1F0","#BBB5F1","#BFB9F2","#C3BEF3","#C7C2F4","#CCC7F4","#D0CCF5","#D4D0F6","#D8D4F7","#DCD9F8","#E1DEF9","#E5E3FA","#E9E7FB","#EDECFB","#F2F0FC","#F7F6FD","#FBFAFE","#FFFFFF"],categorical:["#2C1A4C","#F8F8FE","#758AD9","#C6C0F3","#28568C","#29376A","#AAA5ED","#DEDCF8","#3D6EB7","#EBE9FB","#9197E4","#3063A2","#274579","#577CCB","#D2CEF6","#2A285A","#BAB3F1","#B2ADEF","#F2F0FC","#274E82","#2A2F62","#CCC7F4","#9E9EE9","#4875C1","#C0BAF2","#2B5D98","#3669AD","#2B2154","#E4E2FA","#8290DF","#D8D4F7","#6784D3","#283E71","#C9C4F4","#BDB7F1","#DBD8F8","#283A6D","#4F79C6","#A4A2EB","#EEEDFC","#CFCBF5","#E8E5FA","#5F80CF","#4272BC","#B6B0F0","#2B1D50","#AEA9EE","#275287","#2A2B5E","#989BE7","#293366","#27497D","#8A94E1","#295A92","#3266A7","#F5F4FD","#7B8DDC","#274174","#2D609C","#2B2558","#6F88D7","#E1DEF9","#3A6CB2","#D5D1F6","#C3BEF3","#2E629F","#3165A4","#8D95E3","#3468AA","#DAD6F7","#D1CDF5","#9B9CE8","#275084","#B8B2F0","#27477B","#6382D1","#4573BF","#A2A0EA","#F7F6FD","#C7C2F4","#F3F2FD","#274376","#8692E0","#2B1F52","#CAC6F4","#ACA7ED","#E3E0F9","#F0EEFC","#E6E4FA","#386AB0","#2C1C4E","#6B86D5","#28396B","#283C6F","#2A5C95","#2A2D60","#BEB9F2","#C2BCF2","#7E8FDD","#3F70B9"]},fes:{discrete:["#0D0D0D","#181818","#212121","#2B2B2B","#343434","#3C3C3C","#454545","#4D4D4D","#565656","#5E5E5E","#656565","#6D6D6D","#747474","#7C7C7C","#848484","#8B8B8B","#939393","#9C9C9C","#A7A7A7","#B1B1B1","#BBBBBB","#C5C5C5","#D1D1D1","#DFDFDF","#ECECEC","#094225","#184822","#2B4F20","#3A5420","#485822","#555B24","#615E26","#6F6229","#7A652B","#86682E","#926B30","#9F7035","#AD7940","#B6834D","#BD8E5C","#C2996C","#C6A47C","#CCB18F","#D1BCA0","#D5C6B0","#DACFC1","#DFD7CF","#E4DFE0","#E8E6ED","#EDEDFC"],categorical:["#0D0D0D","#181818","#212121","#2B2B2B","#343434","#3C3C3C","#454545","#4D4D4D","#565656","#5E5E5E","#656565","#6D6D6D","#747474","#7C7C7C","#848484","#8B8B8B","#939393","#9C9C9C","#A7A7A7","#B1B1B1","#BBBBBB","#C5C5C5","#D1D1D1","#DFDFDF","#ECECEC","#094225","#184822","#2B4F20","#3A5420","#485822","#555B24","#615E26","#6F6229","#7A652B","#86682E","#926B30","#9F7035","#AD7940","#B6834D","#BD8E5C","#C2996C","#C6A47C","#CCB18F","#D1BCA0","#D5C6B0","#DACFC1","#DFD7CF","#E4DFE0","#E8E6ED","#EDEDFC"]},glasgow:{discrete:["#361338","#3B1434","#401530","#45172C","#491828","#4D1924","#511B21","#561C1D","#5B1E18","#602014","#662210","#6B260B","#6F2B07","#723203","#743802","#743E01","#754300","#744900","#744F01","#745402","#735905","#725F0B","#716413","#70691E","#6E6E27","#6C7231","#6B763A","#697B46","#677F4F","#658359","#648763","#628B6C","#618F78","#609381","#60978A","#619B94","#659F9D","#6CA5A8","#74A9B0","#7DADB8","#86B1BF","#8EB4C6","#99B9CE","#A1BCD5","#AABFDB","#B2C3E1","#BBC6E7","#C6CBF0","#D0CFF7","#DBD3FF"],categorical:["#361338","#DBD3FF","#6D702B","#69A3A5","#702D06","#A0BBD3","#638968","#521B20","#745101","#84B0BE","#754001","#5F9587","#BBC6E7","#612013","#45172C","#687D4A","#726210","#618F78","#4B1926","#3E1532","#629C96","#658359","#CACCF3","#76AAB2","#6B763A","#744900","#6A250C","#ADC1DD","#735905","#92B6C9","#591D1A","#743702","#70681C","#4F1A23","#754400","#6D2909","#60998E","#41162F","#744D00","#745503","#B4C3E2","#697A42","#7DADB8","#628C70","#8BB3C3","#561C1D","#D2D0F9","#99B9CE","#3A1435","#6F6C23","#743B01","#60927F","#662210","#648661","#659F9D","#678051","#725E0A","#481829","#6FA6AB","#6C7332","#5D1E17","#A6BED8","#C2C9ED","#723203","#716617","#68240E","#6F6A20","#C6CBF0","#79ABB5","#72600D","#754200","#43162D","#67A1A1","#6B7536","#5F1F15","#735B07","#571C1B","#72A8AF","#744F01","#BEC8EA","#381337","#8EB4C6","#628B6C","#677E4D","#60917B","#639E9A","#4A1827","#A3BDD6","#3C1433","#743901","#632112","#B7C5E5","#4D1924","#65845D","#618E74","#609483","#9CBAD1","#46172A","#87B1C1","#6D712F"]},grayc:{discrete:["#000000","#090909","#111111","#171717","#1C1C1C","#212121","#252525","#2A2A2A","#303030","#343434","#393939","#3D3D3D","#424242","#474747","#4B4B4B","#505050","#545454","#585858","#5D5D5D","#616161","#656565","#696969","#6D6D6D","#717171","#757575","#797979","#7D7D7D","#818181","#858585","#898989","#8E8E8E","#929292","#979797","#9C9C9C","#A1A1A1","#A6A6A6","#ABABAB","#B1B1B1","#B6B6B6","#BCBCBC","#C1C1C1","#C7C7C7","#CECECE","#D5D5D5","#DBDBDB","#E2E2E2","#E8E8E8","#F1F1F1","#F8F8F8","#FFFFFF"],categorical:["#070707","#F9F9F9","#777777","#454545","#AEAEAE","#909090","#292929","#5F5F5F","#D1D1D1","#9E9E9E","#525252","#E4E4E4","#6C6C6C","#BFBFBF","#1A1A1A","#373737","#848484","#595959","#222222","#B6B6B6","#A6A6A6","#3E3E3E","#7D7D7D","#666666","#969696","#8A8A8A","#4B4B4B","#DADADA","#C8C8C8","#313131","#717171","#131313","#EFEFEF","#C4C4C4","#A2A2A2","#424242","#878787","#252525","#2D2D2D","#4F4F4F","#3B3B3B","#808080","#1E1E1E","#BBBBBB","#AAAAAA","#EAEAEA","#696969","#7A7A7A","#DFDFDF","#636363","#565656","#B2B2B2","#0E0E0E","#9A9A9A","#5C5C5C","#747474","#F3F3F3","#333333","#6E6E6E","#D5D5D5","#8D8D8D","#939393","#494949","#CCCCCC","#171717","#BDBDBD","#575757","#C1C1C1","#404040","#828282","#E2E2E2","#151515","#1C1C1C","#0B0B0B","#9C9C9C","#858585","#2F2F2F","#B4B4B4","#888888","#242424","#272727","#3C3C3C","#B0B0B0","#353535","#545454","#5B5B5B","#393939","#D7D7D7","#A4A4A4","#A8A8A8","#959595","#767676","#646464","#989898","#444444","#474747","#111111","#F6F6F6","#ECECEC","#4D4D4D"]},hawaii:{discrete:["#8C0273","#8E0D6E","#8F1569","#901D63","#91235F","#91285A","#922D56","#933252","#94384D","#943D4A","#954246","#964742","#964C3F","#97523B","#985638","#985C34","#996131","#9A662E","#9B6C2A","#9B7226","#9C7823","#9C7E20","#9D841E","#9D8C1C","#9C921C","#9B991D","#9AA021","#97A828","#94AE30","#91B439","#8CB942","#88BE4C","#82C359","#7EC663","#79CA6E","#74CE79","#70D183","#6AD591","#66D89C","#62DCA7","#60DFB2","#5FE2BD","#61E6CA","#67E9D5","#6FEBDE","#7AEEE7","#87EFEE","#98F1F5","#A6F1F9","#B3F2FD"],categorical:["#8C0273","#B3F2FD","#9C951C","#6CD48C","#964D3E","#8ABC48","#9B6D29","#66E8D3","#922E55","#9C801F","#87EFEE","#995D34","#7BC969","#901D63","#60DEB0","#96AA2B","#943D4A","#975439","#82C359","#5FE4C2","#9AA021","#73CE7B","#65D99E","#954544","#9D8A1C","#8E126B","#91B439","#9DF1F7","#73ECE2","#91265C","#9C7724","#9A652E","#93364F","#922A59","#996131","#9D851D","#9D901C","#9A692C","#68D695","#902160","#9B9A1E","#985836","#9B7226","#933252","#77CC72","#9C7B21","#954147","#8D0A6F","#93AF32","#62DCA7","#92F0F3","#8F1867","#7DEEE8","#97513C","#6CEBDB","#61E6CA","#A8F2FA","#964941","#7FC661","#86BF50","#98A526","#70D183","#5FE1B9","#8DB840","#94394D","#9C7923","#8F1569","#985A35","#60E0B4","#9A6B2A","#91245E","#97A828","#9B7425","#6AD591","#95AD2E","#5FE2BD","#60E5C6","#953F48","#933054","#63E7CF","#84C154","#8D0671","#82EFEB","#9B9D1F","#99A323","#88BE4C","#6ED288","#6FEBDE","#9A672D","#91285A","#75CD76","#995F32","#68E9D7","#9B7028","#61DDAB","#943B4B","#933450","#8DF0F0","#8F1A65","#81C45D"]},imola:{discrete:["#1A33B3","#1C37B1","#1E3AAF","#203EAD","#2242AB","#2345AA","#2548A8","#274CA6","#2950A4","#2A53A3","#2C56A1","#2E599F","#2F5D9E","#32609B","#346499","#366797","#386A95","#3B6C92","#3E708F","#41738C","#44768A","#467987","#4A7C85","#4E8082","#518480","#56887E","#5A8C7D","#5F927B","#64967A","#689B79","#6DA078","#72A576","#78AB75","#7DB074","#82B572","#87BA71","#8CBF70","#93C66E","#98CB6D","#9ED06C","#A4D66A","#ACDB69","#B5E268","#BFE767","#C8EB67","#D3F066","#DDF466","#EAF866","#F5FB66","#FFFF66"],categorical:["#1A33B3","#FFFF66","#54867F","#305E9D","#91C36F","#3F718E","#2549A8","#BDE667","#70A377","#2B53A2","#376896","#80B373","#A3D56B","#DDF466","#203EAD","#487B86","#62947A","#2D59A0","#88BB71","#5B8D7D","#CDED66","#4E8082","#EEF966","#33639A","#284EA5","#44768A","#2344AA","#AFDE69","#3B6C92","#78AB75","#1D39B0","#99CC6D","#699C79","#3D6F90","#2C56A1","#2F5B9E","#5E917B","#4B7D84","#9ED06C","#1F3CAE","#C4EA67","#84B772","#274CA6","#D5F066","#2951A4","#74A776","#578A7E","#2446A9","#1C36B1","#A9D96A","#95C86E","#467888","#2141AC","#7CAF74","#356598","#B5E268","#66987A","#396A94","#F7FC66","#8CBF70","#E6F666","#32609B","#518380","#41738C","#6DA078","#6B9E78","#B9E468","#7AAD74","#528580","#32629B","#86B971","#3C6E91","#5C8F7C","#C8EB67","#ACDB69","#D1EF66","#E2F566","#97CA6D","#1B35B2","#1C37B0","#2345AA","#2F5D9E","#1F3DAE","#457789","#3A6B93","#598B7D","#D9F266","#346499","#386995","#A6D76A","#366797","#274DA6","#56887E","#A1D36B","#42748B","#7EB173","#72A576","#477987","#4C7F83","#F2FB66"]},lajolla:{discrete:["#191900","#1E1B02","#221C05","#271E08","#2C200B","#31220E","#362411","#3C2614","#442817","#4B2B1B","#532D1F","#5B3023","#633328","#6E362D","#783932","#813C37","#8B3F3B","#96423F","#A24543","#AD4746","#B74A48","#C04D49","#C9514B","#D1564C","#D75C4D","#DB634E","#DD694F","#E0714F","#E17750","#E37D50","#E48351","#E58951","#E79052","#E89652","#E99C52","#EAA253","#EBA853","#EDAF54","#EEB555","#F0BC57","#F1C25A","#F3CA5F","#F5D369","#F7DA74","#F9E282","#FBE890","#FCEF9F","#FDF5B0","#FEFABE","#FFFECB"],categorical:["#191900","#FFFECB","#D85F4D","#ECAC54","#653329","#F7D971","#A44544","#E58751","#362411","#E1744F","#C44E4A","#E99A52","#4B2B1B","#833D38","#F1C159","#FCEF9F","#271E08","#FEF7B6","#402716","#D0554C","#FAE587","#E79052","#EFB655","#B54947","#201C04","#E37D50","#743830","#DD694F","#EBA353","#94413E","#572F21","#F4CD61","#2E210C","#FDF3AB","#32220F","#241D06","#F5D369","#7B3B34","#1D1B02","#F0BC57","#5E3125","#F8DF7C","#512D1E","#CA514B","#E48251","#E68C51","#EA9E53","#E89552","#BC4C49","#6C362C","#EDB154","#9C4341","#E27950","#FBEA93","#3B2513","#FEFBC0","#452918","#EBA853","#F2C75C","#8B3F3B","#DB644E","#AD4746","#DF6E4F","#D55A4D","#2B200A","#783932","#E79352","#D75C4D","#FEF9BB","#EDAF54","#E0714F","#7F3C36","#613227","#F7DC77","#C7504B","#F1C45A","#30210D","#F4D065","#1E1B03","#FAE78D","#F9E282","#DA614E","#392412","#4E2C1D","#E99C52","#EFB956","#221C05","#EBA553","#FDF5B0","#984240","#E38050","#8F403D","#542E20","#ECAA54","#E68E51","#70372E","#DE6C4F","#B94A48","#291F09","#1B1A01"]},lapaz:{discrete:["#1A0C64","#1C1368","#1E196D","#202071","#212675","#222B79","#23317D","#253681","#263C85","#274189","#29478C","#2A4C8F","#2C5192","#2E5795","#305C98","#32609A","#35659C","#386A9E","#3C70A0","#3F74A1","#4379A2","#487DA3","#4D81A3","#5386A4","#588AA3","#5E8EA3","#6591A2","#6C95A1","#7398A0","#7A9A9E","#809D9D","#879F9B","#90A199","#97A397","#9EA596","#A5A795","#ADAA95","#B7AD96","#BFB199","#C8B69C","#D2BBA2","#DAC1A8","#E4C9B2","#EBCFBB","#F1D5C4","#F5DBCD","#F9E1D6","#FBE8E1","#FDEDEA","#FEF2F3"],categorical:["#1A0C64","#FEF2F3","#5B8BA3","#B3AC96","#2C5292","#3C70A0","#EACEB9","#859E9C","#24327E","#6F96A1","#33619A","#202071","#D0BAA0","#9BA496","#F9E1D6","#4A7FA3","#284289","#90A199","#FCEAE5","#1D176B","#37699D","#F3D8C8","#A7A895","#5285A4","#7A9A9E","#2F5A97","#4278A2","#263A84","#6591A2","#C1B299","#DEC3AB","#222978","#2A4B8E","#5688A4","#D7BEA6","#FDEEEC","#608EA3","#EFD3C0","#A1A696","#6A94A1","#FBE6DD","#ADAA95","#F6DDCF","#4E82A3","#2E5695","#3A6D9F","#C8B69C","#1C1268","#232D7B","#3F74A1","#467BA3","#1E1C6E","#7F9C9D","#BAAF97","#253681","#315E99","#29478C","#E4C9B2","#74989F","#273E87","#212575","#95A398","#8AA09A","#35659C","#2B4F91","#23307C","#E7CBB5","#F1D5C4","#2B4D90","#202373","#588AA3","#D3BCA3","#5487A4","#447AA2","#6792A2","#24347F","#253882","#ECD0BD","#879F9B","#305C98","#E1C6AF","#1E196D","#5D8DA3","#AAA995","#386B9E","#487DA3","#77999F","#F7DFD3","#BEB098","#1F1E70","#325F99","#4176A2","#F4DACB","#4C80A3","#2D5494","#8DA099","#6C95A1","#FAE3DA","#FDECE8","#B7AD96"]},lipari:{discrete:["#031326","#05192F","#062038","#092844","#0C2E4D","#103557","#163C5F","#1E4368","#294B70","#345075","#3E5578","#47587A","#4F5B7B","#575C7A","#5D5D79","#635E78","#695E76","#6E5F75","#765F73","#7C6071","#826070","#89606E","#90616C","#98616A","#A06268","#A86266","#B06364","#BA6462","#C36660","#CB685F","#D46B5E","#DB705F","#E27760","#E77E63","#E98567","#EA8D6B","#EA946F","#E89C75","#E7A279","#E6A87E","#E5AF84","#E5B58A","#E6BD92","#E7C49A","#EACCA3","#EDD3AD","#F0DBB7","#F5E5C4","#F9EDCF","#FDF5DA"],categorical:["#031326","#FDF5DA","#A56267","#525B7A","#E99B74","#785F72","#DA6F5E","#183E61","#E7C398","#8D616D","#365176","#092844","#655E77","#E98466","#BF6561","#F0DBB7","#E5AD82","#B26364","#EBCFA7","#5C5D79","#061D35","#25486D","#0E3353","#EA906D","#98616A","#E37861","#E5B88C","#826070","#CD685F","#6E5F75","#45587A","#F6E8C9","#E7A37A","#615E78","#E77E63","#D46B5E","#9F6268","#E99570","#93616B","#87606E","#7D6071","#F3E1C0","#575C7A","#0B2D4B","#2D4D72","#E6A87E","#E9C99F","#FAEED1","#1E4368","#EA8A69","#B86462","#6A5E76","#AB6365","#735F74","#DF735F","#E5B287","#13385A","#05182D","#E6BD92","#3E5578","#EDD5AF","#07223C","#C6665F","#4C5A7A","#E8A077","#B56363","#FBF1D6","#A26267","#E6C095","#0A2A48","#F8EBCD","#EACCA3","#AE6364","#7A5F72","#635E78","#E98768","#041629","#715F74","#ECD2AB","#A86266","#8A606E","#96616B","#545C7A","#EFD8B3","#F5E5C4","#9B6169","#F2DEBB","#765F73","#6C5F75","#294B70","#22466B","#E89D76","#E88165","#BC6461","#E6A67C","#85606F","#C36660","#1B4064","#D06A5E","#103557"]},lisbon:{discrete:["#E6E5FF","#D8DCF7","#CBD2EF","#BBC6E5","#ADBCDE","#A0B3D6","#93A9CE","#86A0C6","#7794BD","#6A8BB5","#5E81AC","#5177A4","#456E9B","#38628F","#2F5984","#274F78","#20476D","#1B3F61","#173653","#142E48","#12283E","#112233","#111D2A","#121921","#15181B","#181A18","#1E1D17","#252419","#2D2B1C","#353220","#3E3A25","#46422A","#514C31","#5A5536","#645E3C","#6D6741","#777047","#837B4F","#8D8556","#988F5E","#A29A67","#ADA470","#B9B17D","#C3BC89","#CDC795","#D7D2A2","#E0DCAF","#ECE9BE","#F5F4CB","#FFFFD9"],categorical:["#E6E5FF","#D8DCF7","#CBD2EF","#BBC6E5","#ADBCDE","#A0B3D6","#93A9CE","#86A0C6","#7794BD","#6A8BB5","#5E81AC","#5177A4","#456E9B","#38628F","#2F5984","#274F78","#20476D","#1B3F61","#173653","#142E48","#12283E","#112233","#111D2A","#121921","#15181B","#181A18","#1E1D17","#252419","#2D2B1C","#353220","#3E3A25","#46422A","#514C31","#5A5536","#645E3C","#6D6741","#777047","#837B4F","#8D8556","#988F5E","#A29A67","#ADA470","#B9B17D","#C3BC89","#CDC795","#D7D2A2","#E0DCAF","#ECE9BE","#F5F4CB","#FFFFD9"]},managua:{discrete:["#FFCF67","#F9C564","#F3BB60","#EBB05D","#E5A659","#DF9D56","#D99554","#D38C51","#CC824D","#C67B4B","#C07348","#B96C46","#B36444","#AB5C41","#A4553F","#9D4F3D","#95483C","#8E423A","#843B39","#7C3639","#743139","#6D2D3A","#662A3D","#5F2941","#5A2846","#552A4C","#522C53","#4F315D","#4D3566","#4C3B6F","#4C4179","#4C4883","#4D518E","#4F5897","#51609F","#5367A7","#556FAE","#5878B6","#5B80BC","#5E88C2","#6190C8","#6498CE","#68A3D5","#6BACDB","#6FB5E1","#72BEE6","#76C7EC","#7AD3F3","#7DDDF9","#81E7FF"],categorical:["#FFCF67","#F9C564","#F3BB60","#EBB05D","#E5A659","#DF9D56","#D99554","#D38C51","#CC824D","#C67B4B","#C07348","#B96C46","#B36444","#AB5C41","#A4553F","#9D4F3D","#95483C","#8E423A","#843B39","#7C3639","#743139","#6D2D3A","#662A3D","#5F2941","#5A2846","#552A4C","#522C53","#4F315D","#4D3566","#4C3B6F","#4C4179","#4C4883","#4D518E","#4F5897","#51609F","#5367A7","#556FAE","#5878B6","#5B80BC","#5E88C2","#6190C8","#6498CE","#68A3D5","#6BACDB","#6FB5E1","#72BEE6","#76C7EC","#7AD3F3","#7DDDF9","#81E7FF"]},navia:{discrete:["#031327","#041930","#051E3A","#052546","#062B50","#06315A","#073764","#083E6D","#0B4578","#0E4C80","#115286","#15588B","#195E8E","#1E6491","#216991","#246D91","#27718F","#2A748E","#2D788C","#307A8A","#337D89","#368087","#398385","#3C8683","#3F8981","#428C7F","#468F7D","#4A937A","#4E9678","#529A76","#579E73","#5BA271","#62A86E","#67AD6B","#6EB269","#76B768","#7FBD68","#8CC56A","#98CB6F","#A4D176","#B1D67F","#BCDB89","#C9E096","#D3E3A1","#DCE7AC","#E3EAB6","#EAEDBF","#F1F0CA","#F7F2D2","#FCF4D9"],categorical:["#031327","#FCF4D9","#408A80","#87C269","#1B608F","#59A072","#073966","#D1E39F","#2F798B","#EAEDBF","#052546","#266F90","#6BB06A","#0E4D81","#AED57D","#4C947A","#378186","#DFE8B0","#337D89","#2A748E","#14578A","#051C36","#9ACC70","#0A4374","#468F7D","#529A76","#F4F1CD","#062F56","#C1DC8D","#206891","#78B968","#62A86E","#3C8583","#569D74","#236C91","#F8F3D3","#D8E5A8","#0C487B","#04182E","#71B469","#B8D985","#07345E","#05213E","#4F9778","#5DA470","#3E8882","#062A4E","#7FBD68","#EFEFC6","#C9E096","#115286","#2C768D","#1E6491","#49917B","#66AC6C","#28718F","#A4D176","#90C76C","#438C7F","#175C8D","#083E6D","#E5EAB8","#317B8A","#357F87","#398385","#B3D781","#0D4A7E","#1C6290","#052342","#579F73","#9FCE73","#448D7E","#051A32","#FAF3D6","#428B7F","#29738F","#104F84","#5FA66F","#509877","#8CC56A","#094071","#2D788C","#083B6A","#D5E4A3","#2B758D","#226A91","#04162B","#BCDB89","#47907C","#4D9579","#E2E9B4","#7BBB68","#6EB269","#135488","#4A937A","#F1F0CA","#5BA271","#C5DE92","#F6F2D0","#CDE19B"]},naviaw:{discrete:["#041427","#051A31","#05203B","#062747","#072D52","#08345C","#0A3A66","#0C416F","#0F4979","#135080","#175686","#1B5D8A","#1F628D","#23698F","#276D8F","#2A728F","#2D758E","#30798D","#347D8B","#378089","#3A8388","#3D8686","#408984","#448C82","#489080","#4B937E","#50977C","#559C79","#5AA077","#5FA575","#65AA73","#6CAF71","#76B671","#7FBD71","#89C474","#95CB78","#A2D27F","#B1D98A","#BEDF95","#C9E5A1","#D3E9AD","#DBEDB9","#E4F1C6","#E9F4D0","#EEF6D9","#F2F8E1","#F6FAE9","#F9FCF1","#FCFDF7","#FEFEFD"],categorical:["#041427","#FBFDF6","#478F80","#9FD07D","#1F628D","#64A973","#E3F0C4","#0A3A66","#337C8B","#C7E49E","#7DBC71","#549B7A","#2A718F","#135080","#F2F8E1","#3C8586","#062747","#D7EBB2","#418A83","#B4DB8C","#2E778D","#6FB271","#EBF5D4","#0E4574","#051D37","#4D957D","#256B8F","#195A88","#388189","#F7FAEC","#5CA276","#8CC574","#073056","#31798C","#367E8A","#69AD72","#E7F3CC","#104A7A","#95CB78","#EFF6DB","#0B406D","#2C748E","#4A927F","#DDEEBB","#50987C","#165584","#589E78","#76B671","#3F8785","#05192F","#BEDF95","#448C82","#22678E","#06223F","#A9D684","#08355E","#CFE8A8","#F9FCF1","#286E8F","#85C172","#072C50","#F5F9E7","#1C5F8B","#3A8387","#60A675","#F3F9E4","#0C4271","#266D8F","#81BE72","#0A3D6A","#4B937E","#9ACD7B","#EDF5D7","#90C876","#A4D381","#378089","#1B5D8A","#489080","#145282","#DAECB6","#67AB73","#CBE6A3","#B9DD90","#3D8686","#23698F","#6CAF71","#FAFCF3","#79B971","#D3E9AD","#5AA077","#458E81","#72B471","#327B8C","#E5F1C8","#051B33","#F8FBEE","#062443","#398288","#2B728F","#06294C"]},nuuk:{discrete:["#05598C","#0E5B8B","#155C89","#1C5E87","#226085","#276184","#2C6383","#326682","#386982","#3E6C82","#446F82","#4A7283","#517584","#587A86","#5F7D88","#66818A","#6C858C","#73898E","#7B8E91","#819192","#879594","#8D9996","#939C97","#99A097","#9EA498","#A2A798","#A6AA97","#ABAD96","#AEAF95","#B1B194","#B3B492","#B6B690","#B8B88E","#BABA8C","#BDBC8A","#BFBE88","#C1C187","#C4C385","#C7C684","#CAC983","#CDCD83","#D2D184","#D7D787","#DDDD8B","#E3E290","#E8E895","#EEEE9C","#F4F4A4","#F9F9AB","#FEFEB2"],categorical:["#05598C","#FEFEB2","#A1A698","#537785","#C3C385","#B5B591","#7D8F91","#2D6483","#DDDD8B","#919B96","#BCBC8B","#3F6C82","#CDCD83","#1C5E87","#ADAE95","#68838B","#EEEE9C","#A7AA97","#879594","#C8C783","#F6F6A7","#135C89","#B9B98E","#497183","#73898E","#366882","#C0BF88","#D4D486","#99A097","#B1B293","#5E7D88","#256185","#E6E693","#829293","#788C90","#9DA398","#AAAC96","#E1E18F","#3B6A82","#638089","#B3B492","#A4A897","#446F82","#BABA8C","#D8D888","#185D88","#8C9895","#215F86","#BEBD89","#B7B78F","#CACA83","#4E7484","#C1C186","#959E97","#F2F2A1","#AFB094","#326682","#587A86","#296284","#FAFAAD","#6E868C","#C5C584","#D1D084","#0D5B8B","#E9E997","#DFDF8D","#66818A","#B0B194","#5B7B87","#2B6383","#859493","#CCCB83","#F8F8AA","#D2D285","#1F5F86","#70878D","#4B7383","#768B8F","#FCFCAF","#A9AB97","#BFBE88","#C9C983","#346782","#DBDA89","#236085","#BDBD8A","#BAB98D","#B8B88E","#2F6583","#939C97","#9FA498","#A2A798","#CFCF84","#B4B591","#C4C485","#979F97","#F0F09E","#155C89","#9BA298","#517584"]},oleron:{discrete:["#1A2659","#212E61","#293568","#323F72","#3A477A","#424F82","#4A578A","#535F92","#5D699C","#6572A5","#6E7BAE","#7784B7","#808DC0","#8B97CA","#94A1D3","#9DAADC","#A6B3E5","#AFBCEC","#B9C6F2","#C0CDF5","#C7D4F7","#CEDAF9","#D4E1FB","#DCE9FD","#E3F0FE","#1F4E00","#2C5100","#3A5600","#445900","#4F5C02","#5A6005","#65660C","#736D18","#7E7423","#8A7B2E","#94823A","#9F8945","#AC9253","#B79A5E","#C3A36A","#CEAC75","#D9B581","#E5C090","#EDC99D","#F2D2A9","#F6DAB5","#F8E2C0","#FAECCE","#FBF4DA","#FDFDE6"],categorical:["#1A2659","#212E61","#293568","#323F72","#3A477A","#424F82","#4A578A","#535F92","#5D699C","#6572A5","#6E7BAE","#7784B7","#808DC0","#8B97CA","#94A1D3","#9DAADC","#A6B3E5","#AFBCEC","#B9C6F2","#C0CDF5","#C7D4F7","#CEDAF9","#D4E1FB","#DCE9FD","#E3F0FE","#1F4E00","#2C5100","#3A5600","#445900","#4F5C02","#5A6005","#65660C","#736D18","#7E7423","#8A7B2E","#94823A","#9F8945","#AC9253","#B79A5E","#C3A36A","#CEAC75","#D9B581","#E5C090","#EDC99D","#F2D2A9","#F6DAB5","#F8E2C0","#FAECCE","#FBF4DA","#FDFDE6"]},oslo:{discrete:["#010101","#04070B","#060C13","#0A121B","#0C1620","#0D1927","#0E1D2D","#0F2133","#10263C","#112A43","#122E4A","#133251","#153758","#173C61","#194169","#1B4670","#1E4A78","#214F80","#255589","#295A91","#2E5F99","#3364A1","#3A6AA9","#4371B2","#4B77B9","#537DBE","#5B83C3","#6489C6","#6B8EC8","#7292C9","#7896C9","#7E9ACA","#859ECA","#8BA2C9","#91A6C9","#97A9C9","#9DADC9","#A4B2CA","#AAB6CA","#B1BBCB","#B8BFCD","#BFC5CF","#C7CCD3","#CFD2D8","#D7D9DD","#DEE0E2","#E6E7E9","#EFF0F1","#F7F7F8","#FFFFFF"],categorical:["#030609","#F9F9F9","#507BBC","#163B5E","#A0AFC9","#7B98CA","#27588E","#0E2032","#CACED5","#122D48","#3767A6","#1D4875","#8DA3C9","#E2E3E5","#678BC7","#B4BDCC","#0C151F","#BFC5CF","#97A9C9","#4371B2","#10263D","#080E16","#7292C9","#215081","#2E5F99","#AAB6CA","#ECEDEE","#0D1A28","#143454","#D5D8DC","#5B83C3","#19426A","#859ECA","#13314E","#0E1D2D","#3D6CAC","#6C8FC8","#7795C9","#F3F3F4","#4976B8","#245488","#DBDDE0","#112A43","#92A6C9","#C5C9D2","#809BCA","#0F2337","#3263A0","#050A10","#B9C1CD","#1F4C7B","#183E64","#A5B3CA","#0A121B","#9CACC9","#6187C5","#0D1824","#8AA1CA","#2A5B93","#547EBF","#D1D3D9","#E6E7E9","#1B456F","#B0BACB","#153758","#7494C9","#D8DADE","#6A8DC8","#90A5C9","#99ABC9","#235285","#133251","#060C13","#406EAF","#7E9ACA","#173C61","#4C78BA","#122F4B","#1C4772","#87A0CA","#CED1D7","#C2C7D1","#0F253A","#2C5D96","#C7CCD3","#112B45","#EFF0F1","#6F90C9","#0E1E2F","#ADB8CB","#7997CA","#4673B5","#15395B","#091018","#194067","#30619C","#94A8C9","#F6F6F6","#0F2135","#A3B1CA"]},roma:{discrete:["#7E1700","#832504","#883008","#8F3C0C","#934610","#984E14","#9C5717","#A05F1B","#A5681F","#A97023","#AD7826","#B0802B","#B58930","#BA9437","#BE9D3E","#C2A647","#C7B051","#CBBA5D","#CFC66D","#D1CF7B","#D2D78A","#D2DE98","#D0E4A6","#CBE8B4","#C4EABE","#BDEAC6","#B3E9CD","#A6E6D2","#9BE2D5","#8EDDD7","#81D7D7","#74CFD6","#64C6D5","#59BDD2","#4FB5D0","#46ACCC","#3EA4C9","#379AC5","#3292C2","#2E8ABF","#2B82BB","#287AB8","#2471B4","#2269B0","#1F60AD","#1C58A9","#194FA5","#1344A0","#0C3B9C","#033198"],categorical:["#7E1700","#832504","#883008","#8F3C0C","#934610","#984E14","#9C5717","#A05F1B","#A5681F","#A97023","#AD7826","#B0802B","#B58930","#BA9437","#BE9D3E","#C2A647","#C7B051","#CBBA5D","#CFC66D","#D1CF7B","#D2D78A","#D2DE98","#D0E4A6","#CBE8B4","#C4EABE","#BDEAC6","#B3E9CD","#A6E6D2","#9BE2D5","#8EDDD7","#81D7D7","#74CFD6","#64C6D5","#59BDD2","#4FB5D0","#46ACCC","#3EA4C9","#379AC5","#3292C2","#2E8ABF","#2B82BB","#287AB8","#2471B4","#2269B0","#1F60AD","#1C58A9","#194FA5","#1344A0","#0C3B9C","#033198"]},romao:{discrete:["#733957","#773850","#7A3849","#7E3942","#823C3D","#863F38","#8A4334","#8E4831","#94502E","#98572C","#9D5F2B","#A3672C","#A8712E","#AF7D32","#B58837","#BB933F","#C19F47","#C6AA52","#CDB761","#D1C26E","#D4CB7B","#D6D388","#D5D995","#D3DEA3","#CEE0AD","#C8E1B6","#C1E1BE","#B6DEC5","#ABDBC9","#A0D6CC","#94D0CE","#88C9CF","#7BC0CE","#70B8CD","#67AFCA","#5FA6C7","#589CC4","#5291BE","#4F88B9","#4E7EB3","#4F75AC","#516BA4","#55609A","#595891","#5D5087","#62497D","#664474","#6B3F69","#6F3B60","#723959"],categorical:["#733957","#773850","#7A3849","#7E3942","#823C3D","#863F38","#8A4334","#8E4831","#94502E","#98572C","#9D5F2B","#A3672C","#A8712E","#AF7D32","#B58837","#BB933F","#C19F47","#C6AA52","#CDB761","#D1C26E","#D4CB7B","#D6D388","#D5D995","#D3DEA3","#CEE0AD","#C8E1B6","#C1E1BE","#B6DEC5","#ABDBC9","#A0D6CC","#94D0CE","#88C9CF","#7BC0CE","#70B8CD","#67AFCA","#5FA6C7","#589CC4","#5291BE","#4F88B9","#4E7EB3","#4F75AC","#516BA4","#55609A","#595891","#5D5087","#62497D","#664474","#6B3F69","#6F3B60","#723959"]},tofino:{discrete:["#DED9FF","#D0CFF9","#C3C6F3","#B3BBEC","#A6B1E6","#98A8E1","#8B9FDB","#7E95D4","#6E89CB","#617FC3","#5575B8","#4A6BAC","#4262A0","#395790","#334F83","#2E4776","#293F6A","#24385D","#1F304F","#1B2943","#172338","#141D2E","#111824","#0F151B","#0D1516","#0D1712","#0F1B12","#112113","#142716","#162F19","#1A361C","#1D3E20","#224825","#26512A","#2A5A2E","#2E6233","#336C38","#39773E","#3F8144","#488B4A","#529551","#5FA059","#70AB63","#7FB46B","#8EBD73","#9DC57B","#ACCD83","#BDD68C","#CCDE94","#DBE69B"],categorical:["#DED9FF","#D0CFF9","#C3C6F3","#B3BBEC","#A6B1E6","#98A8E1","#8B9FDB","#7E95D4","#6E89CB","#617FC3","#5575B8","#4A6BAC","#4262A0","#395790","#334F83","#2E4776","#293F6A","#24385D","#1F304F","#1B2943","#172338","#141D2E","#111824","#0F151B","#0D1516","#0D1712","#0F1B12","#112113","#142716","#162F19","#1A361C","#1D3E20","#224825","#26512A","#2A5A2E","#2E6233","#336C38","#39773E","#3F8144","#488B4A","#529551","#5FA059","#70AB63","#7FB46B","#8EBD73","#9DC57B","#ACCD83","#BDD68C","#CCDE94","#DBE69B"]},tokyo:{discrete:["#1C0E34","#241036","#2D1339","#37163D","#3F1A40","#481E43","#4F2345","#562948","#5D304A","#62354C","#663B4D","#69404E","#6B454F","#6D4B50","#6E4F50","#6F5251","#6F5651","#705951","#715C52","#715F52","#716252","#726452","#726753","#736B53","#736E53","#747153","#757554","#757A54","#767E55","#778355","#788856","#798E57","#7B9558","#7C9B5A","#7EA25C","#81A95E","#84B062","#88B968","#8DC16E","#93CA76","#9BD27F","#A4DA8A","#AFE398","#BAEAA4","#C5EFB0","#CFF4BB","#D8F7C5","#E2F9CF","#E9FBD7","#EFFCDD"],categorical:["#1C0E34","#EFFCDD","#747053","#6C4750","#87B666","#B8E8A1","#512446","#715D52","#798B56","#7D9F5B","#37163D","#726653","#99D07D","#63374C","#6F5451","#D8F7C5","#767C54","#705951","#5B2D49","#7B9558","#441D41","#291238","#E5FAD2","#C9F1B4","#716252","#81AA5F","#683F4E","#736B53","#6E4E50","#757654","#8EC370","#A7DD8E","#778455","#747354","#84B062","#231036","#93CA76","#DFF9CC","#30143A","#A0D785","#7FA45D","#EAFBD8","#6A434F","#C1EDAB","#736D53","#562948","#6D4B50","#7A9057","#7C9A59","#4B2044","#715F52","#663B4D","#D1F4BD","#705651","#8ABD6A","#6E5151","#AFE398","#5F324B","#757954","#3E193F","#726853","#726452","#778055","#705B52","#788756","#61344C","#746E53","#ABE093","#532747","#85B364","#7EA25C","#261137","#736C53","#E8FBD5","#4E2245","#88B968","#798E57","#767E55","#726753","#757754","#715E52","#3A183E","#6E4F51","#778255","#7B9759","#DCF8C9","#EDFCDA","#411B40","#7D9C5A","#767B54","#726352","#6F5551","#726552","#82AD60","#D5F6C1","#34153C","#9CD481","#747454","#C5EFB0","#481E43"]},turku:{discrete:["#000000","#090908","#111110","#181816","#1D1D1A","#22221F","#272723","#2C2C27","#33322B","#38382F","#3D3D32","#424235","#474738","#4E4D3C","#53523E","#585841","#5D5D43","#626246","#686848","#6E6D4B","#73724D","#797750","#7F7D52","#878356","#8E8859","#968E5C","#9D9360","#A79864","#AF9C68","#B69F6C","#BEA270","#C4A474","#CCA579","#D1A67D","#D7A781","#DBA886","#E0A98B","#E6AB92","#EAAD98","#EFB09F","#F2B4A7","#F6B9AE","#F9BFB7","#FBC4BF","#FDC9C6","#FECFCC","#FED4D3","#FFDBDA","#FFE0E0","#FFE6E6"],categorical:["#070707","#FFE6E6","#948D5B","#E5AA90","#4D4C3B","#2C2C27","#C3A374","#6D6C4A","#FBC4BF","#D6A780","#F2B4A7","#1C1C19","#3D3D32","#AC9A67","#7E7C52","#FED6D4","#5D5D43","#35342D","#DDA888","#141312","#55543F","#242420","#FDCDCA","#F7BCB3","#898456","#B8A06D","#ECAE9B","#CDA57A","#FFDEDD","#646447","#454537","#9F9461","#76744E","#71704C","#30302A","#414135","#181816","#FCC8C4","#EFB1A1","#838054","#F5B8AD","#E1A98C","#C8A477","#686848","#595941","#20201D","#8E8859","#D1A67D","#B29D6A","#E9AC95","#BEA270","#FED1CF","#0E0E0D","#A59764","#DAA784","#282823","#F9C0B9","#51503D","#393930","#FFDAD9","#49493A","#606045","#FFE2E1","#9A915E","#797750","#F4B6AA","#F6BAB0","#CBA578","#FFD8D6","#FECFCC","#262622","#C0A272","#868255","#1A1A18","#FAC2BC","#8B8658","#E3AA8E","#161614","#4F4E3C","#C6A475","#2E2E28","#BBA16F","#6B6A49","#E7AB93","#CFA67C","#626246","#53523E","#5B5B42","#FED3D1","#7C7A51","#817E53","#73724D","#FFDCDB","#37372E","#F8BEB6","#0B0B0A","#575740","#DFA98A","#474738","#B59F6C"]},vanimo:{discrete:["#FFCDFD","#F7BEF2","#F0B0E8","#E6A0DC","#DE93D2","#D786C8","#CF7ABF","#C76FB5","#BD63AA","#B45AA1","#AB5198","#A1498E","#964184","#883977","#7C326B","#6E2C60","#612654","#542148","#451C3B","#391931","#2F1728","#281521","#22141C","#1D1417","#1A1414","#191612","#191811","#1B1D11","#1D2212","#212913","#253014","#2B3916","#324419","#384D1B","#3F561E","#456021","#4C6924","#547427","#5A7C2A","#60852E","#678E32","#6E9737","#77A33F","#7FAE47","#88BA51","#92C65D","#9CD26B","#A9E27F","#B3EF92","#BEFDA5"],categorical:["#FFCDFD","#F7BEF2","#F0B0E8","#E6A0DC","#DE93D2","#D786C8","#CF7ABF","#C76FB5","#BD63AA","#B45AA1","#AB5198","#A1498E","#964184","#883977","#7C326B","#6E2C60","#612654","#542148","#451C3B","#391931","#2F1728","#281521","#22141C","#1D1417","#1A1414","#191612","#191811","#1B1D11","#1D2212","#212913","#253014","#2B3916","#324419","#384D1B","#3F561E","#456021","#4C6924","#547427","#5A7C2A","#60852E","#678E32","#6E9737","#77A33F","#7FAE47","#88BA51","#92C65D","#9CD26B","#A9E27F","#B3EF92","#BEFDA5"]},vik:{discrete:["#001261","#011A66","#02226B","#022B71","#023376","#023A7B","#034280","#034A85","#06548B","#0B5D91","#136697","#1E6F9D","#2B79A4","#3C85AC","#4B90B3","#5A9ABA","#6AA4C1","#7AAEC8","#8DBAD0","#9DC4D6","#ADCDDD","#BDD6E3","#CCDFE8","#DEE6E9","#E8E7E5","#EEE3DC","#EEDBD0","#EBD0C0","#E7C6B2","#E3BCA5","#DFB298","#DBA88B","#D69D7C","#D29470","#CE8B64","#CA8258","#C6794C","#C26E3F","#BE6533","#B85C28","#B2511D","#A94512","#9C3709","#912D06","#872406","#7E1D06","#741506","#6A0D07","#620607","#590008"],categorical:["#001261","#011A66","#02226B","#022B71","#023376","#023A7B","#034280","#034A85","#06548B","#0B5D91","#136697","#1E6F9D","#2B79A4","#3C85AC","#4B90B3","#5A9ABA","#6AA4C1","#7AAEC8","#8DBAD0","#9DC4D6","#ADCDDD","#BDD6E3","#CCDFE8","#DEE6E9","#E8E7E5","#EEE3DC","#EEDBD0","#EBD0C0","#E7C6B2","#E3BCA5","#DFB298","#DBA88B","#D69D7C","#D29470","#CE8B64","#CA8258","#C6794C","#C26E3F","#BE6533","#B85C28","#B2511D","#A94512","#9C3709","#912D06","#872406","#7E1D06","#741506","#6A0D07","#620607","#590008"]},viko:{discrete:["#4F1A3D","#4B1D43","#48214A","#432653","#3F2C5B","#3C3263","#38396C","#354174","#334B7F","#345487","#365E8F","#3B6797","#42719E","#4D7DA6","#5787AD","#6391B4","#709ABA","#7DA4BF","#8EAEC4","#9BB5C7","#A9BBC8","#B5C0C8","#C0C2C5","#CBC2BF","#D2C0B8","#D6BDAF","#D9B7A6","#D9AF99","#D8A88D","#D6A082","#D39776","#CF8D6B","#C8825D","#C27752","#BB6D47","#B3623D","#AA5633","#9F492A","#953E25","#8C3521","#822C1F","#7A251E","#721F1F","#6B1A21","#661824","#611627","#5C152B","#571631","#531736","#50193C"],categorical:["#4F1A3D","#4B1D43","#48214A","#432653","#3F2C5B","#3C3263","#38396C","#354174","#334B7F","#345487","#365E8F","#3B6797","#42719E","#4D7DA6","#5787AD","#6391B4","#709ABA","#7DA4BF","#8EAEC4","#9BB5C7","#A9BBC8","#B5C0C8","#C0C2C5","#CBC2BF","#D2C0B8","#D6BDAF","#D9B7A6","#D9AF99","#D8A88D","#D6A082","#D39776","#CF8D6B","#C8825D","#C27752","#BB6D47","#B3623D","#AA5633","#9F492A","#953E25","#8C3521","#822C1F","#7A251E","#721F1F","#6B1A21","#661824","#611627","#5C152B","#571631","#531736","#50193C"]}};function xe(e){const t=e.replace("#","");return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}}const pe={waves:"batlow",blksand:"tokyo",breeze:"imola",magma:"batlow",ribbon:"hawaii",stars:"batlow",folds:"imola"},ge={[d.ADVERT]:1,[d.TXT_MSG]:4,[d.GRP_TXT]:2,[d.RESPONSE]:8,[d.REQ]:13,[d.ANON_REQ]:7,[d.ACK]:11,[d.PATH]:24,[d.TRACE]:16,[d.GRP_DATA]:34,[d.MULTIPART]:52,[d.RAW_CUSTOM]:14};function fe(){let e="waves",t=!0;if("undefined"!=typeof window){e=localStorage.getItem("pymc-color-scheme")||"waves";const s=m(e);t=(null==s?void 0:s.meta.isDark)??!0}const s=pe[e]??"batlow",a=he[s],n=a.discrete.length,r=Math.floor(n/2);return{colormap:a,colormapName:s,isDark:t,baseIndex:t?r:0,halfSize:r}}let ye=null;function be(e){const{colormap:t,isDark:s}=fe();if("number"!=typeof e)return s?"#A5A5A5":"#666666";const a=ge[e];if(void 0===a)return s?"#A5A5A5":"#666666";const n=t.categorical;return n[Math.min(a,n.length-1)]}function ve(e){return xe(be(e))}const je=u("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),ke=u("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ne=u("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),we=u("columns-3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Me=u("columns-4",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7.5 3v18",key:"w0wo6v"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M16.5 3v18",key:"10tjh1"}]]),Se=u("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]),Te=u("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Re=u("grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),Pe=u("id-card",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),$e=u("radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]),Le=u("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ze=u("shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]),He=u("sparkle",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}]]),_e=u("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Oe=u("waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),Ie={useAbsoluteThresholds:!0,baselinePercentile:6,spikePercentile:50,baselineDbm:-107,spikeDbm:-100,mergeGapSeconds:45,minSequenceLength:16,similarityToleranceDbm:5};function We(e,t){if(0===e.length)return 0;const s=t/100*(e.length-1),a=Math.floor(s),n=Math.ceil(s);return a===n?e[a]:e[a]+(e[n]-e[a])*(s-a)}function Ve(e){if(0===e.length)return{median:0,p90:0,p95:0,p99:0,max:0,min:0};const t=[...e].sort((e,t)=>e-t);return{median:We(t,50),p90:We(t,90),p95:We(t,95),p99:We(t,99),max:t[t.length-1],min:t[0]}}function qe(e,t,s){const a=s-t;if(0===a)return"moderate";const n=(e-t)/a;return n>.66?"critical":n>.33?"severe":"moderate"}n.memo(function({options:e,data:t,className:s="",onCreate:a}){const l=n.useRef(null),i=n.useRef(null);return n.useEffect(()=>{const s=l.current;if(!s)return;const n=s.getBoundingClientRect(),r=Math.floor(n.width)||400,o=Math.floor(n.height)||200,c=new h({...e,width:r,height:o},t,s);return i.current=c,null==a||a(c),()=>{c.destroy(),i.current=null}},[e]),n.useEffect(()=>{i.current&&t&&i.current.setData(t)},[t]),n.useEffect(()=>{const e=l.current;if(!e)return;const t=new ResizeObserver(e=>{const t=e[0];if(!t||!i.current)return;const{width:s,height:a}=t.contentRect;s>0&&a>0&&i.current.setSize({width:Math.floor(s),height:Math.floor(a)})});return t.observe(e),()=>{t.disconnect()}},[]),r.jsx("div",{ref:l,className:`w-full h-full ${s}`,style:{minHeight:100}})});const Ge=new Map;function Xe(e){var t;if(!e.startsWith("var("))return e;const s=Ge.get(e);if(s)return s;const a=e.match(/var\(([^,)]+)(?:,\s*([^)]+))?\)/);if(!a)return e;const n=a[1].trim(),r=(null==(t=a[2])?void 0:t.trim())||"#888888",l=getComputedStyle(document.documentElement).getPropertyValue(n).trim()||r;return Ge.set(e,l),l}function Ke(e,t,s=!1){if(t.length<2)return;if(e.beginPath(),e.moveTo(t[0].x,t[0].y),2===t.length)return void e.lineTo(t[1].x,t[1].y);const a=.5;for(let n=0;n<t.length-1;n++){const s=t[Math.max(0,n-1)],r=t[n],l=t[n+1],i=t[Math.min(t.length-1,n+2)],o=r.x+(l.x-s.x)/6*a,c=r.y+(l.y-s.y)/6*a,C=l.x-(i.x-r.x)/6*a,A=l.y-(i.y-r.y)/6*a;e.bezierCurveTo(o,c,C,A,l.x,l.y)}s&&e.closePath()}n.memo(function({data:e,maxValue:t,onHover:s,highlightedItem:a=null,bandColor:l="#E12672",innerBandColor:i="#FF2D7A",meanColor:o="#FF6B9D",medianColor:c="#FF85AD",averageColor:C="#FFE135",cursorColor:A="rgba(255,255,255,0.5)"}){const D=n.useRef(null),B=n.useRef(null),F=n.useRef(e),E=n.useRef(t),m=n.useRef(a),d=n.useRef(s),u=n.useRef(e.length);n.useLayoutEffect(()=>{F.current=e,E.current=t,m.current=a,d.current=s});const x=n.useRef({band:l,innerBand:i,mean:o,median:c,average:C,cursor:A});n.useLayoutEffect(()=>{x.current={band:l,innerBand:i,mean:o,median:c,average:C,cursor:A}});const p=n.useMemo(()=>[e.map(e=>e.timestamp),e.map(e=>e.max)],[e]),g=n.useMemo(()=>{const e=function(e,t,s,a){return{hooks:{draw:n=>{const r=e.current,l=t.current,i=s.current,o=a.current;if(0===r.length)return;const c=n.ctx,C=n.bbox,A=C.left,D=C.top,B=C.width,F=C.height;if(B<=0||F<=0)return;const E=n.data[0],m=E.length;if(0===m)return;const d=E[0],u=E[m-1]-d||1,h=e=>A+(e-d)/u*B,x=e=>D+F*(1-e/l),p={min:r.map(e=>({x:h(e.timestamp),y:x(e.min)})),max:r.map(e=>({x:h(e.timestamp),y:x(e.max)})),p5:r.map(e=>({x:h(e.timestamp),y:x(e.p5)})),p95:r.map(e=>({x:h(e.timestamp),y:x(e.p95)})),p25:r.map(e=>({x:h(e.timestamp),y:x(e.p25)})),p75:r.map(e=>({x:h(e.timestamp),y:x(e.p75)})),mean:r.map(e=>({x:h(e.timestamp),y:x(e.mean)})),median:r.map(e=>({x:h(e.timestamp),y:x(e.median)})),average:r.map(e=>({x:h(e.timestamp),y:x(e.average)}))},g=(e,t)=>i?i===e?Math.min(1,1.5*t):"minMax"===i||"p5p95"===i||"p25p75"===i?.3*t:t:t,f=e=>i?i===e?1:"mean"===i||"median"===i||"average"===i?.3:1:1,y={band:Xe(o.band),innerBand:Xe(o.innerBand),mean:Xe(o.mean),median:Xe(o.median),average:Xe(o.average)};c.save(),c.strokeStyle=y.average,c.lineWidth=4,c.globalAlpha=f("average"),Ke(c,p.average),c.stroke(),c.globalAlpha=g("minMax",.15),c.fillStyle=y.band,c.beginPath(),Ke(c,p.max);const b=[...p.min].reverse();for(const e of b)c.lineTo(e.x,e.y);c.closePath(),c.fill(),c.globalAlpha=g("p5p95",.3),c.fillStyle=y.band,c.beginPath(),Ke(c,p.p95);const v=[...p.p5].reverse();for(const e of v)c.lineTo(e.x,e.y);c.closePath(),c.fill(),c.globalAlpha=g("p25p75",.55),c.fillStyle=y.innerBand,c.beginPath(),Ke(c,p.p75);const j=[...p.p25].reverse();for(const e of j)c.lineTo(e.x,e.y);c.closePath(),c.fill(),c.strokeStyle=y.median,c.lineWidth=1.5,c.globalAlpha=f("median"),c.setLineDash([4,4]),Ke(c,p.median),c.stroke(),c.strokeStyle=y.mean,c.lineWidth=1.5,c.globalAlpha=f("mean"),c.setLineDash([]),Ke(c,p.mean),c.stroke(),c.restore()}}}}(F,E,m,x);return{width:400,height:200,padding:[4,4,4,4],cursor:{show:!0,x:!0,y:!1,drag:{x:!1,y:!1},points:{show:!1}},scales:{x:{time:!0},y:{range:[0,t]}},axes:[{show:!1},{show:!1}],series:[{},{show:!1}],hooks:{setCursor:[e=>{var t,s;const a=e.cursor.idx;null!=a&&a>=0?null==(t=d.current)||t.call(d,a):null==(s=d.current)||s.call(d,null)}]},plugins:[e]}},[t]);n.useEffect(()=>{const t=D.current;if(!t||0===e.length)return;const s=u.current,a=e.length,n=Math.abs(a-s);if(!(!B.current||n>100||s>0&&n/s>.1)&&B.current)return B.current.setData(p),void(u.current=a);B.current&&B.current.destroy();const r=t.getBoundingClientRect(),l=Math.floor(r.width)||400,i=Math.floor(r.height)||200,o=new h({...g,width:l,height:i},p,t);return B.current=o,u.current=a,()=>{o.destroy(),B.current=null}},[g,p,e.length]),n.useEffect(()=>{const e=D.current;if(!e)return;const t=new ResizeObserver(e=>{const t=e[0];if(!t||!B.current)return;const{width:s,height:a}=t.contentRect;s>0&&a>0&&B.current.setSize({width:Math.floor(s),height:Math.floor(a)})});return t.observe(e),()=>{t.disconnect()}},[]),n.useEffect(()=>{B.current&&B.current.redraw()},[a,e]);const f=n.useCallback(()=>{null==s||s(null)},[s]);return 0===e.length?r.jsx("div",{className:"h-full flex items-center justify-center text-text-muted",children:"No data available"}):r.jsx("div",{ref:D,className:"w-full h-full rounded-2xl overflow-hidden",onMouseLeave:f})});const Ye="undefined"!=typeof window&&(null==(t=null==(e=window.matchMedia)?void 0:e.call(window,"(color-gamut: p3)"))?void 0:t.matches);function Qe(){const e=getComputedStyle(document.documentElement);return{fontFamily:e.getPropertyValue("--font-data").trim()||'"JetBrains Mono", ui-monospace, monospace',axisColor:e.getPropertyValue("--chart-axis-tick").trim()||"rgba(255, 255, 255, 0.4)",gridColor:e.getPropertyValue("--chart-grid").trim()||"rgba(255, 255, 255, 0.06)",textMuted:e.getPropertyValue("--text-muted").trim()||"#727272",textPrimary:e.getPropertyValue("--text-primary").trim()||"#FFFFFF"}}const Ue=["min","max","p75","p95","p99","mean","median","average","midpoint"];function Ze(e){const t=xe(function(e){const{colormap:t,baseIndex:s,halfSize:a}=fe(),n=Math.max(0,Math.min(1,e)),r=Math.min(s+Math.floor(n*(a-1)),t.discrete.length-1);return t.discrete[r]}(e)),s=`color(display-p3 ${(t.r/255).toFixed(3)} ${(t.g/255).toFixed(3)} ${(t.b/255).toFixed(3)})`;return{...t,p3:s}}function Je(e,t,s,a,n,r,l,i,o,c=null,C=null,A=1,D=null,B="airtime",F=.5){if(0===t.length)return;const E=e.ctx,{left:m,top:d,width:u,height:h}=e.bbox,x=window.devicePixelRatio||1;if(u<=0||h<=0)return;const p=e.data[0],g=p.length;if(0===g)return;const f=p[0],y=p[g-1],b=s,v="share"===B,j=v?function(e){const t=[10,20,25,50,100,200,250,500,1e3],s=e/4.5;for(const a of t)if(a>=s)return a;return e>5e3?1e3*Math.ceil(s/1e3):100*Math.ceil(s/100)}(b):5,k=getComputedStyle(document.documentElement),N=k.getPropertyValue("--signal-critical").trim()||"#EF4444",w=k.getPropertyValue("--bg-body").trim()||"#171717";E.save(),E.fillStyle="#000000";const M=8*x;E.beginPath(),E.roundRect(m,d,u,h,M),E.fill(),E.restore();const S=parseInt(w.slice(1,3),16)||23,T=parseInt(w.slice(3,5),16)||23,R=parseInt(w.slice(5,7),16)||23;if(!v&&b>=20){E.save();const e=d+h*(1-20/b);E.fillStyle=`rgba(${S}, ${T}, ${R}, 0.5)`,E.fillRect(m,d,u,e-d),E.restore()}E.save(),E.lineWidth=1*x,E.setLineDash([4*x,4*x]);for(let $=j;$<b;$+=j){const e=$/b,t=Math.round(d+h*(1-e))+.5;v||20!==$?(E.strokeStyle=r.textPrimary,E.globalAlpha=.25):(E.strokeStyle=N,E.globalAlpha=1),E.beginPath(),E.moveTo(Math.round(m),t),E.lineTo(Math.round(m+u),t),E.stroke()}E.restore(),E.save(),E.font=`bold ${10*x}px ${r.fontFamily}`,E.fillStyle=r.textPrimary,E.textBaseline="middle",E.textAlign="left";const P=8*x;for(let $=0;$<=b;$+=j){const e=d+h*(1-$/b),t=Math.max(d+P,Math.min(d+h-P,e)),s=v?`${$}B`:`${$}%`;E.fillText(s,0,t)}if(E.restore(),function(e,t,s,a,n,r,l){if(null===t)return;if(t<s||t>s+n)return;const i=getComputedStyle(document.documentElement).getPropertyValue("--text-primary").trim()||"#FFFFFF";e.save(),e.strokeStyle=i,e.globalAlpha=.5,e.lineWidth=1*l,e.setLineDash([4*l,4*l]),e.beginPath(),e.moveTo(Math.round(t)+.5,a),e.lineTo(Math.round(t)+.5,a+r),e.stroke(),e.restore()}(E,D,m,d,u,h,x),l){!function(e,t,s,a,n,r,l=null,i=null,o=1,c=25){const{points:C,rawValues:A,count:D,packetTypes:B,timestamps:F}=t,E=1*o*(window.devicePixelRatio||1);e.globalCompositeOperation="source-over";const m=l?parseInt(l.replace("TYPE_",""),10):null;for(let d=0;d<D;d++){const t=C[2*d],l=A[d],o=s+t*n,D=a+(1-Math.min(1,Math.max(0,l/c)))*r,u=B[d],h=ve(u);let x=!0;if(i&&F){const e=F[d];x=e>=i.start&&e<i.end}const p=!x||null!==m&&u!==m?.03:.5;e.fillStyle=`rgba(${h.r}, ${h.g}, ${h.b}, ${p})`,e.beginPath(),e.arc(o,D,E,0,2*Math.PI),e.fill()}e.globalCompositeOperation="source-over"}(E,l,m,d,u,h,c,C,A,b),E.save(),E.font=`bold ${9*x}px ${r.fontFamily}`,E.textBaseline="middle",E.textAlign="left";const e=l.maxValue,t=[{pct:0,label:`${e.toFixed(0)}%`},{pct:.25,label:`${(.75*e).toFixed(0)}%`},{pct:.5,label:`${(.5*e).toFixed(0)}%`},{pct:.75,label:`${(.25*e).toFixed(0)}%`},{pct:1,label:"0%"}];for(const{pct:s,label:a}of t){const e=d+h*s,t=Ze(1-s);E.fillStyle=`rgb(${t.r}, ${t.g}, ${t.b})`,E.fillText(a,m+u+8*x,e)}E.restore()}o&&i&&i.length>0&&function(e,t,s,a,n,r,l,i,o,c,C=.5){if(0===t.length)return;const A=o-i||1,D=function(e,t=1.3,s=.15){const a=function(e){const t=e.match(/color\(display-p3\s+([\d.]+)\s+([\d.]+)\s+([\d.]+)/);if(t){const e=parseFloat(t[1]),s=parseFloat(t[2]),a=parseFloat(t[3]);return{r:Math.round(255*e),g:Math.round(255*s),b:Math.round(255*a),p3r:e,p3g:s,p3b:a}}if(e.startsWith("#")){const t=e.replace("#",""),s=parseInt(t.slice(0,2),16),a=parseInt(t.slice(2,4),16),n=parseInt(t.slice(4,6),16);return{r:s,g:a,b:n,p3r:s/255,p3g:a/255,p3b:n/255}}const s=e.match(/rgba?\(([\d.]+),?\s*([\d.]+),?\s*([\d.]+)/);if(s){const e=Math.round(parseFloat(s[1])),t=Math.round(parseFloat(s[2])),a=Math.round(parseFloat(s[3]));return{r:e,g:t,b:a,p3r:e/255,p3g:t/255,p3b:a/255}}return{r:255,g:255,b:255,p3r:1,p3g:1,p3b:1}}(e),n=function(e,t,s,a=1.25,n=.15){const r=(Math.max(e,t,s)+Math.min(e,t,s))/2;return{p3r:Math.min(1,r+(e-r)*a+n),p3g:Math.min(1,r+(t-r)*a+n),p3b:Math.min(1,r+(s-r)*a+n)}}(a.p3r,a.p3g,a.p3b,t,s);return{r:Math.round(255*Math.min(1,n.p3r)),g:Math.round(255*Math.min(1,n.p3g)),b:Math.round(255*Math.min(1,n.p3b)),p3r:Math.min(1,n.p3r),p3g:Math.min(1,n.p3g),p3b:Math.min(1,n.p3b)}}(getComputedStyle(document.documentElement).getPropertyValue("--signal-critical").trim()||"#EF4444");e.save(),e.globalAlpha=C,e.fillStyle=Ye?`color(display-p3 ${D.p3r} ${D.p3g} ${D.p3b})`:`rgb(${D.r}, ${D.g}, ${D.b})`;for(const B of t){if(B.endTs<i||B.startTs>o)continue;const t=a+(Math.max(B.startTs,i)-i)/A*r,s=a+(Math.min(B.endTs,o)-i)/A*r,C=Math.max(s-t,2*c);e.fillRect(t,n,C,l)}e.restore()}(E,i,0,m,d,u,h,f,y,x,C?Math.max(.03,.03*F):F)}const et=n.memo(function({data:e,maxValue:t,visibleLines:s=Ue,highlightedLine:a=null,onHover:l,scatterData:i=null,noiseFloorAnomalies:o=null,showNoiseFloorOverlay:c=!1,overlayOpacity:C=.5,highlightedType:A=null,hoveredTimeRange:D=null,timeRangeHours:B=24,yAxisMode:F="airtime"}){const E=n.useRef(null),m=n.useRef(null),d=n.useRef(e),u=n.useRef(t),x=n.useRef(s),p=n.useRef(a),g=n.useRef(l),f=n.useRef(i),y=n.useRef(o),b=n.useRef(c),v=n.useRef(A),j=n.useRef(D),k=n.useRef(null),N=n.useRef(null),w=n.useRef(F),M=n.useRef(C),S=B<=12?1.2:1,T=n.useRef(S),R=n.useRef(e.length);n.useLayoutEffect(()=>{d.current=e,u.current=t,x.current=s,p.current=a,g.current=l,f.current=i,y.current=o,b.current=c,v.current=A,j.current=D,T.current=S,w.current=F,M.current=C}),n.useEffect(()=>{k.current=Qe()},[]);const P=n.useMemo(()=>[e.map(e=>e.timestamp),new Array(e.length).fill(1)],[e]),$=n.useMemo(()=>({hooks:{draw:e=>{const t=k.current||Qe();Je(e,d.current,u.current,x.current,p.current,t,f.current,y.current,b.current,v.current,j.current,T.current,N.current,w.current,M.current)}}}),[]),L=n.useMemo(()=>({width:400,height:200,padding:[8,0,8,28],cursor:{show:!1,x:!1,y:!1,drag:{x:!1,y:!1},points:{show:!1}},scales:{x:{time:!0},y:{range:[0,1]}},axes:[{show:!1},{show:!1}],series:[{},{show:!1}],plugins:[$]}),[$]);n.useEffect(()=>{const t=E.current;if(!t||0===e.length)return;const s=R.current,a=e.length,n=Math.abs(a-s);if(!(!m.current||n>100||s>0&&n/s>.1)&&m.current)return m.current.setData(P),void(R.current=a);m.current&&m.current.destroy();const r=t.getBoundingClientRect(),l=Math.floor(r.width)||400,i=Math.floor(r.height)||200,o=new h({...L,width:l,height:i},P,t);return m.current=o,R.current=a,()=>{o.destroy(),m.current=null}},[L,P,e.length]),n.useEffect(()=>{const e=E.current;if(!e)return;const t=new ResizeObserver(e=>{const t=e[0];if(!t||!m.current)return;const{width:s,height:a}=t.contentRect;s>0&&a>0&&m.current.setSize({width:Math.floor(s),height:Math.floor(a)})});return t.observe(e),()=>{t.disconnect()}},[]),n.useEffect(()=>{m.current&&m.current.redraw()},[a,s,e,i,o,c,C,A,D,S]);const z=n.useCallback(t=>{var s,a;const n=E.current,r=m.current;if(!n||!r||0===e.length)return;const l=n.getBoundingClientRect(),i=t.clientX-l.left,o=window.devicePixelRatio||1,c=r.bbox,C=c.left/o,A=c.width/o;if(i<C||i>C+A)return N.current=null,r.redraw(),void(null==(s=g.current)||s.call(g,null));N.current=i*o;const D=(i-C)/A,B=e.length,F=Math.floor(D*B),d=Math.max(0,Math.min(B-1,F));r.redraw(),null==(a=g.current)||a.call(g,d)},[e.length]),H=n.useCallback(()=>{var e;N.current=null,m.current&&m.current.redraw(),null==(e=g.current)||e.call(g,null)},[]);return 0===e.length?r.jsx("div",{className:"h-full flex items-center justify-center text-text-muted",children:"No data available"}):r.jsx("div",{ref:E,className:"w-full h-full rounded-lg overflow-hidden",onMouseMove:z,onMouseLeave:H})}),tt=function(e){const t=be(e);return null===ye&&(ye=E()),ye?F(t):t};function st({sortedTypes:e,highlightedType:t,onTypeHover:s,aggregateShares:a,hoverData:l}){const i=n.useMemo(()=>{if(!l)return null;const e=new Map;for(const t of l.items)e.set(t.key,t.value);return e},[l]),o=null!==i;return r.jsx("div",{className:"flex-shrink-0 pt-3 mt-2",children:r.jsx("div",{className:"grid ml-9 gap-y-0.5",style:{gridTemplateColumns:"repeat(auto-fill, minmax(105px, 1fr))"},onMouseLeave:()=>s(null),children:e.map(e=>{const n=tt(e.typeNum),l=(null==i?void 0:i.get(e.key))??0,c=a.get(e.key)??0,C=o?l:c,A=C>1e-4,D=t===e.key,B=["legend-item",D&&"legend-item-active",(t&&!D||o&&l<=1e-4)&&"legend-item-dimmed",!t&&o&&l>1e-4&&"legend-item-chart-active"].filter(Boolean).join(" ");return r.jsxs("div",{className:B,onMouseEnter:()=>s(e.key),children:[r.jsx("div",{className:"flex-shrink-0",style:{backgroundColor:n,width:9,height:16,borderRadius:1}}),r.jsx("span",{className:"legend-label",children:e.label}),A&&r.jsxs("span",{className:"legend-value "+(o?"legend-value-live":""),children:[(100*C).toFixed(1),"%"]})]},e.key)})})})}const at='ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace';function nt({x:e,y:t,width:s,height:a,name:n,size:l,index:i,depth:o,hoveredIndex:c,onHover:C,total:A,typeNum:D}){if(1!==o)return null;const B=null!==c&&!(c===i),F=tt(D),E=A>0?l/A*100:0,m=s>36&&a>20,d=s>36&&a>32;return r.jsxs("g",{onMouseEnter:e=>C(i,e),onMouseLeave:()=>C(null),style:{cursor:"default"},children:[r.jsx("rect",{x:e,y:t,width:s,height:a,fill:F,opacity:B?.4:1,stroke:"rgba(0,0,0,0.2)",strokeWidth:1,rx:3,style:{transition:"opacity 150ms ease"}}),m&&r.jsxs(r.Fragment,{children:[d&&r.jsxs("text",{x:e+4,y:t+a-4-11,textAnchor:"start",dominantBaseline:"auto",fill:"rgba(0,0,0,0.6)",fontSize:8,fontFamily:at,fontWeight:500,style:{pointerEvents:"none"},children:[E.toFixed(1),"%"]}),r.jsx("text",{x:e+4,y:t+a-4,textAnchor:"start",dominantBaseline:"auto",fill:"rgba(0,0,0,0.85)",fontSize:9,fontFamily:at,fontWeight:600,style:{pointerEvents:"none"},children:n})]})]})}function rt({data:e,total:t,color:s,position:a,containerWidth:n}){if(!e||!a)return null;const l=(e.value/t*100).toFixed(1),i=n-a.x<184?Math.max(8,a.x-160-8):a.x+16;return r.jsx("div",{className:"absolute z-50 pointer-events-none",style:{left:i,top:Math.max(8,a.y-60)},children:r.jsxs("div",{className:"bg-tooltip-bg border border-border-subtle rounded-lg px-3 py-2 shadow-xl min-w-[140px]",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"w-2.5 h-2.5 rounded-sm flex-shrink-0",style:{backgroundColor:s}}),r.jsx("span",{className:"type-data-sm font-semibold text-text-primary",children:e.name})]}),r.jsxs("div",{className:"space-y-0.5 type-data-xs text-text-muted",children:[r.jsxs("div",{className:"flex justify-between gap-4",children:[r.jsx("span",{children:"Count"}),r.jsx("span",{className:"text-text-primary tabular-nums font-medium",children:e.value.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between gap-4",children:[r.jsx("span",{children:"Share"}),r.jsxs("span",{className:"text-text-primary tabular-nums font-medium",children:[l,"%"]})]}),r.jsxs("div",{className:"flex justify-between gap-4",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{className:"text-text-primary tabular-nums font-medium",children:t.toLocaleString()})]})]})]})})}function lt({sortedTypes:e,aggregateShares:t}){var s,a,o;const[c,C]=n.useState(null),[A,D]=n.useState(null),[B,F]=n.useState(0),[E,m]=n.useState(null),d=n.useRef(null),u=n.useMemo(()=>e.reduce((e,t)=>e+t.totalCount,0),[e]),h=n.useMemo(()=>e.map((e,t)=>({name:e.label,size:e.totalCount,index:t,typeNum:e.typeNum,key:e.key})),[e]),x=n.useCallback((e,t)=>{if(C(e),t&&null!==e){const e=d.current;if(e){const s=e.getBoundingClientRect();F(s.width),D({x:t.clientX-s.left,y:t.clientY-s.top})}}else D(null)},[]),p=n.useCallback(e=>{if(m(e),e){const t=h.findIndex(t=>t.key===e);C(t>=0?t:null)}else C(null)},[h]),g=null!==c?{name:(null==(s=h[c])?void 0:s.name)??"",value:(null==(a=h[c])?void 0:a.size)??0}:null,f=null!==c?tt(null==(o=h[c])?void 0:o.typeNum):"";return 0===e.length||0===u?r.jsxs("div",{className:"h-full flex items-center justify-center text-text-muted",children:[r.jsx(ee,{className:"w-6 h-6 mr-2 opacity-50"}),r.jsx("span",{children:"No packet type data available"})]}):r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"analyzer-chart-height relative flex-shrink-0",ref:d,children:[r.jsx(l,{width:"100%",height:"100%",children:r.jsx(i,{data:h,dataKey:"size",aspectRatio:4/3,stroke:"none",isAnimationActive:!1,content:r.jsx(nt,{x:0,y:0,width:0,height:0,name:"",size:0,index:0,depth:0,hoveredIndex:c,onHover:x,total:u,typeNum:0})})}),r.jsx(rt,{data:g,total:u,color:f,position:A,containerWidth:B})]}),r.jsx(st,{sortedTypes:e,highlightedType:E,onTypeHover:p,aggregateShares:t})]})}function it(e){return e>=1e9?`${(e/1e9).toFixed(1)} Gb`:e>=1e6?`${(e/1e6).toFixed(1)} Mb`:e>=1e3?`${(e/1e3).toFixed(1)} Kb`:`${e.toFixed(0)} B`}function ot({active:e,payload:t,label:s,mode:a}){if(!e||!t||0===t.length)return null;const n=t.filter(e=>null!==e.value&&void 0!==e.value);if(0===n.length)return null;const l=s?new Date(1e3*s).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"";return r.jsxs("div",{className:"bg-tooltip-bg border border-border-subtle rounded-lg px-3 py-2 text-sm shadow-xl",children:[r.jsx("div",{className:"font-medium text-text-primary mb-1 font-mono",children:l}),n.map((e,t)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-0.5",style:{backgroundColor:e.color}}),r.jsxs("span",{className:"text-text-muted",children:[e.name,":"]}),r.jsx("span",{className:"text-text-primary tabular-nums font-mono",children:"share"===a?`${Number(e.value).toLocaleString()} B`:`${Number(e.value).toFixed(2)}%`})]},t))]})}function ct({packets:e,mode:t,startTs:s,endTs:a,radioConfig:i,bucketCount:F}){const E=X(),m=K(),d=E.primary,u=E.tertiary,[h,f]=n.useState(null),{trendData:y,totals:b}=n.useMemo(()=>{if(0===e.length)return{trendData:[],totals:{rxBytes:0,txBytes:0,rxAirtime:0,txAirtime:0}};const n=a-s,r=Math.min(Math.ceil(n/300),F),l=n/r,o=[];let c=0,C=0,A=0,D=0;for(const t of e){const e=t.timestamp;if(e<s||e>=a)continue;const n=x(t),r=p(t,{spreadingFactor:i.sf,bandwidthHz:i.bw,codingRate:i.cr,preambleLength:i.preamble}),l={timestamp:e,rxAirtime:0,txAirtime:0,rxBytes:0,txBytes:0};t.transmitted?(l.txAirtime=r,l.txBytes=n,C+=n,D+=r):(l.rxAirtime=r,l.rxBytes=n,c+=n,A+=r),o.push(l)}o.sort((e,t)=>e.timestamp-t.timestamp);const B=new Float64Array(o.length+1),E=new Float64Array(o.length+1),m=new Float64Array(o.length+1),d=new Float64Array(o.length+1),u=new Float64Array(o.length);for(let e=0;e<o.length;e++)B[e+1]=B[e]+o[e].rxAirtime,E[e+1]=E[e]+o[e].txAirtime,m[e+1]=m[e]+o[e].rxBytes,d[e+1]=d[e]+o[e].txBytes,u[e]=o[e].timestamp;const h=e=>{let t=0,s=u.length;for(;t<s;){const a=t+s>>>1;u[a]<e?t=a+1:s=a}return t},g=[],f=3e5;for(let e=0;e<r;e++){const a=s+e*l,n=a+l,r=h(a),i=h(n);if("share"===t){const e=m[i]-m[r],t=d[i]-d[r];g.push({timestamp:a,rx:e>0?e:null,tx:t>0?t:null})}else{const e=(B[i]-B[r])/f*100,t=(E[i]-E[r])/f*100;g.push({timestamp:a,rx:e>0?e:null,tx:t>0?t:null})}}const y=2/31;let b=null;return{trendData:g.map(e=>{const t=e.rx;return null!==t&&t>0&&(b=null===b?t:y*t+(1-y)*b),{...e,rxSmooth:null!==b&&b>0?b:null}}),totals:{rxBytes:c,txBytes:C,rxAirtime:A,txAirtime:D}}},[e,s,a,F,t,i]),v=n.useMemo(()=>{if(0===y.length)return"share"===t?100:10;let e=0;for(const t of y){const s=t.rx??0,a=t.tx??0;s>e&&(e=s),a>e&&(e=a)}const s=1.1*e;return"share"===t?s<=100?100:s<=500?100*Math.ceil(s/100):s<=1e3?200*Math.ceil(s/200):s<=5e3?500*Math.ceil(s/500):s<=1e4?1e3*Math.ceil(s/1e3):5e3*Math.ceil(s/5e3):Math.max(1,Math.ceil(s))},[y,t]),j=n.useMemo(()=>{if(null!==h&&y[h]){const e=y[h],s=e.rx??0,a=e.tx??0;return"share"===t?{rx:it(s),tx:it(a),total:it(s+a),isHovered:!0}:{rx:`${s.toFixed(2)}%`,tx:`${a.toFixed(2)}%`,total:`${(s+a).toFixed(2)}%`,isHovered:!0}}if("share"===t)return{rx:it(b.rxBytes),tx:it(b.txBytes),total:it(b.rxBytes+b.txBytes),isHovered:!1};{let e=0,t=0,s=0;for(const r of y)null===r.rx&&null===r.tx||(e+=r.rx??0,t+=r.tx??0,s++);const a=s>0?e/s:0,n=s>0?t/s:0;return{rx:`${a.toFixed(2)}%`,tx:`${n.toFixed(2)}%`,total:`${(a+n).toFixed(2)}%`,isHovered:!1}}},[h,y,b,t]),k=n.useMemo(()=>{const e=a-s,t=e/3600;return[0,.25,.5,.75,1].map(a=>{const n=new Date(1e3*(s+e*a)),r=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),l=n.toLocaleDateString([],{weekday:"short"});return{pct:a,label:t>24?`${l} ${r}`:r,mobileHidden:.25===a||.75===a}})},[s,a]),N=n.useCallback(e=>{const t=null==e?void 0:e.activeTooltipIndex;f("number"==typeof t?t:null)},[]),w=n.useCallback(e=>"share"===t?e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:e.toFixed(0):`${e.toFixed(0)}%`,[t]);return 0===y.length?r.jsxs("div",{className:"h-full flex items-center justify-center text-text-muted",children:[r.jsx(ee,{className:"w-6 h-6 mr-2 opacity-50"}),r.jsx("span",{children:"No packet data available"})]}):r.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[r.jsx("div",{className:"flex items-center flex-shrink-0 text-text-secondary",style:{height:20,paddingLeft:44,paddingRight:8},children:r.jsx("div",{className:"relative w-full h-full flex items-center",children:k.map((e,t)=>r.jsxs("div",{className:"absolute flex items-center gap-0.5 sm:gap-1 type-data-xs "+(e.mobileHidden?"hidden sm:flex":""),style:{left:100*e.pct+"%",transform:0===e.pct?"translateX(0)":1===e.pct?"translateX(-100%)":"translateX(-50%)"},children:[r.jsx(g,{className:"w-2.5 h-2.5 opacity-60 hidden sm:block"}),r.jsx("span",{className:"tabular-nums",children:e.label})]},t))})}),r.jsx("div",{className:"flex-1 min-h-0 relative overflow-hidden",children:r.jsx(l,{width:"100%",height:"100%",minWidth:1,minHeight:1,children:r.jsxs(o,{data:y,margin:{top:4,right:8,bottom:4,left:0},onMouseMove:N,onMouseLeave:()=>f(null),children:[r.jsx(c,{strokeDasharray:"3 3",stroke:m.secondary,strokeOpacity:.3,vertical:!1}),r.jsx(C,{dataKey:"timestamp",type:"number",domain:[s,a],axisLine:!1,tickLine:!1,tick:!1,height:0}),r.jsx(A,{axisLine:!1,tickLine:!1,tick:{fill:m.secondary,fontSize:10,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace'},dx:-8,width:44,tickFormatter:w,domain:[0,v]}),r.jsx(D,{content:r.jsx(ot,{mode:t})}),r.jsx(B,{type:"linear",dataKey:"rx",name:"RX",stroke:d,strokeWidth:2.5,strokeOpacity:.9,dot:!1,connectNulls:!1,isAnimationActive:!1}),r.jsx(B,{type:"linear",dataKey:"tx",name:"TX",stroke:u,strokeWidth:2.5,strokeOpacity:.9,dot:!1,connectNulls:!1,isAnimationActive:!1}),r.jsx(B,{type:"basis",dataKey:"rxSmooth",name:"RX Avg",stroke:"var(--sys-brown)",strokeWidth:2,strokeOpacity:1,dot:!1,connectNulls:!0,isAnimationActive:!1})]})})}),r.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between mt-1.5 sm:mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs font-mono pl-2 sm:pl-11",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 sm:w-4 h-0.5",style:{backgroundColor:d}}),r.jsx("span",{className:"text-text-secondary",children:"RX"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 sm:w-4 h-0.5",style:{backgroundColor:u}}),r.jsx("span",{className:"text-text-secondary",children:"TX"})]}),r.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",children:[r.jsx("div",{className:"w-4 h-0.5",style:{backgroundColor:"var(--sys-brown)"}}),r.jsx("span",{className:"text-text-secondary",children:"Avg"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-right pr-1 sm:pr-2 font-mono",children:[r.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[r.jsx("span",{className:"text-xs font-medium",style:{color:d},children:"RX"}),r.jsx("span",{className:"font-bold text-lg sm:text-xl text-text-primary",children:j.rx})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[r.jsx("span",{className:"text-xs font-medium",style:{color:u},children:"TX"}),r.jsx("span",{className:"font-bold text-lg sm:text-xl text-text-primary",children:j.tx})]}),j.isHovered&&r.jsx("span",{className:"text-xs text-text-muted hidden sm:inline",children:"bucket"})]})]})]})}function Ct(e){const{values:t,sum:s}=e;if(0===t.length)return{min:0,mean:0,median:0,p75:0,p95:0,p99:0,max:0};const a=[...t].sort((e,t)=>e-t),n=a.length,r=s/n,l=a[0],i=a[n-1],o=e=>{const t=Math.min(Math.ceil(e*n)-1,n-1);return a[Math.max(0,t)]};return{min:l,mean:r,median:n%2==0?(a[n/2-1]+a[n/2])/2:a[Math.floor(n/2)],p75:o(.75),p95:o(.95),p99:o(.99),max:i}}function At({statsBuckets:e,mode:t,packets:s,startTs:a,endTs:l,radioConfig:i,sortedTypes:o,aggregateShares:c,noiseFloorAnomalies:C,showNoiseFloorOverlay:A,overlayOpacity:D=.5}){const[B,F]=n.useState(null),[E,m]=n.useState(null),d=n.useMemo(()=>(l-a)/3600,[a,l]),u=n.useCallback(e=>{m(e)},[]),h=function(e,t,s,a,r){return n.useMemo(()=>{if(0===e.length||!r)return null;const n=e.filter(e=>e.timestamp>=t&&e.timestamp<=s);if(0===n.length)return null;const l=[],i=new Map;for(const e of n){const s=e.type??e.payload_type??-1,n=x(e);let o;if(o="airtime"===a?p(e,{spreadingFactor:r.sf,bandwidthHz:r.bw,codingRate:r.cr,preambleLength:r.preamble}):1,n<=0)continue;const c=Math.floor((e.timestamp-t)/300),C={timestamp:e.timestamp,airtimeMs:o,byteSize:n,packetType:s,bucketIndex:c};l.push(C),i.has(c)||i.set(c,[]),i.get(c).push(C)}if(0===l.length)return null;const o=[],c=[],C=[],A=new Map;if("share"===a)for(const[,e]of i)for(const t of e)A.set(t,t.byteSize);else for(const[,e]of i){const t=e.reduce((e,t)=>e+t.airtimeMs,0)/3e5*100;let s=0;for(const a of e)a.airtimeMs>s&&(s=a.airtimeMs);for(const a of e){const e=a.airtimeMs/s*t;A.set(a,e)}}for(const e of l){const t=A.get(e);void 0!==t&&(o.push(t),c.push(e.timestamp),C.push(e.packetType))}let D=c[0],B=c[0];for(let e=1;e<c.length;e++)c[e]<D&&(D=c[e]),c[e]>B&&(B=c[e]);const F=B-D||1,E=[...o].sort((e,t)=>e-t),m=E[0],d=E[E.length-1],u=Math.floor(.05*E.length),h=Math.floor(.5*E.length),g=Math.min(Math.ceil(.95*E.length),E.length-1),f=E[u],y=E[h],b=E[g],v=new Map;for(const e of o){const t=Math.round(100*e)/100;v.set(t,(v.get(t)??0)+1)}const j=v.size,k=[...v.entries()].sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e,t])=>({value:e,count:t,percent:t/o.length*100}));let N;if("share"===a)N=200;else{const e=5,t=Math.ceil(d/e)*e;N=t<=10?10:t+e}const w=new Float32Array(2*o.length),M=new Float32Array(o.length),S=new Uint8Array(o.length),T=new Float32Array(o.length);for(let e=0;e<o.length;e++){const t=(c[e]-D)/F,s=1-Math.max(0,Math.min(N,o[e]))/N;w[2*e]=t,w[2*e+1]=s,M[e]=o[e],S[e]=C[e]>=0?C[e]:255,T[e]=c[e]}return{points:w,rawValues:M,packetTypes:S,timestamps:T,count:o.length,minTime:D,maxTime:B,minValue:0,maxValue:N,rawMinValue:m,rawMaxValue:d,unit:"%",stats:{p5:f,p50:y,p95:b,uniqueValues:j,topValues:k}}},[e,t,s,a,r])}(s,a,l,"share"===t?"share":"airtime",i),{data:g}=n.useMemo(()=>function(e,t){var s;const a=e.length;if(0===a)return{data:[],windowSize:0,windowDurationMs:0};const n=(null==(s=e[0])?void 0:s.bucketDurationMs)??1e3,r=Math.min(Math.max(5,Math.round(3e5/n)),a),l=Math.floor(r/2),i=[];let o=0,c=0;for(let C=0;C<a;C++){const s=e[C],n=Math.max(0,C-l),r=Math.min(a,C+l+1),A=[];let D,B=0;for(let a=n;a<r;a++){const s=e[a];let n;n="share"===t?s.total/Math.max(1,s.bucketDurationMs/1e3):s.totalAirtime/s.bucketDurationMs*100,A.push(n),B+=n}D="share"===t?s.total/Math.max(1,s.bucketDurationMs/1e3):s.totalAirtime/s.bucketDurationMs*100,o+=D,c++;const F=Ct({values:A,sum:B}),E=(F.min+F.max)/2;i.push({timestamp:s.timestamp,time:s.time,min:F.min,max:F.max,p75:F.p75,p95:F.p95,p99:F.p99,mean:F.mean,median:F.median,average:o/c,midpoint:E})}return{data:i,windowSize:r,windowDurationMs:r*n}}(e,t),[e,t]),f=n.useMemo(()=>g.map(e=>({timestamp:e.timestamp,min:e.min,max:e.max,p75:e.p75,p95:e.p95,p99:e.p99,mean:e.mean,median:e.median,average:e.average,midpoint:e.midpoint})),[g]),y=n.useMemo(()=>(null==h?void 0:h.maxValue)?h.maxValue:"share"===t?200:10,[h,t]),b=n.useCallback(e=>{F(e)},[]),v=n.useMemo(()=>{if(null===B||!g[B])return null;const e=g[B];let t;t=d>=168?75:d>=72?35:d>=24?15:d>=3?10:5;const s=60*t/2,a=e.timestamp;return{start:a-s,end:a+s}},[B,g,d]),j=n.useMemo(()=>{if(null===B||!g[B]||!v)return null;const e=g[B].time,{start:a,end:n}=v,r=s.filter(e=>e.timestamp>=a&&e.timestamp<n);if(0===r.length)return{timestamp:g[B].timestamp,timeLabel:e,items:o.map(e=>({key:e.key,label:e.label,value:0,color:tt(e.typeNum)}))};const l=new Map,c=new Map;let C=0,A=0;for(const t of r){const e=`TYPE_${t.type??t.payload_type??-1}`;if(l.set(e,(l.get(e)??0)+1),C++,i){const s=p(t,{spreadingFactor:i.sf,bandwidthHz:i.bw,codingRate:i.cr,preambleLength:i.preamble});c.set(e,(c.get(e)??0)+s),A+=s}}const D=o.map(e=>{let s;return s="airtime"===t?A>0?(c.get(e.key)??0)/A:0:C>0?(l.get(e.key)??0)/C:0,{key:e.key,label:e.label,value:s,color:tt(e.typeNum)}});return{timestamp:g[B].timestamp,timeLabel:e,items:D}},[B,g,v,s,o,t,i]);if(0===g.length)return r.jsxs("div",{className:"h-full flex items-center justify-center text-text-muted",children:[r.jsx(ee,{className:"w-6 h-6 mr-2 opacity-50"}),r.jsx("span",{children:"No packet data available"})]});const k=(null==j?void 0:j.timeLabel)??null;return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"analyzer-chart-height relative flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:r.jsx(et,{data:f,maxValue:y,onHover:b,scatterData:h,noiseFloorAnomalies:C,showNoiseFloorOverlay:A,overlayOpacity:D,highlightedType:E,hoveredTimeRange:v,timeRangeHours:d,yAxisMode:"share"===t?"share":"airtime"})}),k&&r.jsx("div",{className:"absolute top-1 right-1 px-2 py-0.5 bg-bg-elevated/90 rounded text-xs text-accent-secondary font-mono pointer-events-none",children:k})]}),r.jsx(st,{sortedTypes:o,highlightedType:E,onTypeHover:u,aggregateShares:c,hoverData:j})]})}const Dt=new class{constructor(){a(this,"buckets",new Map),a(this,"lastProcessedTimestamp",0),a(this,"processedPacketCount",0),a(this,"cacheKey",null),a(this,"bucketDuration",60),a(this,"bucketDurationMs",6e4)}getBuckets(e,t,s,a){const n={startTs:t,endTs:s,radioConfigHash:this.hashRadioConfig(a)};return this.isCacheValid(n)?this.processPackets(e,t,s,a,!1):(this.invalidate(n),this.processPackets(e,t,s,a,!0)),this.toBucketDataArray(t,s)}processPackets(e,t,s,a,n){const r=Math.ceil((s-t)/this.bucketDuration);let l=0;for(const i of e){const e=i.timestamp;if(e<t||e>=s)continue;if(!n&&e<=this.lastProcessedTimestamp)continue;const o=Math.min(Math.floor((e-t)/this.bucketDuration),r-1),c=this.buckets.get(o)??{total:0,totalAirtime:0};c.total+=1,c.totalAirtime+=p(i,{spreadingFactor:a.sf,bandwidthHz:a.bw,codingRate:a.cr,preambleLength:a.preamble}),this.buckets.set(o,c),e>this.lastProcessedTimestamp&&(this.lastProcessedTimestamp=e),l++}this.processedPacketCount+=l}toBucketDataArray(e,t){const s=t-e,a=Math.ceil(s/this.bucketDuration),n=s/3600,r=[];for(let l=0;l<a;l++){const t=e+l*this.bucketDuration,s=new Date(1e3*t),a=n>24?s.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit",hour12:!1}):s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),i=this.buckets.get(l)??{total:0,totalAirtime:0};r.push({timestamp:t,time:a,total:i.total,totalAirtime:i.totalAirtime,bucketDurationMs:this.bucketDurationMs})}return r}isCacheValid(e){return!!this.cacheKey&&this.cacheKey.startTs===e.startTs&&this.cacheKey.endTs===e.endTs&&this.cacheKey.radioConfigHash===e.radioConfigHash}invalidate(e){this.buckets.clear(),this.lastProcessedTimestamp=0,this.processedPacketCount=0,this.cacheKey=e}hashRadioConfig(e){return`${e.sf}-${e.bw}-${e.cr}-${e.preamble}`}clear(){this.buckets.clear(),this.lastProcessedTimestamp=0,this.processedPacketCount=0,this.cacheKey=null}getStats(){return{bucketCount:this.buckets.size,processedPackets:this.processedPacketCount,lastTimestamp:this.lastProcessedTimestamp,cacheKey:this.cacheKey}}};function Bt({mode:e,onChange:t}){return r.jsxs("div",{className:"toggle-group toggle-group-sm",children:[r.jsx("button",{onClick:()=>t("share"),className:"toggle-group-item "+("share"===e?"active":""),children:"Total"}),r.jsx("button",{onClick:()=>t("airtime"),className:"toggle-group-item "+("airtime"===e?"active":""),children:"Airtime"})]})}function Ft({smoothing:e,onChange:t}){return r.jsxs("div",{className:"toggle-group toggle-group-sm",children:[r.jsx("button",{onClick:()=>t("stats"),className:"toggle-group-item "+("stats"===e?"active":""),title:"Statistics view (scatter plot)",children:r.jsx(Re,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>t("trend"),className:"toggle-group-item "+("trend"===e?"active":""),title:"Trend line chart",children:r.jsx(je,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>t("raw"),className:"toggle-group-item "+("raw"===e?"active":""),title:"No smoothing (raw values)",children:r.jsx(Me,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>t("zlema"),className:"toggle-group-item "+("zlema"===e?"active":""),title:"Light smoothing",children:r.jsx(we,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>t("ema"),className:"toggle-group-item "+("ema"===e?"active":""),title:"Moderate smoothing",children:r.jsx(Ne,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>t("smooth"),className:"toggle-group-item "+("smooth"===e?"active":""),title:"Heavy smoothing",children:r.jsx(_e,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>t("ultra"),className:"toggle-group-item "+("ultra"===e?"active":""),title:"Ultra smoothing",children:r.jsx(Oe,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>t("mosaic"),className:"toggle-group-item "+("mosaic"===e?"active":""),title:"Mosaic view (treemap)",children:r.jsx(Te,{className:"w-3.5 h-3.5"})})]})}function Et({enabled:e,onChange:t,anomalyCount:s=0,showTuning:a=!1,onTuningChange:n}){return r.jsxs("div",{className:"relative inline-flex items-center gap-1",children:[e&&n&&r.jsx("button",{onClick:()=>n(!a),className:"toggle-group toggle-group-sm "+(a?"active":""),title:a?"Hide tuning panel":"Show tuning panel",children:r.jsx("span",{className:"toggle-group-item "+(a?"active":""),children:r.jsx(Le,{className:"w-3.5 h-3.5"})})}),r.jsx("button",{onClick:()=>t(!e),className:"toggle-group toggle-group-sm "+(e?"active":""),title:e?"Hide noise floor anomalies":"Show noise floor anomalies",children:r.jsx("span",{className:"toggle-group-item "+(e?"active":""),children:r.jsx(ne,{className:"w-3.5 h-3.5"})})}),s>0&&r.jsx("span",{className:"absolute -top-2 -right-2 min-w-[18px] h-[18px] px-1 rounded-full bg-accent-danger text-white text-[10px] font-bold flex items-center justify-center pointer-events-none z-10",children:s>99?"99+":s})]})}const mt={sf:10,bw:25e4,cr:5,preamble:8};function dt(e){return y[e]??`TYPE_${e.toString(16).toUpperCase()}`}function ut(e,t){if(0===e.length)return[];const s=Math.floor((t-1)/2),a=[];for(let n=0;n<e.length;n++){const t=n>=s?e[n-s]:e[0];a.push(e[n]+(e[n]-t))}return function(e,t){if(0===e.length)return[];const s=2/(t+1),a=[e[0]];for(let n=1;n<e.length;n++)a.push(s*e[n]+(1-s)*a[n-1]);return a}(a,t)}const ht=n.memo(function({packets:e,startTs:t,endTs:s,bucketCount:a,radioConfig:l=mt,mode:i="share",smoothing:o="raw",noiseFloorAnomalies:c=null,showNoiseFloorOverlay:C=!1,overlayOpacity:A=.5}){const D=Y(),[B,F]=n.useState(null),[E,m]=n.useState(null),[d,u]=n.useState([]),h=n.useRef(null),x=n.useRef(0);n.useEffect(()=>{const t=Math.abs(e.length-x.current);if(0===t&&d.length>0)return;h.current&&clearTimeout(h.current);const s=t>100?50:500;return h.current=setTimeout(()=>{x.current=e.length,u(e)},s),()=>{h.current&&clearTimeout(h.current)}},[e,d.length]);const g=n.useMemo(()=>function(e,t){const s=new Map;for(const n of e){const e=n.type??n.payload_type??-1,a=p(n,{spreadingFactor:t.sf,bandwidthHz:t.bw,codingRate:t.cr,preambleLength:t.preamble}),r=s.get(e)??{count:0,airtime:0};s.set(e,{count:r.count+1,airtime:r.airtime+a})}const a=[];for(const[n,r]of s)a.push({typeNum:n,key:`TYPE_${n}`,label:dt(n),totalCount:r.count,totalAirtime:r.airtime});return a.sort((e,t)=>t.totalCount-e.totalCount)}(d,l),[d,l]),y=n.useMemo(()=>function(e,t,s,a,n,r){const l=s-t,i=l/a,o=1e3*i,c=l/3600,C=[];for(let A=0;A<a;A++){const e=t+A*i,s=new Date(1e3*e),a={timestamp:e,time:c>24?s.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit",hour12:!1}):s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),counts:{},shares:{},airtimes:{},total:0,totalAirtime:0,bucketDurationMs:o};for(const t of r)a.counts[t.key]=0,a.airtimes[t.key]=0;C.push(a)}for(const A of e){const e=A.timestamp;if(e<t||e>=s)continue;const r=Math.min(Math.floor((e-t)/i),a-1),l=`TYPE_${A.type??A.payload_type??-1}`;C[r].counts[l]=(C[r].counts[l]??0)+1,C[r].total++;const o=p(A,{spreadingFactor:n.sf,bandwidthHz:n.bw,codingRate:n.cr,preambleLength:n.preamble});C[r].airtimes[l]=(C[r].airtimes[l]??0)+o,C[r].totalAirtime+=o}for(const A of C)for(const e of r)A.shares[e.key]=A.total>0?A.counts[e.key]/A.total*100:0;return C}(d,t,s,a,l,g),[d,t,s,a,l,g]),b=n.useMemo(()=>Dt.getBuckets(d,t,s,l),[d,t,s,l]),v=n.useMemo(()=>g.reduce((e,t)=>e+t.totalCount,0),[g]),j=n.useMemo(()=>g.reduce((e,t)=>e+t.totalAirtime,0),[g]),{sortedTypes:k,aggregateShares:N}=n.useMemo(()=>{const e=new Map,t="share"===i?v:j;if(t>0)for(const s of g){const a="share"===i?s.totalCount:s.totalAirtime;e.set(s.key,a/t)}return{sortedTypes:[...g].sort((t,s)=>(e.get(s.key)??0)-(e.get(t.key)??0)),aggregateShares:e}},[g,v,j,i]),w=n.useMemo(()=>function(e,t,s,a="raw"){const n=function(e,t,s){if(e.length<=360)return e;const a=Math.ceil(e.length/360),n=[];for(let r=0;r<e.length;r+=a){const t=e.slice(r,Math.min(r+a,e.length));if(0===t.length)continue;const l={timestamp:t[0].timestamp,time:t[0].time,counts:{},shares:{},airtimes:{},total:0,totalAirtime:0,bucketDurationMs:t[0].bucketDurationMs*t.length};for(const e of t){l.total+=e.total,l.totalAirtime+=e.totalAirtime;for(const t of s)l.counts[t.key]=(l.counts[t.key]??0)+(e.counts[t.key]??0),l.airtimes[t.key]=(l.airtimes[t.key]??0)+(e.airtimes[t.key]??0)}for(const e of s)l.shares[e.key]=l.total>0?l.counts[e.key]/l.total*100:0;n.push(l)}return n}(e,0,s),r=n.length,l=s.length,i=Array.from({length:l},()=>new Array(r).fill(0));for(let D=0;D<r;D++){const e=n[D];if("share"===t)for(let t=0;t<l;t++)i[t][D]=e.total>0?(e.counts[s[t].key]??0)/e.total:0;else{let t=0;for(let a=0;a<l;a++)t+=e.airtimes[s[a].key]??0;for(let a=0;a<l;a++)i[a][D]=t>0?(e.airtimes[s[a].key]??0)/t:0}}const o=Array.from({length:l},()=>new Array(r).fill(0));for(let D=0;D<l;D++)for(let e=0;e<r;e++){let t=0;for(let s=0;s<=D;s++)t+=i[s][e];o[D][e]=t}const c=o.map(e=>function(e,t){switch(t){case"zlema":return ut(e,6);case"ema":return ut(e,12);case"smooth":return ut(e,24);case"ultra":return ut(e,96);default:return e}}(e,a)),C=Array.from({length:l},()=>new Array(r).fill(0));for(let D=0;D<l;D++)for(let e=0;e<r;e++){const t=D>0?c[D-1][e]:0;C[D][e]=Math.min(1,Math.max(0,c[D][e]-t))}for(let D=0;D<r;D++){let e=0;for(let t=0;t<l;t++)e+=C[t][D];if(e>0&&Math.abs(e-1)>1e-6){const t=1/e;for(let e=0;e<l;e++)C[e][D]*=t}}const A=[];for(let D=0;D<r;D++){const e={timestamp:n[D].timestamp,time:n[D].time};for(let t=0;t<l;t++)e[s[t].key]=C[t][D];A.push(e)}return A}(y,i,k,o),[y,i,k,o]),M=n.useCallback(e=>F(e),[]),S=n.useCallback(e=>m(e),[]),T=n.useMemo(()=>{if(null===E||!w[E])return null;const e=w[E];return{timestamp:e.timestamp,timeLabel:e.time,items:k.map(t=>({key:t.key,label:t.label,value:e[t.key]??0,color:tt(t.typeNum)}))}},[E,w,k]),R=n.useMemo(()=>({timestamps:w.map(e=>e.timestamp),series:k.map(e=>({key:e.key,label:e.label,color:tt(e.typeNum),values:w.map(t=>t[e.key]??0)}))}),[w,k]);return 0===d.length?0===e.length?r.jsxs("div",{className:"h-full flex items-center justify-center text-text-muted",children:[r.jsx(ee,{className:"w-6 h-6 mr-2 opacity-50"}),r.jsx("span",{children:"No packet data available"})]}):null:"mosaic"===o?r.jsx(lt,{sortedTypes:k,aggregateShares:N}):"stats"===o?r.jsx(At,{statsBuckets:b,mode:i,packets:d,startTs:t,endTs:s,radioConfig:l,sortedTypes:k,aggregateShares:N,noiseFloorAnomalies:c,showNoiseFloorOverlay:C,overlayOpacity:A}):"trend"===o?r.jsx(ct,{packets:d,mode:i,startTs:t,endTs:s,radioConfig:l,bucketCount:a}):r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"analyzer-chart-height relative flex-shrink-0",children:r.jsx("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:r.jsx(f,{timestamps:R.timestamps,series:R.series,highlightedKey:B,cursorColor:D.cursor,onHover:S})})}),r.jsx(st,{sortedTypes:k,highlightedType:B,onTypeHover:M,aggregateShares:N,hoverData:T})]})}),xt={"1x":1,"2x":2,"4x":4,"8x":8,"16x":16,"36x":36},pt=[1,5,10,25,50,100,150];function gt(e,t,s,a){const n=Math.PI/180,r=(a-t)*n,l=e*n,i=s*n,o=Math.sin(r)*Math.cos(i),c=Math.cos(l)*Math.sin(i)-Math.sin(l)*Math.cos(i)*Math.cos(r);return(180*Math.atan2(o,c)/Math.PI+360)%360}function ft(e,t,s,a){const n=Math.PI/180,r=(s-e)*n,l=(a-t)*n,i=Math.sin(r/2)**2+Math.cos(e*n)*Math.cos(s*n)*Math.sin(l/2)**2;return 12742*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}const yt=[{min:10,label:"Excellent"},{min:7,label:"Very Good"},{min:4,label:"Good"},{min:1,label:"Fair+"},{min:-2,label:"Fair"},{min:-5,label:"Fair-"},{min:-8,label:"Poor"},{min:-11,label:"Bad"},{min:-1/0,label:"Critical"}];function bt(e,t){return t[J(e)]||"#808080"}const vt=n.memo(function({neighbors:e,quickNeighbors:t,localLat:s,localLon:a,onStatsChange:l}){const[i,o]=n.useState(null),[c,C]=n.useState(new Set),[A,D]=n.useState({width:0,height:0}),[B,F]=n.useState("1x"),[E,m]=n.useState(1),d=n.useRef(null),u=n.useRef({}),h=n.useRef(null),x=n.useRef(null),p=n.useRef(E);p.current=E;const g=Q(),f=X(),y=U(),v=K(),j=Z(),k=j?v.secondary:v.primary,N=j?.4:.15,w=j?.25:.08,M=j?v.primary:f.primary;n.useEffect(()=>{const e=x.current;if(!e)return;const t=new ResizeObserver(e=>{for(const t of e){const{width:e,height:s}=t.contentRect;e>0&&s>0&&D({width:e,height:s})}});t.observe(e);const s=e.getBoundingClientRect();return s.width>0&&s.height>0&&D({width:s.width,height:s.height}),()=>t.disconnect()},[]);const S=n.useMemo(()=>{const e=new Set;if(t)for(const s of t)e.add(s.hash);return e},[t]),T=n.useMemo(()=>{const e=new Map;if(t)for(const s of t)e.set(s.hash,{snr:s.avgSnr,rssi:s.avgRssi});return e},[t]),{processedNeighbors:R,maxDistance:P,totalNeighbors:$,zeroHopCount:L}=n.useMemo(()=>{const t=[];for(const[r,l]of Object.entries(e)){if(!l.latitude||!l.longitude||0===l.latitude||0===l.longitude)continue;if(!S.has(r))continue;const e=gt(s,a,l.latitude,l.longitude),n=ft(s,a,l.latitude,l.longitude),i=T.get(r);t.push({hash:r.slice(0,8),name:l.node_name||l.name||"Unknown",snr:(null==i?void 0:i.snr)??l.snr??null,rssi:(null==i?void 0:i.rssi)??l.rssi??null,bearing:e,distance:n,normalizedDistance:0,lastSeen:l.last_seen,isZeroHop:!0})}const n=1.08*(t.length>0?Math.max(...t.map(e=>e.distance)):0);return t.sort((e,t)=>(e.snr??-1/0)-(t.snr??-1/0)),{processedNeighbors:t,maxDistance:n,totalNeighbors:t.length,zeroHopCount:t.length}},[e,s,a,S,T]);n.useEffect(()=>{null==l||l({zeroHopCount:L,totalCount:$,maxDistanceKm:P})},[L,$,P]),n.useEffect(()=>{const e=xt[B],t=p.current;d.current&&cancelAnimationFrame(d.current);const s=performance.now(),a=n=>{const r=n-s,l=Math.min(r/400,1),i=(o=l)<.5?8*o*o*o*o:1-Math.pow(-2*o+2,4)/2;var o;m(t+(e-t)*i),d.current=l<1?requestAnimationFrame(a):null};return d.current=requestAnimationFrame(a),()=>{d.current&&cancelAnimationFrame(d.current)}},[B]);const z=P/E,H=n.useMemo(()=>pt.filter(e=>e<=1.1*z),[z]);n.useEffect(()=>{const e=[];for(const s of R){const t=u.current[s.hash];void 0!==t&&t!==s.lastSeen&&e.push(s.hash),u.current[s.hash]=s.lastSeen}if(0===e.length)return;queueMicrotask(()=>{C(t=>new Set([...t,...e]))});const t=setTimeout(()=>{C(t=>{const s=new Set(t);return e.forEach(e=>s.delete(e)),s})},600);return()=>clearTimeout(t)},[R]);const _=0!==s&&0!==a,O=n.useMemo(()=>{const{width:e,height:t}=A,s=e/2,a=t/2,n=Math.max(10,e/2-12),r=Math.max(10,t/2-12),l=Math.max(10,n-16),i=Math.max(10,r-16);return{width:e,height:t,centerX:s,centerY:a,maxRadiusX:l,maxRadiusY:i,labelRadiusX:n,labelRadiusY:r,cornerRadius:.2*Math.min(l,i)}},[A]),{width:I,height:W,centerX:V,centerY:q,maxRadiusX:G,maxRadiusY:Y,labelRadiusX:J,labelRadiusY:ee,cornerRadius:te}=O,se=n.useCallback((e,t=1)=>{const s=G*t,a=Y*t,n=Math.min(te*t,s,a),r=(e%360+360)%360,l=r*Math.PI/180,i=180*Math.atan2(a-n,s-n)/Math.PI;let o,c;if(r<=45-i||r>315+i){const e=Math.tan(l);o=Math.max(V-s+n,Math.min(V+s-n,V+a*e*(s/a))),c=q-a}else if(r>45-i&&r<=45+i)o=V+s-n+n*Math.sin(l),c=q-a+n-n*Math.cos(l);else if(r>45+i&&r<=135-i){const e=1/Math.tan(l);c=Math.max(q-a+n,Math.min(q+a-n,q-s*e*(a/s))),o=V+s}else if(r>135-i&&r<=135+i)o=V+s-n+n*Math.sin(l),c=q+a-n-n*Math.cos(l);else if(r>135+i&&r<=225-i){const e=Math.tan(l);o=Math.max(V-s+n,Math.min(V+s-n,V-a*e*(s/a))),c=q+a}else if(r>225-i&&r<=225+i)o=V-s+n+n*Math.sin(l),c=q+a-n-n*Math.cos(l);else if(r>225+i&&r<=315-i){const e=1/Math.tan(l);c=Math.max(q-a+n,Math.min(q+a-n,q-s*e*(a/s))),o=V-s}else o=V-s+n+n*Math.sin(l),c=q-a+n-n*Math.cos(l);return{x:o,y:c}},[V,q,G,Y,te]),ne=n.useCallback((e,t)=>{const s=se(e,1);return{x:V+(s.x-V)*t,y:q+(s.y-q)*t}},[se,V,q]),re=n.useCallback(e=>({N:{x:V,y:q-ee},S:{x:V,y:q+ee},E:{x:V+J,y:q},W:{x:V-J,y:q},NE:{x:V+J,y:q-ee},SE:{x:V+J,y:q+ee},SW:{x:V-J,y:q+ee},NW:{x:V-J,y:q-ee}}[e]),[V,q,J,ee]),le=n.useCallback(e=>{const t=G*e,s=Y*e,a=Math.min(te*e,t,s),n=V-t,r=V+t,l=q-s,i=q+s;return[`M ${n+a} ${l}`,`L ${r-a} ${l}`,`Q ${r} ${l} ${r} ${l+a}`,`L ${r} ${i-a}`,`Q ${r} ${i} ${r-a} ${i}`,`L ${n+a} ${i}`,`Q ${n} ${i} ${n} ${i-a}`,`L ${n} ${l+a}`,`Q ${n} ${l} ${n+a} ${l}`,"Z"].join(" ")},[V,q,G,Y,te]),ie=n.useCallback(e=>{o(e)},[]),oe=n.useCallback(e=>{F(e)},[]),ce=n.useCallback(e=>P<=0?0:e/P*E,[P,E]),Ce=e=>`${e}km`,Ae=n.useMemo(()=>{const e=H.map(e=>{const t=e/P*E;return{km:e,scale:t,labelY:q-Y*t*.71}}).filter(e=>e.scale<=1.05&&e.scale>=.02).sort((e,t)=>t.km-e.km),t=[];for(const s of e)t.some(e=>Math.abs(e.labelY-s.labelY)<28)||t.push(s);return t},[H,P,E,q,Y]),De=A.width>0&&A.height>0;return _?0===$?r.jsxs("div",{ref:h,className:"flex flex-col items-center justify-center h-full text-text-secondary",children:[r.jsx(ae,{className:"w-8 h-8 mb-2 opacity-50"}),r.jsx("p",{children:"No nodes with location data"})]}):r.jsxs("div",{ref:h,className:"relative h-full w-full flex overflow-hidden",children:[r.jsx("div",{ref:x,className:"relative flex-1 min-w-0 h-full",children:De&&r.jsxs("svg",{width:I,height:W,className:"absolute inset-0 z-0",children:[r.jsxs("defs",{children:[r.jsx("style",{children:"\n                @keyframes neighbor-blink-scale {\n                  0%, 100% {\n                    transform: scale(1);\n                    opacity: 0;\n                  }\n                  50% {\n                    transform: scale(1.3);\n                    opacity: 0.8;\n                  }\n                }\n                .neighbor-blink-ring {\n                  transform-origin: center;\n                  animation: neighbor-blink-scale 600ms ease-out forwards;\n                }\n              "}),r.jsx("clipPath",{id:"radar-clip",children:r.jsx("path",{d:le(1)})})]}),H.map(e=>{const t=ce(e);if(t>1.05||t<.02)return null;const s=Ae.some(t=>t.km===e),a=V+G*t*.71,n=q-Y*t*.71;return r.jsxs("g",{children:[r.jsx("path",{d:le(t),fill:"none",stroke:k,strokeOpacity:N,strokeWidth:1}),s&&r.jsx("text",{x:a+4,y:n-2,textAnchor:"start",dominantBaseline:"auto",className:"fill-text-secondary",fontSize:10,fontFamily:b,children:Ce(e)})]},`ring-${e}`)}),["N","E","S","W"].map(e=>{const t="N"===e||"S"===e,s=t?V:"E"===e?V+G:V-G,a=t?"N"===e?q-Y:q+Y:q;return r.jsx("line",{x1:V,y1:q,x2:s,y2:a,stroke:k,strokeOpacity:N,strokeWidth:1,strokeDasharray:"4 4"},e)}),["NE","SE","SW","NW"].map(e=>{const t=re(e);return r.jsx("line",{x1:V,y1:q,x2:t.x,y2:t.y,stroke:k,strokeOpacity:w,strokeWidth:1,strokeDasharray:"4 4"},`diag-${e}`)}),["N","E","S","W"].map(e=>{const t=re(e),s="E"===e?"end":"W"===e?"start":"middle",a="N"===e?"hanging":"S"===e?"auto":"middle";return r.jsx("text",{x:t.x,y:t.y,textAnchor:s,dominantBaseline:a,fill:M,fontSize:16,fontWeight:600,fontFamily:b,"aria-hidden":"true",children:e},e)}),["NE","SE","SW","NW"].map(e=>{const t=re(e),s="NE"===e||"SE"===e?"end":"start",a="NE"===e||"NW"===e?"hanging":"auto";return r.jsx("text",{x:t.x,y:t.y,textAnchor:s,dominantBaseline:a,fill:M,fontSize:16,fontWeight:600,fontFamily:b,"aria-hidden":"true",children:e},e)}),r.jsx("circle",{cx:V,cy:q,r:5,fill:y.chart6,stroke:"rgba(255,255,255,0.3)",strokeWidth:1,role:"img","aria-label":"Local node"}),r.jsx("g",{clipPath:"url(#radar-clip)",children:R.map(e=>{const t=P>0?e.distance/P*E:0;if(t>1)return null;const{x:s,y:a}=ne(e.bearing,t),n=null!==e.snr?bt(e.snr,g):"#808080",l=(null==i?void 0:i.hash)===e.hash,o=c.has(e.hash);return r.jsxs("g",{role:"img","aria-label":`${e.name}: ${e.distance.toFixed(1)}km ${e.bearing.toFixed(0)}`,children:[o&&r.jsx("circle",{cx:s,cy:a,r:10.5,fill:"none",stroke:"rgba(255,255,255,0.9)",strokeWidth:2,className:"neighbor-blink-ring"}),l&&r.jsx("circle",{cx:s,cy:a,r:10.5,fill:n,opacity:.3}),r.jsx("circle",{cx:s,cy:a,r:l?7:5,fill:n,stroke:"rgba(0,0,0,0.5)",strokeWidth:1,style:{cursor:"pointer",transition:"r 0.15s"},onMouseEnter:()=>ie(e),onMouseLeave:()=>ie(null)})]},e.hash)})})]})}),r.jsx("div",{className:"flex flex-col h-full items-stretch gap-1 py-2 pl-2 flex-shrink-0",role:"group","aria-label":"Zoom level",children:["1x","2x","4x","8x","16x","36x"].map(e=>r.jsx("button",{onClick:()=>oe(e),"aria-pressed":B===e,className:"flex flex-1 items-center justify-center px-1.5 text-xs font-medium rounded transition-colors "+(B===e?"bg-accent-primary/20 text-accent-primary":"bg-white/5 text-text-secondary hover:bg-white/10 hover:text-text-primary"),children:e},e))}),i&&r.jsxs("div",{className:"absolute bg-tooltip-bg border border-border-subtle rounded-lg px-3 py-2 text-sm pointer-events-none z-10 shadow-xl",style:{left:"50%",bottom:8,transform:"translateX(-50%)"},children:[r.jsx("div",{className:"font-medium text-text-primary",children:i.name}),r.jsx("div",{className:"text-text-secondary text-xs font-mono",children:i.hash}),null!==i.snr?r.jsx("div",{className:"flex gap-3 mt-1 text-xs",children:r.jsxs("span",{children:[r.jsx("span",{className:"text-text-secondary",children:"SNR:"})," ",r.jsxs("span",{className:"tabular-nums",style:{color:bt(i.snr,g)},children:[i.snr.toFixed(1)," dB"]}),r.jsxs("span",{className:"text-text-secondary ml-1",children:["(",(Be=i.snr,(null==(Fe=yt.find(e=>Be>=e.min))?void 0:Fe.label)??"Critical"),")"]})]})}):r.jsx("div",{className:"text-xs text-text-secondary mt-1",children:"No SNR data"}),r.jsxs("div",{className:"flex gap-3 text-xs",children:[r.jsxs("span",{children:[r.jsx("span",{className:"text-text-secondary",children:"Distance:"})," ",r.jsxs("span",{className:"tabular-nums text-text-primary",children:[i.distance.toFixed(2)," km"]})]}),r.jsxs("span",{children:[r.jsx("span",{className:"text-text-secondary",children:"Bearing:"})," ",r.jsxs("span",{className:"tabular-nums text-text-primary",children:[i.bearing.toFixed(0),""]})]})]})]})]}):r.jsxs("div",{ref:h,className:"flex flex-col items-center justify-center h-full text-text-secondary",children:[r.jsx(ae,{className:"w-8 h-8 mb-2 opacity-50"}),r.jsx("p",{children:"Local node coordinates not configured"}),r.jsx("p",{className:"text-xs mt-1",children:"Set latitude/longitude in config to enable"})]});var Be,Fe});function jt(e,t){if(0===e.length)return 0;const s=t/100*(e.length-1),a=Math.floor(s),n=Math.ceil(s);return a===n?e[a]:e[a]+(e[n]-e[a])*(s-a)}const kt=n.memo(function({timestamps:e,values:t,onStatsChange:s}){var a,l;const{theme:i}=v(),[o,c]=n.useState(!0),C=n.useMemo(()=>{if(0===t.length)return null;const e=Math.min(...t),s=Math.max(...t),a=t.reduce((e,t)=>e+t,0)/t.length,n=[...t].sort((e,t)=>e-t);return{min:e,max:s,avg:a,p5:jt(n,5),p95:jt(n,95)}},[t]);n.useEffect(()=>{null==s||s(C)},[C]);const A=n.useCallback(()=>{c(e=>!e)},[]),{heatmapData:D,xLabels:B,yLabels:F}=n.useMemo(()=>{if(0===e.length||0===t.length||!C)return{heatmapData:null,xLabels:[],yLabels:[]};let s,a;if(o){const e=.1*(C.p95-C.p5||1);s=C.p5-e,a=C.p95+e}else{const e=.1*(C.max-C.min||1);s=C.min-e,a=C.max+e}const n=a-s,r=e[0],l=e[e.length-1]-r||1,i=new Float32Array(2*e.length);for(let o=0;o<e.length;o++){const c=(e[o]-r)/l,C=1-(Math.max(s,Math.min(a,t[o]))-s)/n;i[2*o]=c,i[2*o+1]=C}const c=[];for(let e=0;e<=5;e++){const t=r+l*e/5;c.push({pos:e/5*100,label:new Date(1e3*t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}const A=[];for(let e=0;e<=4;e++){const t=s+n*e/4;A.push({pos:100*(1-e/4),label:`${Math.round(t)}`})}return{heatmapData:{points:i,count:e.length},xLabels:c,yLabels:A}},[e,t,C,o]),E=n.useRef(null),m=n.useRef(null),[d,u]=n.useState({width:0,height:0});return n.useEffect(()=>{const e=m.current;if(!e)return;const t=new ResizeObserver(e=>{for(const t of e){const{width:e,height:s}=t.contentRect;e>0&&s>0&&u({width:e,height:s})}});t.observe(e);const s=e.getBoundingClientRect();return s.width>0&&s.height>0&&u({width:s.width,height:s.height}),()=>t.disconnect()},[]),n.useEffect(()=>{const e=E.current;if(!e||!D||0===d.width)return;const t=e.getContext("2d");if(!t)return;const{width:s,height:a}=d,n=window.devicePixelRatio||1;e.width=s*n,e.height=a*n,e.style.width=`${s}px`,e.style.height=`${a}px`,t.scale(n,n),t.clearRect(0,0,s,a);const r=getComputedStyle(document.documentElement).getPropertyValue("--accent-primary").trim(),{r:l,g:i,b:o}=(e=>{const t=e.match(/color\(display-p3\s+([\d.]+)\s+([\d.]+)\s+([\d.]+)\)/);if(t)return{r:Math.round(255*parseFloat(t[1])),g:Math.round(255*parseFloat(t[2])),b:Math.round(255*parseFloat(t[3]))};const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:{r:250,g:189,b:47}})(r),{points:c,count:C}=D,A=Math.max(3,Math.min(8,s/C*4));t.globalCompositeOperation="source-over";for(let D=0;D<C;D++){const e=c[2*D]*s,n=c[2*D+1]*a,r=t.createRadialGradient(e,n,0,e,n,A);r.addColorStop(0,`rgba(${l}, ${i}, ${o}, 0.85)`),r.addColorStop(.25,`rgba(${l}, ${i}, ${o}, 0.85)`),r.addColorStop(.35,`rgba(${l}, ${i}, ${o}, 0.15)`),r.addColorStop(1,`rgba(${l}, ${i}, ${o}, 0)`),t.fillStyle=r,t.beginPath(),t.arc(e,n,A,0,2*Math.PI),t.fill()}},[D,d,i.colorScheme]),D?r.jsxs("div",{className:"relative w-full h-full",role:"img","aria-label":`RF noise floor heatmap showing values from ${(null==(a=null==C?void 0:C.min)?void 0:a.toFixed(0))??"N/A"} to ${(null==(l=null==C?void 0:C.max)?void 0:l.toFixed(0))??"N/A"} dBm`,children:[r.jsx("div",{className:"absolute top-0 left-0 flex flex-col justify-between",style:{width:32,bottom:20},"aria-hidden":"true",children:F.map((e,t)=>r.jsx("span",{className:"type-data-xs text-text-secondary tabular-nums text-right pr-1.5",style:{position:"absolute",top:`${e.pos}%`,transform:"translateY(-50%)",right:0},children:e.label},t))}),r.jsxs("div",{ref:m,className:"absolute overflow-hidden",style:{left:32,right:0,top:0,bottom:20},children:[r.jsx("svg",{className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none","aria-hidden":"true",children:[0,25,50,75,100].map(e=>r.jsx("line",{x1:"0",y1:`${e}%`,x2:"100%",y2:`${e}%`,stroke:"var(--chart-grid-line, rgba(255,255,255,0.06))",strokeDasharray:"3 3"},e))}),r.jsx("canvas",{ref:E,className:"absolute inset-0 w-full h-full","aria-hidden":"true"}),r.jsx("button",{type:"button",onClick:A,className:"absolute bottom-1 right-1 p-1.5 rounded bg-tooltip-bg/80 hover:bg-tooltip-bg active:bg-tooltip-bg transition-colors touch-manipulation",title:o?"Show full range (min/max)":"Show trimmed range (P5-P95)","aria-label":o?"Expand to show full data range":"Shrink to show trimmed percentile range","aria-pressed":!o,children:o?r.jsx(Se,{className:"w-3.5 h-3.5 text-text-muted","aria-hidden":"true"}):r.jsx(ze,{className:"w-3.5 h-3.5 text-text-muted","aria-hidden":"true"})})]}),r.jsx("div",{className:"absolute left-0 right-0 bottom-0",style:{left:32,height:20},"aria-hidden":"true",children:B.map((e,t)=>r.jsx("span",{className:"type-data-xs text-text-secondary tabular-nums absolute top-1",style:{left:`${e.pos}%`,transform:"translateX(-50%)"},children:e.label},t))})]}):r.jsx("div",{className:"h-full flex items-center justify-center text-text-muted",children:"No noise floor data available"})}),Nt={repeater:"var(--accent-primary)",companion:"var(--accent-tertiary)",room_server:"var(--accent-secondary)"};function wt(e){if(e.contact_type){const t=e.contact_type.toLowerCase();if("repeater"===t||"rep"===t)return"repeater";if("room server"===t||"room_server"===t||"room"===t||"server"===t)return"room_server";if("companion"===t||"client"===t||"cli"===t)return"companion"}return e.is_repeater?"repeater":"companion"}const Mt=n.memo(function({neighbors:e}){const t=n.useMemo(()=>{const t={repeater:0,companion:0,room_server:0};for(const a of Object.values(e)){const e=wt(a);t[e]=(t[e]||0)+1}const s=Object.values(t).reduce((e,t)=>e+t,0);return{items:[{label:"Repeaters",count:t.repeater,percent:0,color:Nt.repeater},{label:"Companions",count:t.companion,percent:0,color:Nt.companion},{label:"Room Servers",count:t.room_server,percent:0,color:Nt.room_server}].map(e=>({...e,percent:s>0?e.count/s*100:0})).filter(e=>e.count>0).sort((e,t)=>t.count-e.count),total:s}},[e]);return 0===t.total?r.jsx("div",{className:"h-full flex items-center justify-center text-text-muted type-body-sm",children:"No neighbors discovered yet"}):r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"flex-1 flex flex-col justify-evenly",children:t.items.map(e=>r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"type-data-sm text-text-secondary",children:e.label}),r.jsxs("span",{className:"type-data-sm text-text-secondary tabular-nums",children:[e.count," ",r.jsxs("span",{className:"text-text-secondary/60",children:["(",e.percent.toFixed(0),"%)"]})]})]}),r.jsx("div",{className:"h-2.5 bg-bg-elevated overflow-hidden",children:r.jsx("div",{className:"h-full transition-all duration-500 ease-out",style:{width:`${e.percent}%`,backgroundColor:e.color,minWidth:e.count>0?"4px":"0"}})})]},e.label))}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border-subtle",children:[r.jsx("span",{className:"type-data-xs text-text-secondary",children:"Total Nodes"}),r.jsx("span",{className:"type-data-sm text-text-primary font-medium tabular-nums",children:t.total})]})]})});function St({children:e,minHeight:t="100%",rootMargin:s="200px 0px",keepMounted:a=!0,className:l=""}){const i=n.useRef(null),[o,c]=n.useState(!1),[C,A]=n.useState(!1);n.useEffect(()=>{const e=i.current;if(!e)return;const t=new IntersectionObserver(([e])=>{const t=e.isIntersecting;A(t),t&&c(!0)},{rootMargin:s,threshold:0});return t.observe(e),()=>{t.disconnect()}},[s]);const D=C||a&&o;return r.jsx("div",{ref:i,className:`h-full w-full ${l}`,style:{minHeight:t},children:D?e:r.jsx("div",{className:"h-full w-full flex items-center justify-center text-text-muted/50",children:r.jsx("div",{className:"animate-pulse text-xs",children:"Loading chart..."})})})}const Tt={excellent:"text-signal-excellent",good:"text-signal-good",fair:"text-signal-fair",poor:"text-accent-primary"},Rt={excellent:"bg-signal-excellent/10",good:"bg-signal-good/10",fair:"bg-signal-fair/10",poor:"bg-accent-primary/10"};function Pt(){const e=j(),t=k(),[s,a]=n.useState(null),l=n.useCallback((e,t)=>{a({prefix:e,candidateHashes:t})},[]),i=n.useCallback(()=>{a(null)},[]);if(!t)return r.jsxs(le,{children:[r.jsx(Ae,{icon:r.jsx(te,{}),title:"Prefix Conflicts",largeTitle:!0}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-text-secondary",children:[r.jsx(Be,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"type-data-xs",children:"No topology data available"}),r.jsx("p",{className:"type-data-xs opacity-70",children:"Run deep analysis to see stats"})]})})]});const o=(c=e.avgConfidence)>=.9?"excellent":c>=.7?"good":c>=.5?"fair":"poor";var c;const C=(A=e.collisionRate)<=10?"excellent":A<=25?"good":"poor";var A;const D="poor"===o||"poor"===C?"poor":"fair"===o||"fair"===C?"fair":"good"===o||"good"===C?"good":"excellent",B="excellent"===D||"good"===D?ke:Fe;return r.jsxs(le,{className:"flex flex-col overflow-hidden",children:[r.jsx(Ae,{icon:r.jsx(te,{}),title:"Prefix Conflicts",largeTitle:!0,actions:r.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full ${Rt[D]}`,children:[r.jsx(B,{className:`w-3.5 h-3.5 ${Tt[D]}`}),r.jsx("span",{className:`type-data-xs font-medium ${Tt[D]}`,children:"excellent"===D?"Excellent":"good"===D?"Good":"fair"===D?"Fair":"Needs Attention"})]})}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2 py-3 sm:py-4",children:[r.jsxs("div",{className:"flex flex-col items-center cursor-help bg-white/5 rounded-lg sm:rounded-xl py-2 sm:py-3 px-1.5 sm:px-2",title:"Total unique 2-character prefixes observed in packet paths.",children:[r.jsx("span",{className:"font-mono text-2xl sm:text-3xl font-semibold tabular-nums text-text-primary",style:{letterSpacing:"-0.05em"},children:e.totalPrefixes}),r.jsx("span",{className:"type-data-xs sm:type-data-sm text-text-secondary mt-0.5 sm:mt-1",children:"Prefixes"})]}),r.jsxs("div",{className:"flex flex-col items-center cursor-help bg-white/5 rounded-lg sm:rounded-xl py-2 sm:py-3 px-1.5 sm:px-2",title:"Prefixes that map to exactly one known node. No disambiguation needed.",children:[r.jsx("span",{className:"font-mono text-2xl sm:text-3xl font-semibold tabular-nums text-text-primary",style:{letterSpacing:"-0.05em"},children:e.unambiguousPrefixes}),r.jsx("span",{className:"type-data-xs sm:type-data-sm text-text-secondary mt-0.5 sm:mt-1",children:"Unique"})]}),r.jsxs("div",{className:"flex flex-col items-center cursor-help rounded-lg sm:rounded-xl py-2 sm:py-3 px-1.5 sm:px-2 "+(e.collisionPrefixes>0?"bg-accent-primary/15":"bg-white/5"),title:"Prefixes matching multiple known nodes. Click a prefix below to explore candidates.",children:[r.jsx("span",{className:"font-mono text-2xl sm:text-3xl font-semibold tabular-nums "+(e.collisionPrefixes>0?"text-accent-primary":"text-text-primary"),style:{letterSpacing:"-0.05em"},children:e.collisionPrefixes}),r.jsx("span",{className:"type-data-xs sm:type-data-sm mt-0.5 sm:mt-1 "+(e.collisionPrefixes>0?"text-accent-primary":"text-text-secondary"),children:"Conflicts"})]})]}),e.highCollisionPrefixes.length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"type-data-xs text-text-secondary mb-1.5",children:"Problem Prefixes"}),r.jsx("div",{className:"flex flex-wrap gap-1.5 content-start",children:e.highCollisionPrefixes.map(({prefix:e,candidateCount:t,candidateHashes:s})=>r.jsxs("button",{type:"button",onClick:()=>l(e,s),className:"inline-flex items-center gap-0.5 group",title:`${t} candidates - click to explore`,children:[r.jsx(ce,{children:e}),r.jsxs("span",{className:"text-text-muted type-data-xs group-hover:text-text-secondary transition-colors",children:["",t]})]},e))})]}),0===e.lowConfidencePrefixes.length&&0===e.collisionPrefixes&&r.jsx("div",{className:"flex-1 flex items-center",children:r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ke,{className:"w-3.5 h-3.5 text-signal-excellent"}),r.jsx("span",{className:"type-data-xs text-signal-excellent",children:"All prefixes uniquely identified"})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mt-auto pt-3",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-help",title:"Average confidence score across all disambiguated prefixes. Higher = more certain node identification.",children:[r.jsx("span",{className:"type-data-xs text-text-secondary",children:"Confidence"}),r.jsxs("span",{className:`data-box ${Tt[o]}`,children:[(100*e.avgConfidence).toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center gap-2 cursor-help",title:"Percentage of 2-character prefixes that match multiple known nodes. Lower is better.",children:[r.jsx("span",{className:"type-data-xs text-text-secondary",children:"Collisions"}),r.jsxs("span",{className:`data-box ${Tt[C]}`,children:[e.collisionRate.toFixed(1),"%"]})]})]})]}),r.jsx(Ce,{isOpen:!!s,prefix:(null==s?void 0:s.prefix)||"",candidateHashes:(null==s?void 0:s.candidateHashes)||[],onClose:i})]})}function $t({icon:e,label:t,value:s,sublabel:a,highlight:n,tooltip:l}){return r.jsxs("div",{className:"flex items-center justify-between gap-2 py-1.5 "+(l?"cursor-help":""),title:l,children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[r.jsx("span",{className:"icon-xs text-icon-widget flex-shrink-0",children:e}),r.jsx("span",{className:"type-body-sm text-text-secondary truncate",children:t})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 flex-shrink-0",children:[r.jsx("span",{className:"data-box",style:n?{"--data-box-color":"var(--accent-primary)"}:void 0,children:s}),a&&r.jsx("span",{className:"type-data-xs text-text-secondary hidden sm:inline",children:a})]})]})}function Lt(){const e=N(),t=w().length;if(!e||0===e.totalPaths)return null;const{totalPaths:s,pathsWithGhosts:a,observationOverrideCount:n,tracePacketsProcessed:l,pathPacketsProcessed:i,distantEdgesDiscovered:o,duplicateGroupsFound:c,duplicatePathsUnique:C,echolocationEdgesInferred:A}=e,D=s>0?((s-a)/s*100).toFixed(1):"0",B=s>0?(n/s*100).toFixed(1):"0",F=l+i,E=F>0||o>0,m=c>0||A>0;return r.jsxs(le,{children:[r.jsx(Ae,{title:"Path Decoder",icon:r.jsx(se,{}),largeTitle:!0,badge:t>0?`${t} hidden`:void 0}),r.jsxs(De,{children:[r.jsxs("div",{children:[r.jsx($t,{icon:r.jsx(Pe,{className:"w-3.5 h-3.5"}),label:"Traceable",value:`${D}%`,sublabel:`of ${s.toLocaleString()} paths`,tooltip:"Percentage of packet journeys where every hop was identified. Higher = better visibility into how traffic flows through your mesh."}),r.jsx($t,{icon:r.jsx(He,{className:"w-3.5 h-3.5"}),label:"Learning Rate",value:`${B}%`,sublabel:"adapted",tooltip:"How often real traffic patterns improved our predictions over geography alone. Higher values mean the decoder is learning your mesh's actual behavior  which routes are preferred, which nodes are most active."})]}),E&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"type-micro mb-2",children:"Beyond Line-of-Sight"}),r.jsxs("div",{children:[r.jsx($t,{icon:r.jsx($e,{className:"w-3.5 h-3.5"}),label:"Route Reports",value:F.toLocaleString(),sublabel:l>0?`(${l} TRACE)`:void 0,tooltip:"TRACE/PATH packets from distant nodes share their routing tables. This reveals connections we can't directly observe  mapping parts of the mesh we don't touch."}),r.jsx($t,{icon:r.jsx(Ee,{className:"w-3.5 h-3.5"}),label:"Remote Links",value:o.toLocaleString(),highlight:o>0,tooltip:"Node-to-node connections discovered from route reports. These links exist outside our RF range but help complete the topology picture."})]})]}),m&&r.jsx($t,{icon:r.jsx(M,{className:"w-3.5 h-3.5"}),label:"Multi-Path Packets",value:c.toLocaleString(),sublabel:C>0?`(${C} routes)`:void 0,tooltip:"Packets received via multiple paths simultaneously. Like sonar, these 'echoes' reveal redundant routes  important for understanding mesh resilience."}),t>0&&r.jsx($t,{icon:r.jsx(S,{className:"w-3.5 h-3.5 text-accent-primary"}),label:"Ghost Repeaters",value:t,highlight:!0,tooltip:"High-confidence hidden repeaters: appear in 10+ paths, have 2+ known neighbors, 30% confidence, and plausible location. View them on the Contacts map."})]})]})}function zt(){var e,t,s,a,l,i,o,c,C,A,D,B,F,E,m,d,u;const h=T(),x=R(),p=P(),g=$(),f=L(),y=z(),b=H(),v=_(),[j,k]=n.useState([]),[N,w]=n.useState(null),[M,S]=n.useState(null),[X,K]=n.useState(!0),[Y,Q]=n.useState(null),[U,Z]=n.useState(()=>{const e=localStorage.getItem("statistics-view-mode");return"share"===e||"airtime"===e?e:"airtime"});n.useEffect(()=>{localStorage.setItem("statistics-view-mode",U)},[U]);const[J,te]=n.useState(()=>{const e=localStorage.getItem("statistics-smoothing-mode");return["raw","ema","zlema","smooth","ultra","mosaic","stats","trend"].includes(e)?e:"trend"});n.useEffect(()=>{localStorage.setItem("statistics-smoothing-mode",J)},[J]);const[se,ne]=n.useState(!1),[ce,Ce]=n.useState(!1),[De,Be]=n.useState(Ie),[Fe,Ee]=n.useState(.5),he=n.useMemo(()=>({0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:6}[b]??3),[b]),xe=O[he].hours,pe=60*xe,ge=O[he],fe=W(xe),ye=y.isBackgroundLoading,be=n.useCallback(e=>{v({0:1,1:2,2:3,3:4,4:5,5:6,6:7}[e]??4)},[v]),ve=n.useMemo(()=>{var e;if(!(null==(e=null==h?void 0:h.config)?void 0:e.radio))return null;const t=h.config.radio;return{sf:t.spreading_factor??10,bw:t.bandwidth??25e4,cr:t.coding_rate??5,preamble:t.preamble_length??8}},[null==(t=null==(e=null==h?void 0:h.config)?void 0:e.radio)?void 0:t.spreading_factor,null==(a=null==(s=null==h?void 0:h.config)?void 0:s.radio)?void 0:a.bandwidth,null==(i=null==(l=null==h?void 0:h.config)?void 0:l.radio)?void 0:i.coding_rate,null==(c=null==(o=null==h?void 0:h.config)?void 0:o.radio)?void 0:c.preamble_length]);n.useEffect(()=>{!async function(){var e;Q(null);try{const t=await I(xe);t.success&&(null==(e=t.data)?void 0:e.history)&&k(t.data.history)}catch(t){Q(t instanceof Error?t.message:"Failed to load chart data")}finally{K(!1)}}()},[xe]);const je=n.useMemo(()=>72===xe?6e5:168===xe?18e5:336===xe?36e5:3e5,[xe]),ke=n.useCallback(async()=>{var e;try{const t=await I(xe);t.success&&(null==(e=t.data)?void 0:e.history)&&k(t.data.history)}catch{}},[xe]);G(ke,je,!0,!0);const Ne=n.useMemo(()=>0===j.length?{timestamps:[],values:[]}:{timestamps:j.map(e=>e.timestamp),values:j.map(e=>e.noise_floor_dbm)},[j]),we=n.useMemo(()=>{if(j.length<10)return{anomalies:[],debug:void 0};const e=function(e,t={}){const s={...Ie,...t};if(e.length<10)return{anomalies:[],thresholds:Ve([]),totalSamples:e.length,anomalySamples:0};const a=e.map(e=>e.noise_floor_dbm),n=Ve(a),r=[...a].sort((e,t)=>e-t);let l,i;s.useAbsoluteThresholds?(l=s.baselineDbm,i=s.spikeDbm):(l=We(r,s.baselinePercentile),i=We(r,s.spikePercentile));const o=[...e].sort((e,t)=>e.timestamp-t.timestamp),c=[];let C=null,A=0;for(const D of o)if(D.noise_floor_dbm>l&&D.noise_floor_dbm<i)if(A++,C){const e=Math.abs(D.noise_floor_dbm-C.rollingAvg)<=s.similarityToleranceDbm,t=D.timestamp-C.endTs<=s.mergeGapSeconds;e&&t?(C.endTs=D.timestamp,C.values.push(D.noise_floor_dbm),C.timestamps.push(D.timestamp),C.rollingAvg=C.values.reduce((e,t)=>e+t,0)/C.values.length):(C.values.length>=s.minSequenceLength&&c.push(C),C={startTs:D.timestamp,endTs:D.timestamp,values:[D.noise_floor_dbm],timestamps:[D.timestamp],rollingAvg:D.noise_floor_dbm})}else C={startTs:D.timestamp,endTs:D.timestamp,values:[D.noise_floor_dbm],timestamps:[D.timestamp],rollingAvg:D.noise_floor_dbm};else C&&C.values.length>=s.minSequenceLength&&c.push(C),C=null;return C&&C.values.length>=s.minSequenceLength&&c.push(C),0===c.length?{anomalies:[],thresholds:n,totalSamples:e.length,anomalySamples:A,debug:{baselineCutoff:l,spikeCutoff:i,midBandSamples:A}}:{anomalies:c.map(e=>{const t=Math.max(...e.values),s=e.values.reduce((e,t)=>e+t,0)/e.values.length;return{startTs:e.startTs,endTs:e.endTs,peakValue:t,avgValue:s,severity:qe(s,l,i),sampleCount:e.values.length}}),thresholds:n,totalSamples:e.length,anomalySamples:A,debug:{baselineCutoff:l,spikeCutoff:i,midBandSamples:A}}}(j,De);return{anomalies:e.anomalies,debug:e.debug}},[j,De]),Me=we.anomalies,Se=n.useMemo(()=>{const e=(null==h?void 0:h.neighbors)??{};return Object.fromEntries(Object.entries(e).filter(([e])=>!x.has(e)))},[null==h?void 0:h.neighbors,x]),Te=n.useMemo(()=>{const e=Date.now()/1e3-3600*xe;return Object.fromEntries(Object.entries(Se).filter(([,t])=>t.last_seen>=e))},[Se,xe]),Re=n.useMemo(()=>{const e=60*pe/fe,t=Math.floor(Date.now()/1e3),s=Math.floor(t/e)*e;return{start:s-60*pe,end:s}},[pe,fe]);return r.jsxs(ie,{children:[r.jsx(oe,{title:"Statistics",icon:r.jsx(V,{}),controls:r.jsx(re,{ranges:O,selectedIndex:he,onSelect:be,isPending:ye})}),Y&&r.jsx(le,{className:"border border-accent-red/50 bg-accent-red/10",children:r.jsx("p",{className:"text-accent-red",children:Y})}),se&&ce&&r.jsxs(le,{className:"border border-accent-purple/30 bg-glass-surface/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"type-label",children:"Anomaly Detection Tuning"}),r.jsxs("span",{className:"type-data-xs text-text-muted",children:["(",ge.label,")"]})]}),r.jsx("button",{onClick:()=>Be(e=>({...e,useAbsoluteThresholds:!e.useAbsoluteThresholds})),className:"type-data-xs px-2 py-1 rounded transition-colors "+(De.useAbsoluteThresholds?"bg-accent-purple/30 text-accent-purple":"bg-glass-elevated text-text-muted hover:text-text-secondary"),children:De.useAbsoluteThresholds?"Absolute dBm":"Percentile"})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"type-micro",children:"Baseline"}),r.jsxs("span",{className:"ml-2 type-data-sm text-status-warning",children:[(null==(A=null==(C=we.debug)?void 0:C.baselineCutoff)?void 0:A.toFixed(1))??""," dBm"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"type-micro",children:"Spike"}),r.jsxs("span",{className:"ml-2 type-data-sm text-status-warning",children:[(null==(B=null==(D=we.debug)?void 0:D.spikeCutoff)?void 0:B.toFixed(1))??""," dBm"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"type-micro",children:"Mid-band"}),r.jsx("span",{className:"ml-2 type-data-sm text-accent-purple",children:(null==(F=we.debug)?void 0:F.midBandSamples)??0})]}),r.jsxs("div",{children:[r.jsx("span",{className:"type-micro",children:"Anomalies"}),r.jsx("span",{className:"ml-2 type-data-sm text-status-danger",children:Me.length})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border-subtle space-y-4",children:[De.useAbsoluteThresholds?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Baseline (",De.baselineDbm," dBm)"]}),r.jsx("input",{type:"range",min:"-120",max:"-60",value:De.baselineDbm,onChange:e=>Be(t=>({...t,baselineDbm:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Spike (",De.spikeDbm," dBm)"]}),r.jsx("input",{type:"range",min:"-100",max:"-20",value:De.spikeDbm,onChange:e=>Be(t=>({...t,spikeDbm:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Merge Gap (",De.mergeGapSeconds,"s)"]}),r.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:De.mergeGapSeconds,onChange:e=>Be(t=>({...t,mergeGapSeconds:Number(e.target.value)})),className:"w-full accent-accent-purple"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Min Sequence (",De.minSequenceLength,")"]}),r.jsx("input",{type:"range",min:"2",max:"20",value:De.minSequenceLength,onChange:e=>Be(t=>({...t,minSequenceLength:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Similarity (",De.similarityToleranceDbm," dBm)"]}),r.jsx("input",{type:"range",min:"1",max:"15",value:De.similarityToleranceDbm,onChange:e=>Be(t=>({...t,similarityToleranceDbm:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Opacity (",Math.round(100*Fe),"%)"]}),r.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:Fe,onChange:e=>Ee(Number(e.target.value)),className:"w-full accent-accent-purple"})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Baseline (P",De.baselinePercentile,")"]}),r.jsx("input",{type:"range",min:"1",max:"50",value:De.baselinePercentile,onChange:e=>Be(t=>({...t,baselinePercentile:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Spike (P",De.spikePercentile,")"]}),r.jsx("input",{type:"range",min:"50",max:"99",value:De.spikePercentile,onChange:e=>Be(t=>({...t,spikePercentile:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Merge Gap (",De.mergeGapSeconds,"s)"]}),r.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:De.mergeGapSeconds,onChange:e=>Be(t=>({...t,mergeGapSeconds:Number(e.target.value)})),className:"w-full accent-accent-purple"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Min Sequence (",De.minSequenceLength,")"]}),r.jsx("input",{type:"range",min:"2",max:"20",value:De.minSequenceLength,onChange:e=>Be(t=>({...t,minSequenceLength:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Similarity (",De.similarityToleranceDbm," dBm)"]}),r.jsx("input",{type:"range",min:"1",max:"15",value:De.similarityToleranceDbm,onChange:e=>Be(t=>({...t,similarityToleranceDbm:Number(e.target.value)})),className:"w-full accent-accent-purple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"type-micro block mb-1",children:["Opacity (",Math.round(100*Fe),"%)"]}),r.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:Fe,onChange:e=>Ee(Number(e.target.value)),className:"w-full accent-accent-purple"})]})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-glass-elevated rounded-lg",children:[r.jsx("div",{className:"type-micro mb-1",children:"Config output"}),r.jsxs("div",{className:"type-data-sm text-status-success",children:[De.useAbsoluteThresholds?`useAbsoluteThresholds: true, baselineDbm: ${De.baselineDbm}, spikeDbm: ${De.spikeDbm}`:`useAbsoluteThresholds: false, baselinePercentile: ${De.baselinePercentile}, spikePercentile: ${De.spikePercentile}`,", mergeGapSeconds: ",De.mergeGapSeconds,", minSequenceLength: ",De.minSequenceLength,", similarityToleranceDbm: ",De.similarityToleranceDbm]})]})]})]}),ye&&r.jsx(me,{template:"auto",children:r.jsx(le,{className:"border border-accent-primary/30 bg-accent-primary/5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative flex h-3 w-3",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent-primary opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-accent-primary"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"type-body-sm text-text-primary",children:["Loading ",ge.label," data..."]}),y.loadProgress&&r.jsxs("p",{className:"type-data-xs text-text-muted mt-0.5",children:[y.loadProgress.loaded.toLocaleString()," packets (",y.loadProgress.percent,"%)"]})]})]})})}),X?r.jsx(me,{template:"auto",children:r.jsx(le,{className:"text-center py-12",children:r.jsx("div",{className:"animate-pulse text-text-muted",children:"Loading statistics..."})})}):r.jsxs(r.Fragment,{children:[r.jsx(me,{template:"hero-auto",children:r.jsx(le,{isLoaded:f,skeletonType:"chart",children:f&&r.jsxs(r.Fragment,{children:[r.jsx(Ae,{icon:r.jsx(ee,{}),title:"Packet Analyzer",badge:ge.label,largeTitle:!0,stackActionsOnMobile:!0,actions:r.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-end",children:["stats"===J&&r.jsx(Et,{enabled:se,onChange:ne,anomalyCount:Me.length,showTuning:ce,onTuningChange:Ce}),r.jsx(Ft,{smoothing:J,onChange:te}),r.jsx(Bt,{mode:U,onChange:Z})]})}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsx(ht,{packets:g,startTs:Re.start,endTs:Re.end,bucketCount:fe,radioConfig:ve??void 0,mode:U,smoothing:J,noiseFloorAnomalies:Me,showNoiseFloorOverlay:se,overlayOpacity:Fe})})]})})}),r.jsxs(me,{template:"panel",children:[r.jsx(de,{span:12,md:6,children:r.jsx(le,{isLoaded:f,skeletonType:"chart",children:f&&r.jsxs(r.Fragment,{children:[r.jsx(Ae,{icon:r.jsx(ae,{}),title:"Link Quality",badge:ge.label,largeTitle:!0,actions:M?r.jsxs("div",{className:"flex items-center gap-3 type-data-xs text-text-muted",children:[r.jsxs("span",{children:[r.jsx("span",{className:"text-text-secondary tabular-nums font-medium",children:M.zeroHopCount})," nbr"]}),r.jsxs("span",{children:[r.jsx("span",{className:"text-text-secondary tabular-nums font-medium",children:M.totalCount})," obs"]}),r.jsxs("span",{children:[r.jsx("span",{className:"text-text-secondary tabular-nums font-medium",children:M.maxDistanceKm.toFixed(0)})," km"]})]}):null}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsx(St,{children:r.jsx(vt,{neighbors:Te,quickNeighbors:p,localLat:(null==(m=null==(E=null==h?void 0:h.config)?void 0:E.repeater)?void 0:m.latitude)??0,localLon:(null==(u=null==(d=null==h?void 0:h.config)?void 0:d.repeater)?void 0:u.longitude)??0,onStatsChange:S})})})]})})}),r.jsx(de,{span:12,md:6,children:r.jsx(le,{isLoaded:f,skeletonType:"chart",children:f&&r.jsxs(r.Fragment,{children:[r.jsx(Ae,{icon:r.jsx(ue,{}),title:"Network Composition",badge:ge.label,largeTitle:!0}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsx(St,{children:r.jsx(Mt,{neighbors:Te})})})]})})})]}),r.jsxs(me,{template:"panel",children:[r.jsx(de,{span:12,md:6,children:r.jsx(Pt,{})}),r.jsx(de,{span:12,md:6,children:r.jsx(Lt,{})})]}),r.jsx(me,{template:"panel",children:r.jsx(de,{span:12,children:r.jsx(le,{isLoaded:f,skeletonType:"chart",children:f&&r.jsxs(r.Fragment,{children:[r.jsx(Ae,{icon:r.jsx(q,{}),title:"RF Noise Floor",largeTitle:!0,stackActionsOnMobile:!0,actions:N?r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsxs("span",{className:"type-data-xs text-text-muted whitespace-nowrap",children:["min ",r.jsx("span",{className:"text-text-secondary tabular-nums",children:N.min.toFixed(0)})]}),r.jsxs("span",{className:"type-data-xs text-text-muted whitespace-nowrap",children:["avg ",r.jsx("span",{className:"text-text-secondary tabular-nums",children:N.avg.toFixed(0)})]}),r.jsxs("span",{className:"type-data-xs text-text-muted whitespace-nowrap",children:["max ",r.jsx("span",{className:"text-text-secondary tabular-nums",children:N.max.toFixed(0)})]}),r.jsx("span",{className:"type-data-xs text-text-muted",children:"dBm"})]}):r.jsx("span",{className:"type-data-xs text-text-muted",children:"dBm"})}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsx(St,{children:r.jsx(kt,{timestamps:Ne.timestamps,values:Ne.values,onStatsChange:w})})})]})})})})]})]})}export{zt as default};
