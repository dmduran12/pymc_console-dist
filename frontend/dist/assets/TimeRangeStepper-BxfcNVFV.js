import{c as e,aB as t,A as a,m as n,bb as r}from"./index-BM4uXpTw.js";import{r as s,j as o,v as i,c as l,D as c,i as d}from"./vendor-react-Co0R0q1H.js";import{C as m}from"./chevron-right-CSyaTYjH.js";const p=e("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u=e("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),y=e("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),f=e("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);function h(e){var t;const a=(null==(t=e.contact_type)?void 0:t.toLowerCase())??"";return"room server"===a||"room_server"===a||"room"===a||"server"===a?{type:"room_server",isRepeater:!0===e.is_repeater,isCompanion:!1,isRoomServer:!0,isClient:!1,label:"Room Server",badgeText:"ROOM"}:"companion"===a||"chat node"===a||"chat_node"===a||"chat"===a?{type:"companion",isRepeater:!1,isCompanion:!0,isRoomServer:!1,isClient:!1,label:"Companion",badgeText:"COMP"}:"client"===a||"cli"===a?{type:"companion",isRepeater:!1,isCompanion:!1,isRoomServer:!1,isClient:!0,label:"Client",badgeText:"CLI"}:"repeater"===a||"rep"===a||!0===e.is_repeater?{type:"repeater",isRepeater:!0,isCompanion:!1,isRoomServer:!1,isClient:!1,label:"Repeater",badgeText:"RPT"}:{type:"unknown",isRepeater:!1,isCompanion:!1,isRoomServer:!1,isClient:!1,label:"Unknown",badgeText:""}}function x(e,t){const a=h({});if(!t)return{name:null,nodeType:a};const n=e.src_hash;if(!n)return{name:null,nodeType:a};const r=(n.startsWith("0x")?n.slice(2):n).toLowerCase();if(e._advertSender)for(const[l,c]of Object.entries(t))if((l.startsWith("0x")?l.slice(2):l).toLowerCase()===e._advertSender)return{name:c.name||c.node_name||null,nodeType:h(c)};const s=[];for(const[l,c]of Object.entries(t))(l.startsWith("0x")?l.slice(2):l).toLowerCase().startsWith(r)&&s.push({hash:l,contact:c,nodeType:h(c)});if(0===s.length)return{name:null,nodeType:a};if(1===s.length){const e=s[0];return{name:e.contact.name||e.contact.node_name||null,nodeType:e.nodeType}}const o=v(e.type??e.payload_type);if("unknown"!==o){const e=s.find(e=>e.nodeType.type===o);if(e)return{name:e.contact.name||e.contact.node_name||null,nodeType:e.nodeType}}const i=s[0];return{name:i.contact.name||i.contact.node_name||null,nodeType:i.nodeType}}function v(e){switch(e){case t.GRP_TXT:case t.TXT_MSG:case t.REQ:case t.ANON_REQ:return"companion";case t.TRACE:case t.PATH:return"repeater";case t.GRP_DATA:return"room_server";default:return"unknown"}}function b(e){switch(e){case 1:return"companion";case 2:return"repeater";case 3:return"room_server";default:return"unknown"}}const g=s.memo(function({ranges:e,selectedIndex:t,onSelect:u,isPending:y,size:f="default"}){var h;const x=s.useRef(null),v=t>0,b=t<e.length-1,g=(null==(h=e[t])?void 0:h.label)??"â€”",w="sm"===f,T=(e,t)=>{var a;const n="left"===e?6:-6;null==(a=x.current)||a.animate([{opacity:1,transform:"translateX(0)"},{opacity:0,transform:`translateX(${n}px)`}],{duration:80,easing:"ease-out"}),setTimeout(()=>{var e;t(),null==(e=x.current)||e.animate([{opacity:0,transform:`translateX(${-n}px)`},{opacity:1,transform:"translateX(0)"}],{duration:80,easing:"ease-out"})},80)},C=()=>v&&T("left",()=>u(t-1)),j=()=>b&&T("right",()=>u(t+1));return o.jsx(i,{className:"relative inline-flex",children:({open:s,close:i})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:l("inline-flex items-center rounded-full bg-surface","shadow-[var(--neo-outer-sm)]",w?"gap-0.5 p-0.5":"gap-0.5 p-1",y&&"opacity-70"),children:[o.jsx("button",{type:"button",onClick:C,disabled:!v,"aria-label":"Previous",className:l("flex items-center justify-center rounded-full transition-all duration-100","text-fg-muted hover:text-fg-primary active:scale-90","disabled:opacity-25 disabled:pointer-events-none",w?"w-5 h-5":"w-6 h-6"),children:o.jsx(p,{className:w?"w-3 h-3":"w-3.5 h-3.5"})}),o.jsx(c,{className:l("rounded-full cursor-pointer transition-all","bg-surface shadow-[var(--neo-toggle-raised)]",w?"px-2.5 py-1":"px-3 py-1.5"),children:o.jsx("span",{ref:x,className:l("block font-semibold text-fg-primary tabular-nums select-none",w?"min-w-[1.5rem] text-[11px]":"min-w-[2rem] text-xs","text-center"),children:g})}),o.jsx("button",{type:"button",onClick:j,disabled:!b,"aria-label":"Next",className:l("flex items-center justify-center rounded-full transition-all duration-100","text-fg-muted hover:text-fg-primary active:scale-90","disabled:opacity-25 disabled:pointer-events-none",w?"w-5 h-5":"w-6 h-6"),children:o.jsx(m,{className:w?"w-3 h-3":"w-3.5 h-3.5"})})]}),o.jsx(a,{children:s&&o.jsx(d,{static:!0,anchor:"bottom",className:"z-50 mt-2",children:o.jsx(n.div,{initial:{opacity:0,y:-4,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.98},transition:r.dropdown,className:l("surface-elevated radius-inset p-1","shadow-[var(--neo-outer)]"),children:o.jsx("div",{className:"grid grid-cols-4 gap-0.5",children:e.map((e,a)=>o.jsx("button",{type:"button",onClick:()=>{a!==t&&u(a),i()},className:l("px-2.5 py-1.5 radius-control text-xs font-medium transition-colors",a===t?"bg-sys-blue text-white":"text-fg-secondary hover:bg-overlay-soft"),children:e.label},e.label))})})})})]})})});export{u as C,f as M,g as T,y as a,p as b,h as c,x as g,v as i,b as m};
