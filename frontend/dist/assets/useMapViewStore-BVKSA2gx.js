import{r as e,j as t}from"./vendor-react-SfmO5UG4.js";import{a}from"./vendor-motion-BUrLkjC7.js";import{b0 as s}from"./index-CF53FmhC.js";import{a as o,p as n}from"./vendor-core-D1p9zwXj.js";function r({value:o,format:n,prefix:r,className:l,style:i}){const[d,g]=e.useState("waiting");if(e.useEffect(()=>{const e=setTimeout(()=>g("mounted"),400);return()=>clearTimeout(e)},[]),e.useEffect(()=>{if("mounted"===d){const e=requestAnimationFrame(()=>g("animating"));return()=>cancelAnimationFrame(e)}},[d]),"waiting"===d){const e=(0).toLocaleString(void 0,n);return t.jsxs("span",{className:l,style:i,children:[r,e]})}return t.jsx(a,{className:l,style:i,format:n,prefix:r,transition:s.numberReveal,children:"animating"===d?o:0})}const l=["repeater","companion","room_server","hubs","direct"],i={showTopology:!1,showNeighborLines:!0,show3DTerrain:!1,showMinCut:!1,showLinkQuality:!1,nodeFilters:[...l]},d=o()(n(e=>({viewState:null,setViewState:t=>e({viewState:t,lastSavedAt:Date.now()}),toggles:i,setToggle:(t,a)=>e(e=>({toggles:{...e.toggles,[t]:a},lastSavedAt:Date.now()})),setToggles:t=>e(e=>({toggles:{...e.toggles,...t},lastSavedAt:Date.now()})),hasAnalyzed:!1,setHasAnalyzed:t=>e({hasAnalyzed:t,lastSavedAt:Date.now()}),modalMapOpen:!1,setModalMapOpen:t=>e({modalMapOpen:t}),lastSavedAt:null,reset:()=>e({viewState:null,toggles:i,hasAnalyzed:!1,lastSavedAt:null})}),{name:"pymc-map-view",version:2,migrate:(e,t)=>{const a=e,s=a.toggles??{};if(0===t){const e=s.nodeFilter;let t=[...l];return"hubs"===e?t=["hubs"]:"direct"===e&&(t=["direct"]),{...a,toggles:{...s,nodeFilters:t,nodeFilter:void 0}}}if(1===t){const e=s.nodeFilters,t=e&&e.length>0?e:[...l];return{...a,toggles:{...s,nodeFilters:t}}}return e},partialize:e=>({viewState:e.viewState,toggles:e.toggles,hasAnalyzed:e.hasAnalyzed,lastSavedAt:e.lastSavedAt})}));export{l as A,r as D,d as u};
