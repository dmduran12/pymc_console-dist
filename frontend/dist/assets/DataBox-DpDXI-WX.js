import{r as e,j as t}from"./vendor-react-alRNW2nb.js";import{c as o}from"./vendor-core-FtpmsTnh.js";import{a as n,o as s}from"./vendor-icons-TO0PZKGR.js";const a={standard:"w-3 h-3",compact:"w-2.5 h-2.5",responsive:"w-2.5 h-2.5 sm:w-3 sm:h-3"};function r({children:r,copyValue:c,copy:i=!1,size:l="standard",className:p,title:d,color:u,truncate:m}){const[y,x]=e.useState(!1),[f,h]=e.useState(!1),w=e.useRef(null),v=c??("string"==typeof r?r:""),b=a[l],g=(()=>{if(!m||"string"!=typeof r)return r;const e=r,[t,o]=!0===m?[6,4]:m;return e.length<=t+o+3?e:`${e.slice(0,t)}â€¦${e.slice(-o)}`})(),j=e.useCallback(e=>{if(!i)return;e.preventDefault(),e.stopPropagation(),w.current&&clearTimeout(w.current);const t=function(e){var t;if("undefined"!=typeof window&&(window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname)&&(null==(t=navigator.clipboard)?void 0:t.writeText))return navigator.clipboard.writeText(e).catch(()=>{}),!0;try{const{scrollX:t,scrollY:o}=window,n=document.createElement("textarea");n.value=e,n.style.cssText="position:fixed;left:-9999px;top:-9999px;opacity:0;pointer-events:none",n.setAttribute("readonly",""),document.body.appendChild(n),n.focus({preventScroll:!0}),n.select(),n.setSelectionRange(0,e.length);const s=document.execCommand("copy");return document.body.removeChild(n),window.scrollTo(t,o),s}catch(o){return console.error("Copy failed:",o),!1}}(v);x(!0),w.current=setTimeout(()=>x(!1),2e3),t||console.warn("Copy may have failed for:",v.slice(0,16)+"...")},[i,v]),C="compact"===l?"data-box-compact":"responsive"===l?"data-box-responsive":"",N=i?d||`Click to copy: ${v}`:d;return i?t.jsxs("button",{type:"button",onClick:j,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:o("data-box interactive",C,"cursor-pointer select-none gap-1","hover-bg",u,p),title:N,"aria-label":`Copy ${v}`,children:[t.jsx("span",{className:o("transition-colors duration-200",y?"text-sys-green":""),children:g}),t.jsx("span",{className:o("flex items-center justify-center","compact"===l?"w-3 h-3":"w-3.5 h-3.5"),children:y?t.jsx(n,{className:o("text-sys-green",b)}):t.jsx(s,{className:o("transition-opacity duration-200",f?"opacity-70":"opacity-40",b)})})]}):t.jsx("span",{className:o("data-box",C,u,p),title:N,children:g})}export{r as D};
