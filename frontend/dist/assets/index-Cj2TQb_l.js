const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-DXjt9Iqr.js","assets/vendor-react-54o2BuWt.js","assets/vendor-core-dnrJb0w-.js","assets/Dashboard-BMu2lsmE.js","assets/useThemeColors-BvPNffvW.js","assets/PageLayout-oD_toqF3.js","assets/PacketList-17VTwpYV.js","assets/channel-keys-DJWRrSwE.js","assets/SignalIndicator-CTrmLUvB.js","assets/arrow-up-wAK_DEEG.js","assets/DataBox-Ch1XBKAk.js","assets/chevron-right-CNx_KAZk.js","assets/loader-circle-IbAorEh9.js","assets/map-pin-npZnl7TX.js","assets/zap-DPCcu4k7.js","assets/triangle-alert-ZtCoEnw6.js","assets/route-Dv1qoy9M.js","assets/chevron-up-BHoRguPo.js","assets/circle-check-BEGrYkUG.js","assets/house-DRBwj0--.js","assets/trending-up-DaR3kGD7.js","assets/TimeRangeSelector-C351H_OV.js","assets/link-scoring-PhBvC3wn.js","assets/NodeInformationCard-BqOAPKcg.js","assets/Card-8VRgnhDw.js","assets/Grid-CORrqWoE.js","assets/Packets-BckQF_j_.js","assets/users-p4U-Yjut.js","assets/refresh-cw-DKEnmYwY.js","assets/Contacts-BpQYAdOo.js","assets/ping-Dc927e66.js","assets/git-branch-DNmkU8Ic.js","assets/ConfirmModal-CK6bJbeH.js","assets/CollisionExplorerModal-DxjK9lgr.js","assets/BasemapLayer-DuDL4O6m.js","assets/target-DLZQ8LQK.js","assets/network-DOWmt9mx.js","assets/maplibre-gl-B1CfjdFi.css","assets/Statistics-DbSx_Aiw.js","assets/usePolling-CAy9T8nm.js","assets/compass-D6mgBwj_.js","assets/info-DC-qBIJH.js","assets/MeshGraph-CEdJeDV3.js","assets/DeepAnalysisModal-BhC0FTfb.js","assets/MeshGraphLabelTest-9eHpdChw.js","assets/System-mWTlAbJe.js","assets/Logs-CFyrpacO.js","assets/Terminal-BNIQsspb.js","assets/Configuration-CYWjfUSY.js","assets/font-loader-jlbdh9Fw.js"])))=>i.map(i=>d[i]);
var t=Object.defineProperty,e=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{r as n,j as s,b as i,c as o,L as r,h as a,z as l,Q as c,y as u,x as d,X as h,d as p,e as m,f}from"./vendor-react-54o2BuWt.js";import{_ as g}from"./deckgl-DTsmDcfs.js";import{L as y,c as v,u as x,R as b,a as w,N as k,B as S}from"./vendor-core-dnrJb0w-.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const T={surfaces:{glass:{tint:"#252525",light:"#ffffff",dark:"#000000",reflexLight:.15,reflexDark:.8,blur:6,blurElevated:8,brightness:1,opacity:8,opacityElevated:12},card:{radius:"1.125rem",padding:"1.25rem",paddingCompact:"0.75rem"},sidebar:{tint:"rgba(113, 156, 223, 0.06)",width:"16rem",drawerWidth:"85vw"},modal:{radius:"1.125rem",backdropBlur:"8px",backdropColor:"rgba(0, 0, 0, 0.6)"}},colors:{bg:{body:"#171717",surface:"#252525",elevated:"#333233",subtle:"#3F3F3F"},border:{subtle:"#4B4B4B",strong:"#616161"},text:{primary:"#E1E1E1",secondary:"#BFBFBF",muted:"#727272",inverse:"#171717"},accent:{primary:"#719CDF",secondary:"#DFBC72",tertiary:"#6FBCBD",success:"#719872",danger:"#E12672"},signal:{excellent:"#00FF00",good:"#8CE619",fair:"#FFD900",poor:"#FF8C26",critical:"#FF3333",unknown:"#616161"},status:{success:"#719872",warning:"#DFBC72",danger:"#E12672",info:"#6FBCBD",muted:"#616161"},chart:{c1:"#719CDF",c2:"#0074BE",c3:"#6FBCBD",c4:"#DFBC72",c5:"#719872",c6:"#E12672",c7:"#E17899",c8:"#999ABD",grid:"rgba(255, 255, 255, 0.06)",axis:"rgba(255, 255, 255, 0.4)",cursor:"rgba(255, 255, 255, 0.2)"},metric:{received:"#719872",forwarded:"#0074BE",transmitted:"#DFBC72",dropped:"#E12672"},map:{nodeFill:"#3B82F6",nodeStroke:"rgba(255,255,255,0.9)",hub:"#8E4EC6",local:"#FFB224",neighbor:"#46A758",mobile:"#F76B15",room:"#D6409F",edge:"#4B4B4B",edgeHover:"#6FBCBD"}},typography:{font:{title:"'Inter', system-ui, sans-serif",display:"'Inter', system-ui, sans-serif",mono:"'JetBrains Mono', 'SF Mono', Monaco, monospace"},size:{xs:"0.64rem",sm:"0.8rem",base:"1rem",md:"1.125rem",lg:"1.25rem",xl:"1.563rem",xxl:"1.953rem",hero:"3.052rem"},weight:{normal:400,medium:500,semibold:600,bold:700},leading:{tight:1.1,snug:1.25,normal:1.5},tracking:{tight:"-0.02em",normal:"0",wide:"0.05em"}},spacing:{space:{gap:"1.5rem",gapMobile:"0.75rem",page:"1.5rem",pageMobile:"1rem",section:"2rem"},radius:{sm:"0.5rem",md:"0.875rem",lg:"1.125rem",xl:"1.5rem",pill:"9999px"}},motion:{fast:"0.1s",normal:"0.15s",slow:"0.4s",easing:"ease-out"}};function C(t){const e=t.replace("#","");if(6!==e.length&&3!==e.length)return t;let n,s,i;return 3===e.length?(n=parseInt(e[0]+e[0],16)/255,s=parseInt(e[1]+e[1],16)/255,i=parseInt(e[2]+e[2],16)/255):(n=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,i=parseInt(e.slice(4,6),16)/255),`color(display-p3 ${n.toFixed(3)} ${s.toFixed(3)} ${i.toFixed(3)})`}function M(){return"undefined"!=typeof window&&CSS.supports("color","color(display-p3 1 1 1)")}function P(t){return M()?C(t):t}function E(t,e){const n={...t};for(const s of Object.keys(e)){const i=e[s],o=t[s];void 0!==i&&("object"!=typeof i||null===i||Array.isArray(i)||"object"!=typeof o||null===o||Array.isArray(o)?n[s]=i:n[s]=E(o,i))}return n}function j(t){return{meta:t.meta,display:t.display,surfaces:t.surfaces?E(T.surfaces,t.surfaces):T.surfaces,colors:t.colors?E(T.colors,t.colors):T.colors,typography:t.typography?E(T.typography,t.typography):T.typography,spacing:t.spacing?E(T.spacing,t.spacing):T.spacing,motion:t.motion?E(T.motion,t.motion):T.motion}}function L(t){const e=t.replace("#","");return 6===e.length?`${parseInt(e.slice(0,2),16)}, ${parseInt(e.slice(2,4),16)}, ${parseInt(e.slice(4,6),16)}`:"255, 255, 255"}function A(t){return{id:t.meta.id,colorScheme:{name:t.meta.name,dataTheme:t.meta.dataTheme,previewColor:t.meta.previewColor},background:{src:t.meta.backgroundImage,suggestedBrightness:t.meta.backgroundBrightness},display:{font:t.display.font,color:t.display.color,size:t.display.size,paletteColors:t.display.palette}}}const D="#fafafa",N="#a1a1aa",R="#71717a",F="#3f3f46",I="#27272a",_="#18181b",B="#09090b",V="#ef4444",O="#f97316",z="#f59e0b",$="#eab308",W="#22c55e",U="#10b981",H="#06b6d4",Y="#3b82f6",q="#8b5cf6",G=j({meta:{id:"",name:"",dataTheme:"",previewColor:Y,backgroundImage:"",backgroundBrightness:100,isDark:!0},display:{font:"Inter, sans-serif",color:N,size:1,palette:[[Y,W,$,O,V],[B,_,I,F,D]]},typography:{font:{title:"Inter, sans-serif",display:"Inter, sans-serif",mono:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'},weight:{normal:400,medium:500,semibold:600,bold:700,badge:700},tracking:{tight:"-0.02em",normal:"0",wide:"0.025em"},badge:{textTransform:"capitalize"}},surfaces:{glass:{tint:_,light:F,dark:B,reflexLight:0,reflexDark:0,blur:0,blurElevated:0,brightness:1,opacity:100,opacityElevated:100,catalystMode:!0},sidebar:{tint:`${I}80`},card:{radius:"0.5rem"},modal:{radius:"0.75rem"}},colors:{bg:{body:B,surface:_,elevated:I,subtle:I},border:{subtle:I,strong:"#52525b"},text:{primary:"#fff",secondary:N,muted:R,inverse:B},accent:{primary:Y,secondary:$,tertiary:H,success:W,danger:V},signal:{excellent:W,good:"#84cc16",fair:$,poor:O,critical:V,unknown:R},status:{success:W,warning:z,danger:V,info:Y,muted:R},chart:{c1:Y,c2:U,c3:z,c4:O,c5:"#f43f5e",c6:q,c7:H,c8:R,grid:`${D}0d`,axis:`${D}33`,cursor:`${Y}33`},metric:{received:Y,forwarded:U,transmitted:O,dropped:V},map:{nodeFill:Y,nodeStroke:`${D}e6`,hub:q,local:z,neighbor:U,mobile:O,room:"#ec4899",edge:F,edgeHover:Y}}}),X=G;A(G);const K=j({meta:{id:"",name:"",dataTheme:"",previewColor:"#B39DF3",backgroundImage:"/assets/sand.jpg",backgroundBrightness:80,isDark:!0},display:{font:"'Rubik Mono One', monospace",color:"#4A4A52",size:.8,palette:[["#B49DFF","#F9D26F","#71F8E5","#39D98A","#FF5C7A"],["#4CFFB5","#FF8A5C","#A78BFA","#60A5FA","#F472B6"]]},typography:{font:{title:"'Rubik Mono One', monospace"}},surfaces:{glass:{tint:"#252525",blur:6,blurElevated:8},sidebar:{tint:"rgba(113, 156, 223, 0.06)"}}}),J=K;A(K);const Z=j({meta:{id:"",name:"",dataTheme:"",previewColor:"#fabd2f",backgroundImage:"/assets/magma.webp",backgroundBrightness:50,isDark:!0},display:{font:"'Jacquard 12', serif",color:"#fe8019",size:1.75,palette:[["#fabd2f","#fb4934","#8ec07c","#b8bb26","#d3869b"],["#fe8019","#83a598","#d65d0e","#928374","#ebdbb2"]]},typography:{font:{title:"'Jacquard 12', serif"},size:{xxl:"2.344rem"}},surfaces:{glass:{tint:"#282828"},sidebar:{tint:"rgba(250, 189, 47, 0.06)"}},colors:{accent:{primary:"#fabd2f",secondary:"#fb4934",tertiary:"#8ec07c",success:"#b8bb26",danger:"#fb4934"},signal:{excellent:"#b8bb26",good:"#8ec07c",fair:"#fabd2f",poor:"#fe8019",critical:"#fb4934",unknown:"#928374"},status:{success:"#b8bb26",warning:"#fabd2f",danger:"#fb4934",info:"#83a598",muted:"#928374"},chart:{c1:"#fabd2f",c2:"#fe8019",c3:"#fb4934",c4:"#d3869b",c5:"#b8bb26",c6:"#8ec07c",c7:"#83a598",c8:"#d65d0e",grid:"rgba(251, 241, 199, 0.06)",axis:"rgba(251, 241, 199, 0.4)",cursor:"rgba(251, 241, 199, 0.2)"},metric:{received:"#b8bb26",forwarded:"#83a598",transmitted:"#fabd2f",dropped:"#fb4934"},map:{nodeFill:"#3B82F6",nodeStroke:"rgba(255,255,255,0.9)",hub:"#b16286",local:"#fabd2f",neighbor:"#fabd2f",mobile:"#fe8019",room:"#d3869b",edge:"#665c54",edgeHover:"#8ec07c"}}}),Q=Z;A(Z);const tt=j({meta:{id:"",name:"",dataTheme:"",previewColor:"#83a598",backgroundImage:"/assets/water.webp",backgroundBrightness:40,isDark:!0},display:{font:"'Cantora One', sans-serif",color:"#83a598",size:1.25,palette:[["#83a598","#a89984","#8ec07c","#d79921","#b16286"],["#fe8019","#cc241d","#7c6f64","#bdae93","#ebdbb2"]]},typography:{font:{title:"'Cantora One', sans-serif"},size:{xxl:"2.148rem"},weight:{semibold:500}},surfaces:{glass:{tint:"#1e1e1e"},sidebar:{tint:"rgba(131, 165, 152, 0.06)"}},colors:{accent:{primary:"#83a598",secondary:"#a89984",tertiary:"#8ec07c",success:"#8ec07c",danger:"#cc241d"},signal:{excellent:"#8ec07c",good:"#b8bb26",fair:"#d79921",poor:"#fe8019",critical:"#cc241d",unknown:"#7c6f64"},status:{success:"#8ec07c",warning:"#d79921",danger:"#cc241d",info:"#83a598",muted:"#7c6f64"},chart:{c1:"#83a598",c2:"#8ec07c",c3:"#d79921",c4:"#b16286",c5:"#fe8019",c6:"#cc241d",c7:"#a89984",c8:"#7c6f64",grid:"rgba(213, 196, 161, 0.06)",axis:"rgba(213, 196, 161, 0.4)",cursor:"rgba(213, 196, 161, 0.2)"},metric:{received:"#8ec07c",forwarded:"#83a598",transmitted:"#d79921",dropped:"#cc241d"},map:{nodeFill:"#3B82F6",nodeStroke:"rgba(255,255,255,0.9)",hub:"#b16286",local:"#d79921",neighbor:"#d79921",mobile:"#fe8019",room:"#b16286",edge:"#504945",edgeHover:"#83a598"}}}),et=tt;A(tt);const nt=j({meta:{id:"",name:"",dataTheme:"",previewColor:"#33859d",backgroundImage:"/assets/stars.jpg",backgroundBrightness:100,isDark:!0},display:{font:"'IBM Plex Mono', monospace",color:"#c23127",size:1.25,palette:[["#33859d","#edb54b","#26a98b","#c23127","#888ca6"],["#195465","#d26939","#99d1ce","#4e5165","#0c1014"]]},typography:{font:{title:"'IBM Plex Mono', monospace"}},surfaces:{glass:{tint:"#0a0e14",blur:1,blurElevated:2},sidebar:{tint:"rgba(51, 133, 157, 0.06)"}},colors:{accent:{primary:"#33859d",secondary:"#edb54b",tertiary:"#26a98b",success:"#26a98b",danger:"#c33027"},signal:{excellent:"#26a98b",good:"#7ec07c",fair:"#edb54b",poor:"#d26939",critical:"#c33027",unknown:"#195465"},status:{success:"#26a98b",warning:"#edb54b",danger:"#c33027",info:"#599caa",muted:"#195465"},chart:{c1:"#33859d",c2:"#edb54b",c3:"#26a98b",c4:"#599caa",c5:"#d26939",c6:"#c33027",c7:"#888ba5",c8:"#195465",grid:"rgba(153, 209, 206, 0.06)",axis:"rgba(153, 209, 206, 0.4)",cursor:"rgba(153, 209, 206, 0.2)"},metric:{received:"#26a98b",forwarded:"#33859d",transmitted:"#edb54b",dropped:"#c33027"},map:{nodeFill:"#3B82F6",nodeStroke:"rgba(255,255,255,0.9)",hub:"#888ba5",local:"#edb54b",neighbor:"#edb54b",mobile:"#d26939",room:"#888ba5",edge:"#245361",edgeHover:"#26a98b"}}}),st=nt;A(nt);const it="#2D2D2D",ot="#4A4A4A",rt="#7A7A7A",at=j({meta:{id:"",name:"",dataTheme:"",previewColor:"#9ed072",backgroundImage:"",backgroundColor:"#F5F5F5",backgroundBrightness:100,isDark:!1},display:{font:"'JetBrains Mono', monospace",color:"#2D2D2D",size:1,palette:[["#9ed072","#fc5d7c","#76cce0","#e7c664","#b39df3"],["#f39660","#7f8490","#e2e2e3","#55575e","#2c2e34"]]},typography:{font:{title:"'JetBrains Mono', 'SF Mono', Monaco, monospace",display:"'Instrument Sans', system-ui, sans-serif",mono:"'JetBrains Mono', 'SF Mono', Monaco, monospace",cardTitle:"'JetBrains Mono', 'SF Mono', Monaco, monospace"},size:{xxl:"1.875rem",cardTitle:"1rem"},weight:{normal:400,medium:500,semibold:600,bold:600,cardTitle:600}},surfaces:{glass:{tint:"#FFFFFF",light:"rgba(255, 255, 255, 1)",dark:"rgba(0, 0, 0, 0.1)",reflexLight:0,reflexDark:0,blur:0,blurElevated:0,brightness:1,opacity:0,opacityElevated:0,ribbonMode:!0,ribbonBorderWidth:2,ribbonBorderColor:rt},sidebar:{tint:"rgba(0, 0, 0, 0.02)"}},colors:{bg:{body:"#F5F5F5",surface:"#FFFFFF",elevated:"#FFFFFF",subtle:"#EBEBEB"},border:{subtle:"#E0E0E0",strong:"#BFBFBF"},text:{primary:it,secondary:ot,muted:rt,inverse:"#FFFFFF"},accent:{primary:"#9ed072",secondary:"#e7c664",tertiary:"#76cce0",success:"#9ed072",danger:"#fc5d7c"},signal:{excellent:"#9ed072",good:"#c5d93d",fair:"#e7c664",poor:"#f39660",critical:"#fc5d7c",unknown:"#7f8490"},status:{success:"#9ed072",warning:"#e7c664",danger:"#fc5d7c",info:"#76cce0",muted:"#7f8490"},chart:{c1:"#2E8B57",c2:"#E14D6B",c3:"#D4A832",c4:"#4A9EA0",c5:"#8B6BAE",c6:"#D97A4A",c7:rt,c8:ot,grid:"rgba(45, 45, 45, 0.08)",axis:"rgba(45, 45, 45, 0.5)",cursor:"rgba(45, 45, 45, 0.15)"},metric:{received:"#9ed072",forwarded:"#76cce0",transmitted:"#e7c664",dropped:"#fc5d7c"},map:{nodeFill:"#3B82F6",nodeStroke:"rgba(255,255,255,0.9)",hub:"#b39df3",local:"#e7c664",neighbor:"#e7c664",mobile:"#f39660",room:"#fc5d7c",edge:rt,edgeHover:"#76cce0"},icon:{pageTitle:it,cardTitle:it,widget:ot,action:ot,nav:rt,navActive:it},sidebar:{bg:"rgba(0, 0, 0, 0.02)",navHoverBg:"rgba(0, 0, 0, 0.04)",navActiveBg:"rgba(0, 0, 0, 0.06)",navActiveText:it}}}),lt=at;A(at);const ct=j({meta:{id:"",name:"",dataTheme:"",previewColor:"#7E9CD8",backgroundImage:"/assets/folds.webp",backgroundBrightness:50,isDark:!0},display:{font:"'Inter', sans-serif",color:"#7E9CD8",size:1.25,palette:[["#7E9CD8","#E46876","#7AA89F","#DCA561","#957FB8"],["#7FB4CA","#D27E99","#98BB6C","#727169","#1F1F28"]]},typography:{font:{title:"'Inter', sans-serif"}},surfaces:{glass:{tint:"#1F1F28"},sidebar:{tint:"rgba(126, 156, 216, 0.06)"}},colors:{accent:{primary:"#7E9CD8",secondary:"#E6C384",tertiary:"#7FB4CA",success:"#98BB6C",danger:"#E46876"},signal:{excellent:"#98BB6C",good:"#B8CC5C",fair:"#E6C384",poor:"#FFA066",critical:"#E46876",unknown:"#54546D"},status:{success:"#98BB6C",warning:"#E6C384",danger:"#E46876",info:"#7FB4CA",muted:"#727169"},chart:{c1:"#7E9CD8",c2:"#E6C384",c3:"#98BB6C",c4:"#957FB8",c5:"#7FB4CA",c6:"#E46876",c7:"#FFA066",c8:"#D27E99",grid:"rgba(220, 215, 186, 0.06)",axis:"rgba(220, 215, 186, 0.4)",cursor:"rgba(220, 215, 186, 0.2)"},metric:{received:"#98BB6C",forwarded:"#7E9CD8",transmitted:"#E6C384",dropped:"#E46876"},map:{nodeFill:"#3B82F6",nodeStroke:"rgba(255,255,255,0.9)",hub:"#957FB8",local:"#E6C384",neighbor:"#E6C384",mobile:"#FFA066",room:"#D27E99",edge:"#54546D",edgeHover:"#7AA89F"}}}),ut=ct;A(ct);const dt={"KDE Breeze":X,Magma:Q,Folds:ut,Ribbon:lt,BLKSAND:J,Waves:et,Stars:st};function ht(t,e){const n=t.toLowerCase();return{...e,meta:{...e.meta,id:n,name:t,dataTheme:n}}}const pt=Object.fromEntries(Object.entries(dt).map(([t,e])=>[t,ht(t,e)])),mt=Object.fromEntries(Object.entries(pt).map(([t,e])=>[t,A(e)])),ft=Object.values(pt);function gt(t){return ft.find(e=>e.meta.id===t)}new Map(Object.entries(pt));const yt=Object.values(mt);new Map(Object.entries(mt));const vt=Object.entries(mt).map(([t,e])=>function(t,e){return{id:t.id,name:t.colorScheme.name,displayName:e,colorScheme:t.id,backgroundImage:t.background.src,paletteColors:t.display.paletteColors,displayFont:t.display.font,displayColor:t.display.color,displaySize:t.display.size}}(e,t)),xt=yt.map(function(t){return{id:t.id,name:t.colorScheme.name,dataTheme:t.colorScheme.dataTheme,previewColor:t.colorScheme.previewColor}}),bt=yt.map(function(t){return{id:t.id,src:t.background.src,suggestedScheme:t.id,suggestedBrightness:t.background.suggestedBrightness}}),wt=pt["KDE Breeze"];mt["KDE Breeze"];const kt=wt.meta.id,St=wt.meta.backgroundImage,Tt=wt.meta.backgroundBrightness,Ct=xt,Mt=bt,Pt=vt,Et={colorScheme:kt,backgroundImage:St,brightness:Tt},jt="pymc-color-scheme",Lt="pymc-background-image",At="pymc-bg-brightness",Dt="pymc-background";function Nt(t){(new Image).src=t}const Rt={50:.97,100:.92,200:.84,300:.73,400:.62,500:.5,600:.4,700:.32,800:.24,900:.16},Ft=[50,100,200,300,400,500,600,700,800,900],It=["red","orange","yellow","green","aqua","blue","purple"];function _t(t,e,n){const s=t=>Math.round(Math.max(0,Math.min(255,t))).toString(16).padStart(2,"0");return`#${s(t)}${s(e)}${s(n)}`}function Bt(t){const e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Vt(t){const e=t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055;return Math.round(255*e)}function Ot(t,e,n){const s=n*(Math.PI/180),i=e*Math.cos(s),o=e*Math.sin(s),r=t+.3963377774*i+.2158037573*o,a=t-.1055613458*i-.0638541728*o,l=t-.0894841775*i-1.291485548*o,c=r*r*r,u=a*a*a,d=l*l*l,h=-1.2684380046*c+2.6097574011*u-.3413193965*d,p=-.0041960863*c-.7034186147*u+1.707614701*d;return[Vt(4.0767416621*c-3.3077115913*u+.2309699292*d),Vt(h),Vt(p)]}function zt(t){const[e,n,s]=function(t){const e=t.replace("#","");return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}(t),[,i,o]=function(t,e,n){const s=Bt(t),i=Bt(e),o=Bt(n),r=.4122214708*s+.5363325363*i+.0514459929*o,a=.2119034982*s+.6806995451*i+.1073969566*o,l=.0883024619*s+.2817188376*i+.6299787005*o,c=Math.cbrt(r),u=Math.cbrt(a),d=Math.cbrt(l),h=.2104542553*c+.793617785*u-.0040720468*d,p=1.9779984951*c-2.428592205*u+.4505937099*d,m=.0259040371*c+.7827717662*u-.808675766*d,f=Math.sqrt(p*p+m*m);let g=Math.atan2(m,p)*(180/Math.PI);return g<0&&(g+=360),[h,f,g]}(e,n,s),r={};for(const a of Ft){const t=Rt[a],e=i*(1-.3*Math.abs(t-.5)),[n,s,l]=Ot(t,e,o);r[a]=_t(n,s,l)}return r}function $t(t){return"undefined"==typeof window?"":getComputedStyle(document.documentElement).getPropertyValue(t).trim()}function Wt(t,e){"undefined"!=typeof document&&document.documentElement.style.setProperty(t,e)}const Ut="u-off",Ht="u-label",Yt="width",qt="height",Gt="top",Xt="bottom",Kt="left",Jt="right",Zt="#000",Qt=Zt+"0",te="mousemove",ee="mousedown",ne="mouseup",se="mouseenter",ie="mouseleave",oe="dblclick",re="change",ae="dppxchange",le="--",ce="undefined"!=typeof window,ue=ce?document:null,de=ce?window:null,he=ce?navigator:null;let pe,me;function fe(t,e){if(null!=e){let n=t.classList;!n.contains(e)&&n.add(e)}}function ge(t,e){let n=t.classList;n.contains(e)&&n.remove(e)}function ye(t,e,n){t.style[e]=n+"px"}function ve(t,e,n,s){let i=ue.createElement(t);return null!=e&&fe(i,e),null!=n&&n.insertBefore(i,s),i}function xe(t,e){return ve("div",t,e)}const be=new WeakMap;function we(t,e,n,s,i){let o="translate("+e+"px,"+n+"px)";o!=be.get(t)&&(t.style.transform=o,be.set(t,o),e<0||n<0||e>s||n>i?fe(t,Ut):ge(t,Ut))}const ke=new WeakMap;function Se(t,e,n){let s=e+n;s!=ke.get(t)&&(ke.set(t,s),t.style.background=e,t.style.borderColor=n)}const Te=new WeakMap;function Ce(t,e,n,s){let i=e+""+n;i!=Te.get(t)&&(Te.set(t,i),t.style.height=n+"px",t.style.width=e+"px",t.style.marginLeft=s?-e/2+"px":0,t.style.marginTop=s?-n/2+"px":0)}const Me={passive:!0},Pe={...Me,capture:!0};function Ee(t,e,n,s){e.addEventListener(t,n,s?Pe:Me)}function je(t,e,n,s){e.removeEventListener(t,n,Me)}function Le(t,e,n,s){let i;n=n||0;let o=(s=s||e.length-1)<=2147483647;for(;s-n>1;)i=o?n+s>>1:Xe((n+s)/2),e[i]<t?n=i:s=i;return t-e[n]<=e[s]-t?n:s}function Ae(t){return(e,n,s)=>{let i=-1,o=-1;for(let r=n;r<=s;r++)if(t(e[r])){i=r;break}for(let r=s;r>=n;r--)if(t(e[r])){o=r;break}return[i,o]}}ce&&function t(){let e=devicePixelRatio;pe!=e&&(pe=e,me&&je(re,me,t),me=matchMedia(`(min-resolution: ${pe-.001}dppx) and (max-resolution: ${pe+.001}dppx)`),Ee(re,me,t),de.dispatchEvent(new CustomEvent(ae)))}();const De=t=>null!=t,Ne=t=>null!=t&&t>0,Re=Ae(De),Fe=Ae(Ne);function Ie(t,e,n,s){let i=en(t),o=en(e);t==e&&(-1==i?(t*=n,e/=n):(t/=n,e*=n));let r=10==n?nn:sn,a=1==o?Je:Xe,l=(1==i?Xe:Je)(r(Ge(t))),c=a(r(Ge(e))),u=tn(n,l),d=tn(n,c);return 10==n&&(l<0&&(u=wn(u,-l)),c<0&&(d=wn(d,-c))),s||2==n?(t=u*i,e=d*o):(t=bn(t,u),e=xn(e,d)),[t,e]}function _e(t,e,n,s){let i=Ie(t,e,n,s);return 0==t&&(i[0]=0),0==e&&(i[1]=0),i}const Be={mode:3,pad:.1},Ve={pad:0,soft:null,mode:0},Oe={min:Ve,max:Ve};function ze(t,e,n,s){return An(n)?We(t,e,n):(Ve.pad=n,Ve.soft=s?0:null,Ve.mode=s?3:0,We(t,e,Oe))}function $e(t,e){return null==t?e:t}function We(t,e,n){let s=n.min,i=n.max,o=$e(s.pad,0),r=$e(i.pad,0),a=$e(s.hard,-rn),l=$e(i.hard,rn),c=$e(s.soft,rn),u=$e(i.soft,-rn),d=$e(s.mode,0),h=$e(i.mode,0),p=e-t,m=nn(p),f=Qe(Ge(t),Ge(e)),g=nn(f),y=Ge(g-m);(p<1e-24||y>10)&&(p=0,0!=t&&0!=e||(p=1e-24,2==d&&c!=rn&&(o=0),2==h&&u!=-rn&&(r=0)));let v=p||f||1e3,x=nn(v),b=tn(10,Xe(x)),w=wn(bn(t-v*(0==p?0==t?.1:1:o),b/10),24),k=t>=c&&(1==d||3==d&&w<=c||2==d&&w>=c)?c:rn,S=Qe(a,w<k&&t>=k?k:Ze(k,w)),T=wn(xn(e+v*(0==p?0==e?.1:1:r),b/10),24),C=e<=u&&(1==h||3==h&&T>=u||2==h&&T<=u)?u:-rn,M=Ze(l,T>C&&e<=C?C:Qe(C,T));return S==M&&0==S&&(M=100),[S,M]}const Ue=new Intl.NumberFormat(ce?he.language:"en-US"),He=t=>Ue.format(t),Ye=Math,qe=Ye.PI,Ge=Ye.abs,Xe=Ye.floor,Ke=Ye.round,Je=Ye.ceil,Ze=Ye.min,Qe=Ye.max,tn=Ye.pow,en=Ye.sign,nn=Ye.log10,sn=Ye.log2,on=(t,e=1)=>Ye.asinh(t/e),rn=1/0;function an(t){return 1+(0|nn((t^t>>31)-(t>>31)))}function ln(t,e,n){return Ze(Qe(t,e),n)}function cn(t){return"function"==typeof t}function un(t){return cn(t)?t:()=>t}const dn=t=>t,hn=(t,e)=>e,pn=t=>null,mn=t=>!0,fn=(t,e)=>t==e,gn=/\.\d*?(?=9{6,}|0{6,})/gm,yn=t=>{if(jn(t)||kn.has(t))return t;const e=`${t}`,n=e.match(gn);if(null==n)return t;let s=n[0].length-1;if(-1!=e.indexOf("e-")){let[t,n]=e.split("e");return+`${yn(t)}e${n}`}return wn(t,s)};function vn(t,e){return yn(wn(yn(t/e))*e)}function xn(t,e){return yn(Je(yn(t/e))*e)}function bn(t,e){return yn(Xe(yn(t/e))*e)}function wn(t,e=0){if(jn(t))return t;let n=10**e,s=t*n*(1+Number.EPSILON);return Ke(s)/n}const kn=new Map;function Sn(t){return((""+t).split(".")[1]||"").length}function Tn(t,e,n,s){let i=[],o=s.map(Sn);for(let r=e;r<n;r++){let e=Ge(r),n=wn(tn(t,r),e);for(let a=0;a<s.length;a++){let l=10==t?+`${s[a]}e${r}`:s[a]*n,c=(r>=0?0:e)+(r>=o[a]?0:o[a]),u=10==t?l:wn(l,c);i.push(u),kn.set(u,c)}}return i}const Cn={},Mn=[],Pn=[null,null],En=Array.isArray,jn=Number.isInteger;function Ln(t){return"string"==typeof t}function An(t){let e=!1;if(null!=t){let n=t.constructor;e=null==n||n==Object}return e}function Dn(t){return null!=t&&"object"==typeof t}const Nn=Object.getPrototypeOf(Uint8Array),Rn="__proto__";function Fn(t,e=An){let n;if(En(t)){let s=t.find(t=>null!=t);if(En(s)||e(s)){n=Array(t.length);for(let s=0;s<t.length;s++)n[s]=Fn(t[s],e)}else n=t.slice()}else if(t instanceof Nn)n=t.slice();else if(e(t)){n={};for(let s in t)s!=Rn&&(n[s]=Fn(t[s],e))}else n=t;return n}function In(t){let e=arguments;for(let n=1;n<e.length;n++){let s=e[n];for(let e in s)e!=Rn&&(An(t[e])?In(t[e],Fn(s[e])):t[e]=Fn(s[e]))}return t}function _n(t,e,n){for(let s,i=0,o=-1;i<e.length;i++){let r=e[i];if(r>o){for(s=r-1;s>=0&&null==t[s];)t[s--]=null;for(s=r+1;s<n&&null==t[s];)t[o=s++]=null}}}const Bn="undefined"==typeof queueMicrotask?t=>Promise.resolve().then(t):queueMicrotask,Vn=["January","February","March","April","May","June","July","August","September","October","November","December"],On=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function zn(t){return t.slice(0,3)}const $n=On.map(zn),Wn=Vn.map(zn),Un={MMMM:Vn,MMM:Wn,WWWW:On,WWW:$n};function Hn(t){return(t<10?"0":"")+t}const Yn={YYYY:t=>t.getFullYear(),YY:t=>(t.getFullYear()+"").slice(2),MMMM:(t,e)=>e.MMMM[t.getMonth()],MMM:(t,e)=>e.MMM[t.getMonth()],MM:t=>Hn(t.getMonth()+1),M:t=>t.getMonth()+1,DD:t=>Hn(t.getDate()),D:t=>t.getDate(),WWWW:(t,e)=>e.WWWW[t.getDay()],WWW:(t,e)=>e.WWW[t.getDay()],HH:t=>Hn(t.getHours()),H:t=>t.getHours(),h:t=>{let e=t.getHours();return 0==e?12:e>12?e-12:e},AA:t=>t.getHours()>=12?"PM":"AM",aa:t=>t.getHours()>=12?"pm":"am",a:t=>t.getHours()>=12?"p":"a",mm:t=>Hn(t.getMinutes()),m:t=>t.getMinutes(),ss:t=>Hn(t.getSeconds()),s:t=>t.getSeconds(),fff:t=>{return((e=t.getMilliseconds())<10?"00":e<100?"0":"")+e;var e}};function qn(t,e){e=e||Un;let n,s=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;n=i.exec(t);)s.push("{"==n[0][0]?Yn[n[1]]:n[0]);return t=>{let n="";for(let i=0;i<s.length;i++)n+="string"==typeof s[i]?s[i]:s[i](t,e);return n}}const Gn=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Xn=t=>t%1==0,Kn=[1,2,2.5,5],Jn=Tn(10,-32,0,Kn),Zn=Tn(10,0,32,Kn),Qn=Zn.filter(Xn),ts=Jn.concat(Zn),es="{YYYY}",ns="\n"+es,ss="{M}/{D}",is="\n"+ss,os=is+"/{YY}",rs="{aa}",as="{h}:{mm}"+rs,ls="\n"+as,cs=":{ss}",us=null;function ds(t){let e=1e3*t,n=60*e,s=60*n,i=24*s,o=30*i,r=365*i;return[(1==t?Tn(10,0,3,Kn).filter(Xn):Tn(10,-3,0,Kn)).concat([e,5*e,10*e,15*e,30*e,n,5*n,10*n,15*n,30*n,s,2*s,3*s,4*s,6*s,8*s,12*s,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,r,2*r,5*r,10*r,25*r,50*r,100*r]),[[r,es,us,us,us,us,us,us,1],[28*i,"{MMM}",ns,us,us,us,us,us,1],[i,ss,ns,us,us,us,us,us,1],[s,"{h}"+rs,os,us,is,us,us,us,1],[n,as,os,us,is,us,us,us,1],[e,cs,os+" "+as,us,is+" "+as,us,ls,us,1],[t,cs+".{fff}",os+" "+as,us,is+" "+as,us,ls,us,1]],function(e){return(a,l,c,u,d,h)=>{let p=[],m=d>=r,f=d>=o&&d<r,g=e(c),y=wn(g*t,3),v=bs(g.getFullYear(),m?0:g.getMonth(),f||m?1:g.getDate()),x=wn(v*t,3);if(f||m){let n=f?d/o:0,s=m?d/r:0,i=y==x?y:wn(bs(v.getFullYear()+s,v.getMonth()+n,1)*t,3),a=new Date(Ke(i/t)),l=a.getFullYear(),c=a.getMonth();for(let o=0;i<=u;o++){let r=bs(l+s*o,c+n*o,1),a=r-e(wn(r*t,3));i=wn((+r+a)*t,3),i<=u&&p.push(i)}}else{let o=d>=i?i:d,r=x+(Xe(c)-Xe(y))+xn(y-x,o);p.push(r);let m=e(r),f=m.getHours()+m.getMinutes()/n+m.getSeconds()/s,g=d/s,v=h/a.axes[l]._space;for(;r=wn(r+d,1==t?0:3),!(r>u);)if(g>1){let t=Xe(wn(f+g,6))%24,n=e(r).getHours()-t;n>1&&(n=-1),r-=n*s,f=(f+g)%24,wn((r-p[p.length-1])/d,3)*v>=.7&&p.push(r)}else p.push(r)}return p}}]}const[hs,ps,ms]=ds(1),[fs,gs,ys]=ds(.001);function vs(t,e){return t.map(t=>t.map((n,s)=>0==s||8==s||null==n?n:e(1==s||0==t[8]?n:t[1]+n)))}function xs(t,e){return(n,s,i,o,r)=>{let a,l,c,u,d,h,p=e.find(t=>r>=t[0])||e[e.length-1];return s.map(e=>{let n=t(e),s=n.getFullYear(),i=n.getMonth(),o=n.getDate(),r=n.getHours(),m=n.getMinutes(),f=n.getSeconds(),g=s!=a&&p[2]||i!=l&&p[3]||o!=c&&p[4]||r!=u&&p[5]||m!=d&&p[6]||f!=h&&p[7]||p[1];return a=s,l=i,c=o,u=r,d=m,h=f,g(n)})}}function bs(t,e,n){return new Date(t,e,n)}function ws(t,e){return e(t)}function ks(t,e){return(n,s,i,o)=>null==o?le:e(t(s))}Tn(2,-53,53,[1]);const Ss={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(t,e){let n=t.series[e];return n.width?n.stroke(t,e):n.points.width?n.points.stroke(t,e):null},fill:function(t,e){return t.series[e].fill(t,e)},dash:"solid"},idx:null,idxs:null,values:[]},Ts=[0,0];function Cs(t,e,n,s=!0){return t=>{0==t.button&&(!s||t.target==e)&&n(t)}}function Ms(t,e,n,s=!0){return t=>{(!s||t.target==e)&&n(t)}}const Ps={show:!0,x:!0,y:!0,lock:!1,move:function(t,e,n){return Ts[0]=e,Ts[1]=n,Ts},points:{one:!1,show:function(t,e){let n=t.cursor.points,s=xe(),i=n.size(t,e);ye(s,Yt,i),ye(s,qt,i);let o=i/-2;ye(s,"marginLeft",o),ye(s,"marginTop",o);let r=n.width(t,e,i);return r&&ye(s,"borderWidth",r),s},size:function(t,e){return t.series[e].points.size},width:0,stroke:function(t,e){let n=t.series[e].points;return n._stroke||n._fill},fill:function(t,e){let n=t.series[e].points;return n._fill||n._stroke}},bind:{mousedown:Cs,mouseup:Cs,click:Cs,dblclick:Cs,mousemove:Ms,mouseleave:Ms,mouseenter:Ms},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(t,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(t,e,n,s,i)=>s-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Es={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},js=In({},Es,{filter:hn}),Ls=In({},js,{size:10}),As=In({},Es,{show:!1}),Ds='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ns="bold "+Ds,Rs={show:!0,scale:"x",stroke:Zt,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ns,side:2,grid:js,ticks:Ls,border:As,font:Ds,lineGap:1.5,rotate:0},Fs={show:!0,scale:"x",auto:!1,sorted:1,min:rn,max:-rn,idxs:[]};function Is(t,e,n,s,i){return e.map(t=>null==t?"":He(t))}function _s(t,e,n,s,i,o,r){let a=[],l=kn.get(i)||0;for(let c=n=r?n:wn(xn(n,i),l);c<=s;c=wn(c+i,l))a.push(Object.is(c,-0)?0:c);return a}function Bs(t,e,n,s,i,o,r){const a=[],l=t.scales[t.axes[e].scale].log,c=Xe((10==l?nn:sn)(n));i=tn(l,c),10==l&&(i=ts[Le(i,ts)]);let u=n,d=i*l;10==l&&(d=ts[Le(d,ts)]);do{a.push(u),u+=i,10!=l||kn.has(u)||(u=wn(u,kn.get(i))),u>=d&&(d=(i=u)*l,10==l&&(d=ts[Le(d,ts)]))}while(u<=s);return a}function Vs(t,e,n,s,i,o,r){let a=t.scales[t.axes[e].scale].asinh,l=s>a?Bs(t,e,Qe(a,n),s,i):[a],c=s>=0&&n<=0?[0]:[];return(n<-a?Bs(t,e,Qe(a,-s),-n,i):[a]).reverse().map(t=>-t).concat(c,l)}const Os=/./,zs=/[12357]/,$s=/[125]/,Ws=/1/,Us=(t,e,n,s)=>t.map((t,i)=>4==e&&0==t||i%s==0&&n.test(t.toExponential()[t<0?1:0])?t:null);function Hs(t,e,n,s,i){let o=t.axes[n],r=o.scale,a=t.scales[r],l=t.valToPos,c=o._space,u=l(10,r),d=l(9,r)-u>=c?Os:l(7,r)-u>=c?zs:l(5,r)-u>=c?$s:Ws;if(d==Ws){let t=Ge(l(1,r)-u);if(t<c)return Us(e.slice().reverse(),a.distr,d,Je(c/t)).reverse()}return Us(e,a.distr,d,1)}function Ys(t,e,n,s,i){let o=t.axes[n],r=o.scale,a=o._space,l=t.valToPos,c=Ge(l(1,r)-l(2,r));return c<a?Us(e.slice().reverse(),3,Os,Je(a/c)).reverse():e}function qs(t,e,n,s){return null==s?le:null==e?"":He(e)}const Gs={show:!0,scale:"y",stroke:Zt,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ns,side:3,grid:js,ticks:Ls,border:As,font:Ds,lineGap:1.5,rotate:0},Xs={scale:null,auto:!0,sorted:0,min:rn,max:-rn},Ks=(t,e,n,s,i)=>i,Js={show:!0,auto:!0,sorted:0,gaps:Ks,alpha:1,facets:[In({},Xs,{scale:"x"}),In({},Xs,{scale:"y"})]},Zs={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Ks,alpha:1,points:{show:function(t,e){let{scale:n,idxs:s}=t.series[0],i=t._data[0],o=t.valToPos(i[s[0]],n,!0),r=t.valToPos(i[s[1]],n,!0),a=Ge(r-o)/(t.series[e].points.space*pe);return s[1]-s[0]<=a},filter:null},values:null,min:rn,max:-rn,idxs:[],path:null,clip:null};function Qs(t,e,n,s,i){return n/10}const ti={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},ei=In({},ti,{time:!1,ori:1}),ni={};function si(t,e){let n=ni[t];return n||(n={key:t,plots:[],sub(t){n.plots.push(t)},unsub(t){n.plots=n.plots.filter(e=>e!=t)},pub(t,e,s,i,o,r,a){for(let l=0;l<n.plots.length;l++)n.plots[l]!=e&&n.plots[l].pub(t,e,s,i,o,r,a)}},null!=t&&(ni[t]=n)),n}function ii(t,e,n){const s=t.mode,i=t.series[e],o=2==s?t._data[e]:t._data,r=t.scales,a=t.bbox;let l=o[0],c=2==s?o[1]:o[e],u=2==s?r[i.facets[0].scale]:r[t.series[0].scale],d=2==s?r[i.facets[1].scale]:r[i.scale],h=a.left,p=a.top,m=a.width,f=a.height,g=t.valToPosH,y=t.valToPosV;return 0==u.ori?n(i,l,c,u,d,g,y,h,p,m,f,hi,mi,gi,vi,bi):n(i,l,c,u,d,y,g,p,h,f,m,pi,fi,yi,xi,wi)}function oi(t,e){let n=0,s=0,i=$e(t.bands,Mn);for(let o=0;o<i.length;o++){let t=i[o];t.series[0]==e?n=t.dir:t.series[1]==e&&(1==t.dir?s|=1:s|=2)}return[n,1==s?-1:2==s?1:3==s?2:0]}function ri(t,e,n,s,i){let o=t.mode,r=t.series[e],a=2==o?r.facets[1].scale:r.scale,l=t.scales[a];return-1==i?l.min:1==i?l.max:3==l.distr?1==l.dir?l.min:l.max:0}function ai(t,e,n,s,i,o){return ii(t,e,(t,e,r,a,l,c,u,d,h,p,m)=>{let f=t.pxRound;const g=a.dir*(0==a.ori?1:-1),y=0==a.ori?mi:fi;let v,x;1==g?(v=n,x=s):(v=s,x=n);let b=f(c(e[v],a,p,d)),w=f(u(r[v],l,m,h)),k=f(c(e[x],a,p,d)),S=f(u(1==o?l.max:l.min,l,m,h)),T=new Path2D(i);return y(T,k,S),y(T,b,S),y(T,b,w),T})}function li(t,e,n,s,i,o){let r=null;if(t.length>0){r=new Path2D;const a=0==e?gi:yi;let l=n;for(let e=0;e<t.length;e++){let n=t[e];if(n[1]>n[0]){let t=n[0]-l;t>0&&a(r,l,s,t,s+o),l=n[1]}}let c=n+i-l,u=10;c>0&&a(r,l,s-u/2,c,s+o+u)}return r}function ci(t,e,n,s,i,o,r){let a=[],l=t.length;for(let c=1==i?n:s;c>=n&&c<=s;c+=i)if(null===e[c]){let u=c,d=c;if(1==i)for(;++c<=s&&null===e[c];)d=c;else for(;--c>=n&&null===e[c];)d=c;let h=o(t[u]),p=d==u?h:o(t[d]),m=u-i;h=r<=0&&m>=0&&m<l?o(t[m]):h;let f=d+i;p=r>=0&&f>=0&&f<l?o(t[f]):p,p>=h&&a.push([h,p])}return a}function ui(t){return 0==t?dn:1==t?Ke:e=>vn(e,t)}function di(t){let e=0==t?hi:pi,n=0==t?(t,e,n,s,i,o)=>{t.arcTo(e,n,s,i,o)}:(t,e,n,s,i,o)=>{t.arcTo(n,e,i,s,o)},s=0==t?(t,e,n,s,i)=>{t.rect(e,n,s,i)}:(t,e,n,s,i)=>{t.rect(n,e,i,s)};return(t,i,o,r,a,l=0,c=0)=>{0==l&&0==c?s(t,i,o,r,a):(l=Ze(l,r/2,a/2),c=Ze(c,r/2,a/2),e(t,i+l,o),n(t,i+r,o,i+r,o+a,l),n(t,i+r,o+a,i,o+a,c),n(t,i,o+a,i,o,c),n(t,i,o,i+r,o,l),t.closePath())}}const hi=(t,e,n)=>{t.moveTo(e,n)},pi=(t,e,n)=>{t.moveTo(n,e)},mi=(t,e,n)=>{t.lineTo(e,n)},fi=(t,e,n)=>{t.lineTo(n,e)},gi=di(0),yi=di(1),vi=(t,e,n,s,i,o)=>{t.arc(e,n,s,i,o)},xi=(t,e,n,s,i,o)=>{t.arc(n,e,s,i,o)},bi=(t,e,n,s,i,o,r)=>{t.bezierCurveTo(e,n,s,i,o,r)},wi=(t,e,n,s,i,o,r)=>{t.bezierCurveTo(n,e,i,s,r,o)};function ki(t){return(t,e,n,s,i)=>ii(t,e,(e,o,r,a,l,c,u,d,h,p,m)=>{let f,g,{pxRound:y,points:v}=e;0==a.ori?(f=hi,g=vi):(f=pi,g=xi);const x=wn(v.width*pe,3);let b=(v.size-v.width)/2*pe,w=wn(2*b,3),k=new Path2D,S=new Path2D,{left:T,top:C,width:M,height:P}=t.bbox;gi(S,T-w,C-w,M+2*w,P+2*w);const E=t=>{if(null!=r[t]){let e=y(c(o[t],a,p,d)),n=y(u(r[t],l,m,h));f(k,e+b,n),g(k,e,n,b,0,2*qe)}};if(i)i.forEach(E);else for(let t=n;t<=s;t++)E(t);return{stroke:x>0?k:null,fill:k,clip:S,flags:3}})}function Si(t){return(e,n,s,i,o,r)=>{s!=i&&(o!=s&&r!=s&&t(e,n,s),o!=i&&r!=i&&t(e,n,i),t(e,n,r))}}const Ti=Si(mi),Ci=Si(fi);function Mi(t){const e=$e(null==t?void 0:t.alignGaps,0);return(t,n,s,i)=>ii(t,n,(o,r,a,l,c,u,d,h,p,m,f)=>{[s,i]=Re(a,s,i);let g,y,v=o.pxRound,x=t=>v(u(t,l,m,h)),b=t=>v(d(t,c,f,p));0==l.ori?(g=mi,y=Ti):(g=fi,y=Ci);const w=l.dir*(0==l.ori?1:-1),k={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},S=k.stroke;let T=!1;if(i-s>=4*m){let e,n,o,c=e=>t.posToVal(e,l.key,!0),u=null,d=null,h=x(r[1==w?s:i]),p=x(r[s]),m=x(r[i]),f=c(1==w?p+1:m-1);for(let t=1==w?s:i;t>=s&&t<=i;t+=w){let s=r[t],i=(1==w?s<f:s>f)?h:x(s),o=a[t];i==h?null!=o?(n=o,null==u?(g(S,i,b(n)),e=u=d=n):n<u?u=n:n>d&&(d=n)):null===o&&(T=!0):(null!=u&&y(S,h,b(u),b(d),b(e),b(n)),null!=o?(n=o,g(S,i,b(n)),u=d=e=n):(u=d=null,null===o&&(T=!0)),h=i,f=c(h+w))}null!=u&&u!=d&&o!=h&&y(S,h,b(u),b(d),b(e),b(n))}else for(let t=1==w?s:i;t>=s&&t<=i;t+=w){let e=a[t];null===e?T=!0:null!=e&&g(S,x(r[t]),b(e))}let[C,M]=oi(t,n);if(null!=o.fill||0!=C){let e=k.fill=new Path2D(S),a=b(o.fillTo(t,n,o.min,o.max,C)),l=x(r[s]),c=x(r[i]);-1==w&&([c,l]=[l,c]),g(e,c,a),g(e,l,a)}if(!o.spanGaps){let c=[];T&&c.push(...ci(r,a,s,i,w,x,e)),k.gaps=c=o.gaps(t,n,s,i,c),k.clip=li(c,l.ori,h,p,m,f)}return 0!=M&&(k.band=2==M?[ai(t,n,s,i,S,-1),ai(t,n,s,i,S,1)]:ai(t,n,s,i,S,M)),k})}function Pi(t,e,n,s,i,o,r=rn){if(t.length>1){let a=null;for(let l=0,c=1/0;l<t.length;l++)if(void 0!==e[l]){if(null!=a){let e=Ge(t[l]-t[a]);e<c&&(c=e,r=Ge(n(t[l],s,i,o)-n(t[a],s,i,o)))}a=l}}return r}function Ei(t,e,n,s,i,o){const r=t.length;if(r<2)return null;const a=new Path2D;if(n(a,t[0],e[0]),2==r)s(a,t[1],e[1]);else{let n=Array(r),s=Array(r-1),o=Array(r-1),l=Array(r-1);for(let i=0;i<r-1;i++)o[i]=e[i+1]-e[i],l[i]=t[i+1]-t[i],s[i]=o[i]/l[i];n[0]=s[0];for(let t=1;t<r-1;t++)0===s[t]||0===s[t-1]||s[t-1]>0!=s[t]>0?n[t]=0:(n[t]=3*(l[t-1]+l[t])/((2*l[t]+l[t-1])/s[t-1]+(l[t]+2*l[t-1])/s[t]),isFinite(n[t])||(n[t]=0));n[r-1]=s[r-2];for(let c=0;c<r-1;c++)i(a,t[c]+l[c]/3,e[c]+n[c]*l[c]/3,t[c+1]-l[c]/3,e[c+1]-n[c+1]*l[c]/3,t[c+1],e[c+1])}return a}const ji=new Set;function Li(){for(let t of ji)t.syncRect(!0)}ce&&(Ee("resize",de,Li),Ee("scroll",de,Li,!0),Ee(ae,de,()=>{Ui.pxRatio=pe}));const Ai=Mi(),Di=ki();function Ni(t,e,n,s){return(s?[t[0],t[1]].concat(t.slice(2)):[t[0]].concat(t.slice(1))).map((t,s)=>Ri(t,s,e,n))}function Ri(t,e,n,s){return In({},0==e?n:s,t)}function Fi(t,e,n){return null==e?Pn:[e,n]}const Ii=Fi;function _i(t,e,n){return null==e?Pn:ze(e,n,.1,!0)}function Bi(t,e,n,s){return null==e?Pn:Ie(e,n,t.scales[s].log,!1)}const Vi=Bi;function Oi(t,e,n,s){return null==e?Pn:_e(e,n,t.scales[s].log,!1)}const zi=Oi;function $i(t){let e,n;return[t=t.replace(/(\d+)px/,(t,s)=>(e=Ke((n=+s)*pe))+"px"),e,n]}function Wi(t){t.show&&[t.font,t.labelFont].forEach(t=>{let e=wn(t[2]*pe,1);t[0]=t[0].replace(/[0-9.]+px/,e+"px"),t[1]=e})}function Ui(t,e,n){const s={mode:$e(t.mode,1)},i=s.mode;function o(t,e,n,s){let i=e.valToPct(t);return s+n*(-1==e.dir?1-i:i)}function r(t,e,n,s){let i=e.valToPct(t);return s+n*(-1==e.dir?i:1-i)}function a(t,e,n,s){return 0==e.ori?o(t,e,n,s):r(t,e,n,s)}s.valToPosH=o,s.valToPosV=r;let l=!1;s.status=0;const c=s.root=xe("uplot");null!=t.id&&(c.id=t.id),fe(c,t.class),t.title&&(xe("u-title",c).textContent=t.title);const u=ve("canvas"),d=s.ctx=u.getContext("2d"),h=xe("u-wrap",c);Ee("click",h,t=>{t.target===m&&(Jn!=Yn||Zn!=Gn)&&cs.click(s,t)},!0);const p=s.under=xe("u-under",h);h.appendChild(u);const m=s.over=xe("u-over",h),f=+$e((t=Fn(t)).pxAlign,1),g=ui(f);(t.plugins||[]).forEach(e=>{e.opts&&(t=e.opts(s,t)||t)});const y=t.ms||.001,v=s.series=1==i?Ni(t.series||[],Fs,Zs,!1):(x=t.series||[null],b=Js,x.map((t,e)=>0==e?{}:In({},b,t)));var x,b;const w=s.axes=Ni(t.axes||[],Rs,Gs,!0),k=s.scales={},S=s.bands=t.bands||[];S.forEach(t=>{t.fill=un(t.fill||null),t.dir=$e(t.dir,-1)});const T=2==i?v[1].facets[0].scale:v[0].scale,C={axes:function(){for(let t=0;t<w.length;t++){let e=w[t];if(!e.show||!e._show)continue;let n,i,o=e.side,r=o%2,l=e.stroke(s,t),c=0==o||3==o?-1:1,[u,h]=e._found;if(null!=e.label){let a=e.labelGap*c,p=Ke((e._lpos+a)*pe);en(e.labelFont[0],l,"center",2==o?Gt:Xt),d.save(),1==r?(n=i=0,d.translate(p,Ke(gt+vt/2)),d.rotate((3==o?-qe:qe)/2)):(n=Ke(ft+yt/2),i=p);let m=cn(e.label)?e.label(s,t,u,h):e.label;d.fillText(m,n,i),d.restore()}if(0==h)continue;let p=k[e.scale],m=0==r?yt:vt,f=0==r?ft:gt,y=e._splits,v=2==p.distr?y.map(t=>Oe[t]):y,x=2==p.distr?Oe[y[1]]-Oe[y[0]]:u,b=e.ticks,S=e.border,T=b.show?b.size:0,C=Ke(T*pe),M=Ke((2==e.alignTo?e._size-T-e.gap:e.gap)*pe),P=e._rotate*-qe/180,E=g(e._pos*pe),j=E+(C+M)*c;i=0==r?j:0,n=1==r?j:0,en(e.font[0],l,1==e.align?Kt:2==e.align?Jt:P>0?Kt:P<0?Jt:0==r?"center":3==o?Jt:Kt,P||1==r?"middle":2==o?Gt:Xt);let L=e.font[1]*e.lineGap,A=y.map(t=>g(a(t,p,m,f))),D=e._values;for(let t=0;t<D.length;t++){let e=D[t];if(null!=e){0==r?n=A[t]:i=A[t],e=""+e;let s=-1==e.indexOf("\n")?[e]:e.split(/\n/gm);for(let t=0;t<s.length;t++){let e=s[t];P?(d.save(),d.translate(n,i+t*L),d.rotate(P),d.fillText(e,0,0),d.restore()):d.fillText(e,n,i+t*L)}}}b.show&&Nn(A,b.filter(s,v,t,h,x),r,o,E,C,wn(b.width*pe,3),b.stroke(s,t),b.dash,b.cap);let N=e.grid;N.show&&Nn(A,N.filter(s,v,t,h,x),r,0==r?2:1,0==r?gt:ft,0==r?vt:yt,wn(N.width*pe,3),N.stroke(s,t),N.dash,N.cap),S.show&&Nn([E],[1],0==r?1:0,0==r?1:2,1==r?gt:ft,1==r?vt:yt,wn(S.width*pe,3),S.stroke(s,t),S.dash,S.cap)}wi("drawAxes")},series:function(){if($t>0){let t=v.some(t=>t._focus)&&Ve!=Lt.alpha;t&&(d.globalAlpha=Ve=Lt.alpha),v.forEach((t,n)=>{if(n>0&&t.show&&(gn(n,!1),gn(n,!0),null==t._paths)){let o=Ve;Ve!=t.alpha&&(d.globalAlpha=Ve=t.alpha);let r=2==i?[0,e[n][0].length-1]:function(t){let e=ln(Wt-1,0,$t-1),n=ln(Zt+1,0,$t-1);for(;null==t[e]&&e>0;)e--;for(;null==t[n]&&n<$t-1;)n++;return[e,n]}(e[n]);t._paths=t.paths(s,n,r[0],r[1]),Ve!=o&&(d.globalAlpha=Ve=o)}}),v.forEach((t,e)=>{if(e>0&&t.show){let n=Ve;Ve!=t.alpha&&(d.globalAlpha=Ve=t.alpha),null!=t._paths&&yn(e,!1);{let n=null!=t._paths?t._paths.gaps:null,i=t.points.show(s,e,Wt,Zt,n),o=t.points.filter(s,e,i,n);(i||o)&&(t.points._paths=t.points.paths(s,e,Wt,Zt,o),yn(e,!0))}Ve!=n&&(d.globalAlpha=Ve=n),wi("drawSeries",e)}}),t&&(d.globalAlpha=Ve=1)}}},M=(t.drawOrder||["axes","series"]).map(t=>C[t]);function P(t){const e=3==t.distr?e=>nn(e>0?e:t.clamp(s,e,t.min,t.max,t.key)):4==t.distr?e=>on(e,t.asinh):100==t.distr?e=>t.fwd(e):t=>t;return n=>{let s=e(n),{_min:i,_max:o}=t;return(s-i)/(o-i)}}function E(e){let n=k[e];if(null==n){let s=(t.scales||Cn)[e]||Cn;if(null!=s.from){E(s.from);let t=In({},k[s.from],s,{key:e});t.valToPct=P(t),k[e]=t}else{n=k[e]=In({},e==T?ti:ei,s),n.key=e;let t=n.time,o=n.range,r=En(o);if((e!=T||2==i&&!t)&&(!r||null!=o[0]&&null!=o[1]||(o={min:null==o[0]?Be:{mode:1,hard:o[0],soft:o[0]},max:null==o[1]?Be:{mode:1,hard:o[1],soft:o[1]}},r=!1),!r&&An(o))){let t=o;o=(e,n,s)=>null==n?Pn:ze(n,s,t)}n.range=un(o||(t?Ii:e==T?3==n.distr?Vi:4==n.distr?zi:Fi:3==n.distr?Bi:4==n.distr?Oi:_i)),n.auto=un(!r&&n.auto),n.clamp=un(n.clamp||Qs),n._min=n._max=null,n.valToPct=P(n)}}}E("x"),E("y"),1==i&&v.forEach(t=>{E(t.scale)}),w.forEach(t=>{E(t.scale)});for(let Ut in t.scales)E(Ut);const j=k[T],L=j.distr;let A,D;0==j.ori?(fe(c,"u-hz"),A=o,D=r):(fe(c,"u-vt"),A=r,D=o);const N={};for(let Ut in k){let t=k[Ut];null==t.min&&null==t.max||(N[Ut]={min:t.min,max:t.max},t.min=t.max=null)}const R=t.tzDate||(t=>new Date(Ke(t/y))),F=t.fmtDate||qn,I=1==y?ms(R):ys(R),_=xs(R,vs(1==y?ps:gs,F)),B=ks(R,ws("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",F)),V=[],O=s.legend=In({},Ss,t.legend),z=s.cursor=In({},Ps,{drag:{y:2==i}},t.cursor),$=O.show,W=z.show,U=O.markers;let H,Y,q;O.idxs=V,U.width=un(U.width),U.dash=un(U.dash),U.stroke=un(U.stroke),U.fill=un(U.fill);let G,X=[],K=[],J=!1,Z={};if(O.live){const t=v[1]?v[1].values:null;J=null!=t,G=J?t(s,1,0):{_:0};for(let e in G)Z[e]=le}if($)if(H=ve("table","u-legend",c),q=ve("tbody",null,H),O.mount(s,H),J){Y=ve("thead",null,H,q);let t=ve("tr",null,Y);for(var Q in ve("th",null,t),G)ve("th",Ht,t).textContent=Q}else fe(H,"u-inline"),O.live&&fe(H,"u-live");const tt={show:!0},et={show:!1},nt=new Map;function st(t,e,n,i=!0){const o=nt.get(e)||{},r=z.bind[t](s,e,n,i);r&&(Ee(t,e,o[t]=r),nt.set(e,o))}function it(t,e,n){const s=nt.get(e)||{};for(let i in s)null!=t&&i!=t||(je(i,e,s[i]),delete s[i]);null==t&&nt.delete(e)}let ot=0,rt=0,at=0,lt=0,ct=0,ut=0,dt=ct,ht=ut,pt=at,mt=lt,ft=0,gt=0,yt=0,vt=0;s.bbox={};let xt=!1,bt=!1,wt=!1,kt=!1,St=!1,Tt=!1;function Ct(t,e,n){(n||t!=s.width||e!=s.height)&&Mt(t,e),Vn(!1),wt=!0,bt=!0,os()}function Mt(t,e){s.width=ot=at=t,s.height=rt=lt=e,ct=ut=0,function(){let t=!1,e=!1,n=!1,s=!1;w.forEach((i,o)=>{if(i.show&&i._show){let{side:o,_size:r}=i,a=o%2,l=r+(null!=i.label?i.labelSize:0);l>0&&(a?(at-=l,3==o?(ct+=l,s=!0):n=!0):(lt-=l,0==o?(ut+=l,t=!0):e=!0))}}),Bt[0]=t,Bt[1]=n,Bt[2]=e,Bt[3]=s,at-=zt[1]+zt[3],ct+=zt[3],lt-=zt[2]+zt[0],ut+=zt[0]}(),function(){let t=ct+at,e=ut+lt,n=ct,s=ut;function i(i,o){switch(i){case 1:return t+=o,t-o;case 2:return e+=o,e-o;case 3:return n-=o,n+o;case 0:return s-=o,s+o}}w.forEach((t,e)=>{if(t.show&&t._show){let e=t.side;t._pos=i(e,t._size),null!=t.label&&(t._lpos=i(e,t.labelSize))}})}();let n=s.bbox;ft=n.left=vn(ct*pe,.5),gt=n.top=vn(ut*pe,.5),yt=n.width=vn(at*pe,.5),vt=n.height=vn(lt*pe,.5)}const Pt=3;if(s.setSize=function({width:t,height:e}){Ct(t,e)},null==z.dataIdx){let t=z.hover,n=t.skip=new Set(t.skip??[]);n.add(void 0);let s=t.prox=un(t.prox),i=t.bias??(t.bias=0);z.dataIdx=(t,o,r,a)=>{if(0==o)return r;let l=r,c=s(t,o,r,a)??rn,u=c>=0&&c<rn,d=0==j.ori?at:lt,h=z.left,p=e[0],m=e[o];if(n.has(m[r])){l=null;let t,e=null,s=null;if(0==i||-1==i)for(t=r;null==e&&t-- >0;)n.has(m[t])||(e=t);if(0==i||1==i)for(t=r;null==s&&t++<m.length;)n.has(m[t])||(s=t);if(null!=e||null!=s)if(u){let t=h-(null==e?-1/0:A(p[e],j,d,0)),n=(null==s?1/0:A(p[s],j,d,0))-h;t<=n?t<=c&&(l=e):n<=c&&(l=s)}else l=null==s?e:null==e?s:r-e<=s-r?e:s}else u&&Ge(h-A(p[r],j,d,0))>c&&(l=null);return l}}const Et=t=>{z.event=t};z.idxs=V,z._lock=!1;let jt=z.points;jt.show=un(jt.show),jt.size=un(jt.size),jt.stroke=un(jt.stroke),jt.width=un(jt.width),jt.fill=un(jt.fill);const Lt=s.focus=In({},t.focus||{alpha:.3},z.focus),At=Lt.prox>=0,Dt=At&&jt.one;let Nt=[],Rt=[],Ft=[];function It(t,e){let n=jt.show(s,e);if(n instanceof HTMLElement)return fe(n,"u-cursor-pt"),fe(n,t.class),we(n,-10,-10,at,lt),m.insertBefore(n,Nt[e]),n}function _t(t,e){if(1==i||e>0){let e=1==i&&k[t.scale].time,n=t.value;t.value=e?Ln(n)?ks(R,ws(n,F)):n||B:n||qs,t.label=t.label||(e?"Time":"Value")}if(Dt||e>0){t.width=null==t.width?1:t.width,t.paths=t.paths||Ai||pn,t.fillTo=un(t.fillTo||ri),t.pxAlign=+$e(t.pxAlign,f),t.pxRound=ui(t.pxAlign),t.stroke=un(t.stroke||null),t.fill=un(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let e=wn(1*(3+2*(Qe(1,t.width)||1)),3),n=t.points=In({},{size:e,width:Qe(1,.2*e),stroke:t.stroke,space:2*e,paths:Di,_stroke:null,_fill:null},t.points);n.show=un(n.show),n.filter=un(n.filter),n.fill=un(n.fill),n.stroke=un(n.stroke),n.paths=un(n.paths),n.pxAlign=t.pxAlign}if($){let n=function(t,e){if(0==e&&(J||!O.live||2==i))return Pn;let n=[],o=ve("tr","u-series",q,q.childNodes[e]);fe(o,t.class),t.show||fe(o,Ut);let r=ve("th",null,o);if(U.show){let t=xe("u-marker",r);if(e>0){let n=U.width(s,e);n&&(t.style.border=n+"px "+U.dash(s,e)+" "+U.stroke(s,e)),t.style.background=U.fill(s,e)}}let a=xe(Ht,r);for(var l in t.label instanceof HTMLElement?a.appendChild(t.label):a.textContent=t.label,e>0&&(U.show||(a.style.color=t.width>0?U.stroke(s,e):U.fill(s,e)),st("click",r,e=>{if(z._lock)return;Et(e);let n=v.indexOf(t);if((e.ctrlKey||e.metaKey)!=O.isolate){let t=v.some((t,e)=>e>0&&e!=n&&t.show);v.forEach((e,s)=>{s>0&&Es(s,t?s==n?tt:et:tt,!0,Si.setSeries)})}else Es(n,{show:!t.show},!0,Si.setSeries)},!1),At&&st(se,r,e=>{z._lock||(Et(e),Es(v.indexOf(t),Ds,!0,Si.setSeries))},!1)),G){let t=ve("td","u-value",o);t.textContent="--",n.push(t)}return[o,n]}(t,e);X.splice(e,0,n[0]),K.splice(e,0,n[1]),O.values.push(null)}if(W){V.splice(e,0,null);let n=null;Dt?0==e&&(n=It(t,e)):e>0&&(n=It(t,e)),Nt.splice(e,0,n),Rt.splice(e,0,0),Ft.splice(e,0,0)}wi("addSeries",e)}s.addSeries=function(t,e){e=null==e?v.length:e,t=1==i?Ri(t,e,Fs,Zs):Ri(t,e,{},Js),v.splice(e,0,t),_t(v[e],e)},s.delSeries=function(t){if(v.splice(t,1),$){O.values.splice(t,1),K.splice(t,1);let e=X.splice(t,1)[0];it(null,e.firstChild),e.remove()}W&&(V.splice(t,1),Nt.splice(t,1)[0].remove(),Rt.splice(t,1),Ft.splice(t,1)),wi("delSeries",t)};const Bt=[!1,!1,!1,!1];function Vt(t,e,n,s){let[i,o,r,a]=n,l=e%2,c=0;return 0==l&&(a||o)&&(c=0==e&&!i||2==e&&!r?Ke(Rs.size/3):0),1==l&&(i||r)&&(c=1==e&&!o||3==e&&!a?Ke(Gs.size/2):0),c}const Ot=s.padding=(t.padding||[Vt,Vt,Vt,Vt]).map(t=>un($e(t,Vt))),zt=s._padding=Ot.map((t,e)=>t(s,e,Bt,0));let $t,Wt=null,Zt=null;const re=1==i?v[0].idxs:null;let ce,he,me,be,ke,Te,Me,Pe,Ae,Ve,Oe=null,We=!1;function Ue(t,n){if(e=null==t?[]:t,s.data=s._data=e,2==i){$t=0;for(let t=1;t<v.length;t++)$t+=e[t][0].length}else{0==e.length&&(s.data=s._data=e=[[]]),Oe=e[0],$t=Oe.length;let t=e;if(2==L){t=e.slice();let n=t[0]=Array($t);for(let t=0;t<$t;t++)n[t]=t}s._data=e=t}if(Vn(!0),wi("setData"),2==L&&(wt=!0),!1!==n){let t=j;t.auto(s,We)?He():Ms(T,t.min,t.max),kt=kt||z.left>=0,Tt=!0,os()}}function He(){let t,n;We=!0,1==i&&($t>0?(Wt=re[0]=0,Zt=re[1]=$t-1,t=e[0][Wt],n=e[0][Zt],2==L?(t=Wt,n=Zt):t==n&&(3==L?[t,n]=Ie(t,t,j.log,!1):4==L?[t,n]=_e(t,t,j.log,!1):j.time?n=t+Ke(86400/y):[t,n]=ze(t,n,.1,!0))):(Wt=re[0]=t=null,Zt=re[1]=n=null)),Ms(T,t,n)}function Xe(t,e,n,s,i,o){t??(t=Qt),n??(n=Mn),s??(s="butt"),i??(i=Qt),o??(o="round"),t!=ce&&(d.strokeStyle=ce=t),i!=he&&(d.fillStyle=he=i),e!=me&&(d.lineWidth=me=e),o!=ke&&(d.lineJoin=ke=o),s!=Te&&(d.lineCap=Te=s),n!=be&&d.setLineDash(be=n)}function en(t,e,n,s){e!=he&&(d.fillStyle=he=e),t!=Me&&(d.font=Me=t),n!=Pe&&(d.textAlign=Pe=n),s!=Ae&&(d.textBaseline=Ae=s)}function sn(t,e,n,i,o=0){if(i.length>0&&t.auto(s,We)&&(null==e||null==e.min)){let e=$e(Wt,0),s=$e(Zt,i.length-1),r=null==n.min?function(t,e,n,s=0,i=!1){let o=i?Fe:Re,r=i?Ne:De;[e,n]=o(t,e,n);let a=t[e],l=t[e];if(e>-1)if(1==s)a=t[e],l=t[n];else if(-1==s)a=t[n],l=t[e];else for(let c=e;c<=n;c++){let e=t[c];r(e)&&(e<a?a=e:e>l&&(l=e))}return[a??rn,l??-rn]}(i,e,s,o,3==t.distr):[n.min,n.max];t.min=Ze(t.min,n.min=r[0]),t.max=Qe(t.max,n.max=r[1])}}s.setData=Ue;const dn={min:null,max:null};function gn(t,e){let n=e?v[t].points:v[t];n._stroke=n.stroke(s,t),n._fill=n.fill(s,t)}function yn(t,n){let i=n?v[t].points:v[t],{stroke:o,fill:r,clip:a,flags:l,_stroke:c=i._stroke,_fill:u=i._fill,_width:h=i.width}=i._paths;h=wn(h*pe,3);let p=null,m=h%2/2;n&&null==u&&(u=h>0?"#fff":c);let f=1==i.pxAlign&&m>0;if(f&&d.translate(m,m),!n){let t=ft-h/2,e=gt-h/2,n=yt+h,s=vt+h;p=new Path2D,p.rect(t,e,n,s)}n?bn(c,h,i.dash,i.cap,u,o,r,l,a):function(t,n,i,o,r,a,l,c,u,d,h){let p=!1;0!=u&&S.forEach((m,f)=>{if(m.series[0]==t){let t,g=v[m.series[1]],y=e[m.series[1]],x=(g._paths||Cn).band;En(x)&&(x=1==m.dir?x[0]:x[1]);let b=null;g.show&&x&&function(t,e,n){for(e=$e(e,0),n=$e(n,t.length-1);e<=n;){if(null!=t[e])return!0;e++}return!1}(y,Wt,Zt)?(b=m.fill(s,f)||a,t=g._paths.clip):x=null,bn(n,i,o,r,b,l,c,u,d,h,t,x),p=!0}}),p||bn(n,i,o,r,a,l,c,u,d,h)}(t,c,h,i.dash,i.cap,u,o,r,l,p,a),f&&d.translate(-m,-m)}const xn=3;function bn(t,e,n,s,i,o,r,a,l,c,u,h){Xe(t,e,n,s,i),(l||c||h)&&(d.save(),l&&d.clip(l),c&&d.clip(c)),h?(a&xn)==xn?(d.clip(h),u&&d.clip(u),jn(i,r),Tn(t,o,e)):2&a?(jn(i,r),d.clip(h),Tn(t,o,e)):1&a&&(d.save(),d.clip(h),u&&d.clip(u),jn(i,r),d.restore(),Tn(t,o,e)):(jn(i,r),Tn(t,o,e)),(l||c||h)&&d.restore()}function Tn(t,e,n){n>0&&(e instanceof Map?e.forEach((t,e)=>{d.strokeStyle=ce=e,d.stroke(t)}):null!=e&&t&&d.stroke(e))}function jn(t,e){e instanceof Map?e.forEach((t,e)=>{d.fillStyle=he=e,d.fill(t)}):null!=e&&t&&d.fill(e)}function Nn(t,e,n,s,i,o,r,a,l,c){let u=r%2/2;1==f&&d.translate(u,u),Xe(a,r,l,c,a),d.beginPath();let h,p,m,g,y=i+(0==s||3==s?-o:o);0==n?(p=i,g=y):(h=i,m=y);for(let f=0;f<t.length;f++)null!=e[f]&&(0==n?h=m=t[f]:p=g=t[f],d.moveTo(h,p),d.lineTo(m,g));d.stroke(),1==f&&d.translate(-u,-u)}function Rn(t){let e=!0;return w.forEach((n,i)=>{if(!n.show)return;let o=k[n.scale];if(null==o.min)return void(n._show&&(e=!1,n._show=!1,Vn(!1)));n._show||(e=!1,n._show=!0,Vn(!1));let r=n.side,a=r%2,{min:l,max:c}=o,[u,d]=function(t,e,n,i){let o,r=w[t];if(i<=0)o=[0,0];else{let a=r._space=r.space(s,t,e,n,i);o=function(t,e,n,s,i){let o=Qe(an(t),an(e)),r=e-t,a=Le(i/s*r,n);do{let t=n[a],e=s*t/r;if(e>=i&&o+(t<5?kn.get(t):0)<=17)return[t,e]}while(++a<n.length);return[0,0]}(e,n,r._incrs=r.incrs(s,t,e,n,i,a),i,a)}return r._found=o}(i,l,c,0==a?at:lt);if(0==d)return;let h=2==o.distr,p=n._splits=n.splits(s,i,l,c,u,d,h),m=2==o.distr?p.map(t=>Oe[t]):p,f=2==o.distr?Oe[p[1]]-Oe[p[0]]:u,g=n._values=n.values(s,n.filter(s,m,i,d,f),i,d,f);n._rotate=2==r?n.rotate(s,g,i,d):0;let y=n._size;n._size=Je(n.size(s,g,i,t)),null!=y&&n._size!=y&&(e=!1)}),e}function _n(t){let e=!0;return Ot.forEach((n,i)=>{let o=n(s,i,Bt,t);o!=zt[i]&&(e=!1),zt[i]=o}),e}function Vn(t){v.forEach((e,n)=>{n>0&&(e._paths=null,t&&(1==i?(e.min=null,e.max=null):e.facets.forEach(t=>{t.min=null,t.max=null})))})}let On,zn,$n,Wn,Un,Hn,Yn,Gn,Xn,Kn,Jn,Zn,es=!1,ns=!1,ss=[];function is(){ns=!1;for(let t=0;t<ss.length;t++)wi(...ss[t]);ss.length=0}function os(){es||(Bn(rs),es=!0)}function rs(){if(xt&&(function(){for(let e in k){let t=k[e];null==N[e]&&(null==t.min||null!=N[T]&&t.auto(s,We))&&(N[e]=dn)}for(let e in k){let t=k[e];null==N[e]&&null!=t.from&&null!=N[t.from]&&(N[e]=dn)}null!=N[T]&&Vn(!0);let t={};for(let e in N){let n=N[e];if(null!=n){let o=t[e]=Fn(k[e],Dn);if(null!=n.min)In(o,n);else if(e!=T||2==i)if(0==$t&&null==o.from){let t=o.range(s,null,null,e);o.min=t[0],o.max=t[1]}else o.min=rn,o.max=-rn}}if($t>0){v.forEach((n,o)=>{if(1==i){let i=n.scale,r=N[i];if(null==r)return;let a=t[i];if(0==o){let t=a.range(s,a.min,a.max,i);a.min=t[0],a.max=t[1],Wt=Le(a.min,e[0]),Zt=Le(a.max,e[0]),Zt-Wt>1&&(e[0][Wt]<a.min&&Wt++,e[0][Zt]>a.max&&Zt--),n.min=Oe[Wt],n.max=Oe[Zt]}else n.show&&n.auto&&sn(a,r,n,e[o],n.sorted);n.idxs[0]=Wt,n.idxs[1]=Zt}else if(o>0&&n.show&&n.auto){let[s,i]=n.facets,r=s.scale,a=i.scale,[l,c]=e[o],u=t[r],d=t[a];null!=u&&sn(u,N[r],s,l,s.sorted),null!=d&&sn(d,N[a],i,c,i.sorted),n.min=i.min,n.max=i.max}});for(let e in t){let n=t[e],i=N[e];if(null==n.from&&(null==i||null==i.min)){let t=n.range(s,n.min==rn?null:n.min,n.max==-rn?null:n.max,e);n.min=t[0],n.max=t[1]}}}for(let e in t){let n=t[e];if(null!=n.from){let i=t[n.from];if(null==i.min)n.min=n.max=null;else{let t=n.range(s,i.min,i.max,e);n.min=t[0],n.max=t[1]}}}let n={},o=!1;for(let e in t){let s=t[e],i=k[e];if(i.min!=s.min||i.max!=s.max){i.min=s.min,i.max=s.max;let t=i.distr;i._min=3==t?nn(i.min):4==t?on(i.min,i.asinh):100==t?i.fwd(i.min):i.min,i._max=3==t?nn(i.max):4==t?on(i.max,i.asinh):100==t?i.fwd(i.max):i.max,n[e]=o=!0}}if(o){v.forEach((t,e)=>{2==i?e>0&&n.y&&(t._paths=null):n[t.scale]&&(t._paths=null)});for(let t in n)wt=!0,wi("setScale",t);W&&z.left>=0&&(kt=Tt=!0)}for(let e in N)N[e]=null}(),xt=!1),wt&&(function(){let t=!1,e=0;for(;!t;){e++;let n=Rn(e),i=_n(e);t=e==Pt||n&&i,t||(Mt(s.width,s.height),bt=!0)}}(),wt=!1),bt){if(ye(p,Kt,ct),ye(p,Gt,ut),ye(p,Yt,at),ye(p,qt,lt),ye(m,Kt,ct),ye(m,Gt,ut),ye(m,Yt,at),ye(m,qt,lt),ye(h,Yt,ot),ye(h,qt,rt),u.width=Ke(ot*pe),u.height=Ke(rt*pe),w.forEach(({_el:t,_show:e,_size:n,_pos:s,side:i})=>{if(null!=t)if(e){let e=i%2==1;ye(t,e?"left":"top",s-(3===i||0===i?n:0)),ye(t,e?"width":"height",n),ye(t,e?"top":"left",e?ut:ct),ye(t,e?"height":"width",e?lt:at),ge(t,Ut)}else fe(t,Ut)}),ce=he=me=ke=Te=Me=Pe=Ae=be=null,Ve=1,ii(!0),ct!=dt||ut!=ht||at!=pt||lt!=mt){Vn(!1);let t=at/pt,e=lt/mt;if(W&&!kt&&z.left>=0){z.left*=t,z.top*=e,$n&&we($n,Ke(z.left),0,at,lt),Wn&&we(Wn,0,Ke(z.top),at,lt);for(let n=0;n<Nt.length;n++){let s=Nt[n];null!=s&&(Rt[n]*=t,Ft[n]*=e,we(s,Je(Rt[n]),Je(Ft[n]),at,lt))}}if(bs.show&&!St&&bs.left>=0&&bs.width>0){bs.left*=t,bs.width*=t,bs.top*=e,bs.height*=e;for(let t in li)ye(Ts,t,bs[t])}dt=ct,ht=ut,pt=at,mt=lt}wi("setSize"),bt=!1}ot>0&&rt>0&&(d.clearRect(0,0,u.width,u.height),wi("drawClear"),M.forEach(t=>t()),wi("draw")),bs.show&&St&&(Cs(bs),St=!1),W&&kt&&(Ks(null,!0,!1),kt=!1),O.show&&O.live&&Tt&&(Us(),Tt=!1),l||(l=!0,s.status=1,wi("ready")),We=!1,es=!1}function as(t,n){let i=k[t];if(null==i.from){if(0==$t){let e=i.range(s,n.min,n.max,t);n.min=e[0],n.max=e[1]}if(n.min>n.max){let t=n.min;n.min=n.max,n.max=t}if($t>1&&null!=n.min&&null!=n.max&&n.max-n.min<1e-16)return;t==T&&2==i.distr&&$t>0&&(n.min=Le(n.min,e[0]),n.max=Le(n.max,e[0]),n.min==n.max&&n.max++),N[t]=n,xt=!0,os()}}s.batch=function(t,e=!1){es=!0,ns=e,t(s),rs(),e&&ss.length>0&&queueMicrotask(is)},s.redraw=(t,e)=>{wt=e||!1,!1!==t?Ms(T,j.min,j.max):os()},s.setScale=as;let ls=!1;const cs=z.drag;let us=cs.x,ds=cs.y;W&&(z.x&&(On=xe("u-cursor-x",m)),z.y&&(zn=xe("u-cursor-y",m)),0==j.ori?($n=On,Wn=zn):($n=zn,Wn=On),Jn=z.left,Zn=z.top);const bs=s.select=In({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),Ts=bs.show?xe("u-select",bs.over?m:p):null;function Cs(t,e){if(bs.show){for(let e in t)bs[e]=t[e],e in li&&ye(Ts,e,t[e]);!1!==e&&wi("setSelect")}}function Ms(t,e,n){as(t,{min:e,max:n})}function Es(t,e,n,o){null!=e.focus&&function(t){if(t!=As){let e=null==t,n=1!=Lt.alpha;v.forEach((s,o)=>{if(1==i||o>0){let i=e||0==o||o==t;s._focus=e?null:i,n&&function(t,e){v[t].alpha=e,W&&null!=Nt[t]&&(Nt[t].style.opacity=e),$&&X[t]&&(X[t].style.opacity=e)}(o,i?1:Lt.alpha)}}),As=t,n&&os()}}(t),null!=e.show&&v.forEach((n,s)=>{s>0&&(t==s||null==t)&&(n.show=e.show,function(t){if(v[t].show)$&&ge(X[t],Ut);else if($&&fe(X[t],Ut),W){let e=Dt?Nt[0]:Nt[t];null!=e&&we(e,-10,-10,at,lt)}}(s),2==i?(Ms(n.facets[0].scale,null,null),Ms(n.facets[1].scale,null,null)):Ms(n.scale,null,null),os())}),!1!==n&&wi("setSeries",t,e),o&&Mi("setSeries",s,t,e)}let js,Ls,As;s.setSelect=Cs,s.setSeries=Es,s.addBand=function(t,e){t.fill=un(t.fill||null),t.dir=$e(t.dir,-1),e=null==e?S.length:e,S.splice(e,0,t)},s.setBand=function(t,e){In(S[t],e)},s.delBand=function(t){null==t?S.length=0:S.splice(t,1)};const Ds={focus:!0};function Ns(t,e,n){let s=k[e];n&&(t=t/pe-(1==s.ori?ut:ct));let i=at;1==s.ori&&(i=lt,t=i-t),-1==s.dir&&(t=i-t);let o=s._min,r=o+(s._max-o)*(t/i),a=s.distr;return 3==a?tn(10,r):4==a?((t,e=1)=>Ye.sinh(t)*e)(r,s.asinh):100==a?s.bwd(r):r}function Os(t,e){ye(Ts,Kt,bs.left=t),ye(Ts,Yt,bs.width=e)}function zs(t,e){ye(Ts,Gt,bs.top=t),ye(Ts,qt,bs.height=e)}$&&At&&st(ie,H,t=>{z._lock||(Et(t),null!=As&&Es(null,Ds,!0,Si.setSeries))}),s.valToIdx=t=>Le(t,e[0]),s.posToIdx=function(t,n){return Le(Ns(t,T,n),e[0],Wt,Zt)},s.posToVal=Ns,s.valToPos=(t,e,n)=>0==k[e].ori?o(t,k[e],n?yt:at,n?ft:0):r(t,k[e],n?vt:lt,n?gt:0),s.setCursor=(t,e,n)=>{Jn=t.left,Zn=t.top,Ks(null,e,n)};let $s=0==j.ori?Os:zs,Ws=1==j.ori?Os:zs;function Us(t,e){if(null!=t&&(t.idxs?t.idxs.forEach((t,e)=>{V[e]=t}):void 0!==t.idx&&V.fill(t.idx),O.idx=V[0]),$&&O.live){for(let t=0;t<v.length;t++)(t>0||1==i&&!J)&&Xs(t,V[t]);!function(){if($&&O.live)for(let t=2==i?1:0;t<v.length;t++){if(0==t&&J)continue;let e=O.values[t],n=0;for(let s in e)K[t][n++].firstChild.nodeValue=e[s]}}()}Tt=!1,!1!==e&&wi("setLegend")}function Xs(t,n){let i,o=v[t],r=0==t&&2==L?Oe:e[t];J?i=o.values(s,t,n)??Z:(i=o.value(s,null==n?null:r[n],t,n),i=null==i?Z:{_:i}),O.values[t]=i}function Ks(t,n,o){let r;Xn=Jn,Kn=Zn,[Jn,Zn]=z.move(s,Jn,Zn),z.left=Jn,z.top=Zn,W&&($n&&we($n,Ke(Jn),0,at,lt),Wn&&we(Wn,0,Ke(Zn),at,lt));let a=Wt>Zt;js=rn,Ls=null;let l=0==j.ori?at:lt,c=1==j.ori?at:lt;if(Jn<0||0==$t||a){r=z.idx=null;for(let t=0;t<v.length;t++){let e=Nt[t];null!=e&&we(e,-10,-10,at,lt)}At&&Es(null,Ds,!0,null==t&&Si.setSeries),O.live&&(V.fill(r),Tt=!0)}else{let t,n,o;1==i&&(t=0==j.ori?Jn:Zn,n=Ns(t,T),r=z.idx=Le(n,e[0],Wt,Zt),o=A(e[0][r],j,l,0));let a=-10,u=-10,d=0,h=0,p=!0,m="",f="";for(let g=2==i?1:0;g<v.length;g++){let t=v[g],y=V[g],x=null==y?null:1==i?e[g][y]:e[g][1][y],b=z.dataIdx(s,g,r,n),w=null==b?null:1==i?e[g][b]:e[g][1][b];if(Tt=Tt||w!=x||b!=y,V[g]=b,g>0&&t.show){let n=null==b?-10:b==r?o:A(1==i?e[0][b]:e[g][0][b],j,l,0),y=null==w?-10:D(w,1==i?k[t.scale]:k[t.facets[1].scale],c,0);if(At&&null!=w){let e=1==j.ori?Jn:Zn,n=Ge(Lt.dist(s,g,b,y,e));if(n<js){let s=Lt.bias;if(0!=s){let i=Ns(e,t.scale),o=i>=0?1:-1;o==(w>=0?1:-1)&&(1==o?1==s?w>=i:w<=i:1==s?w<=i:w>=i)&&(js=n,Ls=g)}else js=n,Ls=g}}if(Tt||Dt){let t,e;0==j.ori?(t=n,e=y):(t=y,e=n);let i,o,r,l,c,v,x=!0,b=jt.bbox;if(null!=b){x=!1;let t=b(s,g);r=t.left,l=t.top,i=t.width,o=t.height}else r=t,l=e,i=o=jt.size(s,g);if(v=jt.fill(s,g),c=jt.stroke(s,g),Dt)g==Ls&&js<=Lt.prox&&(a=r,u=l,d=i,h=o,p=x,m=v,f=c);else{let t=Nt[g];null!=t&&(Rt[g]=r,Ft[g]=l,Ce(t,i,o,x),Se(t,v,c),we(t,Je(r),Je(l),at,lt))}}}}if(Dt){let t=Lt.prox;if(Tt||(null==As?js<=t:js>t||Ls!=As)){let t=Nt[0];null!=t&&(Rt[0]=a,Ft[0]=u,Ce(t,d,h,p),Se(t,m,f),we(t,Je(a),Je(u),at,lt))}}}if(bs.show&&ls)if(null!=t){let[e,n]=Si.scales,[s,i]=Si.match,[o,r]=t.cursor.sync.scales,a=t.cursor.drag;if(us=a._x,ds=a._y,us||ds){let a,u,d,h,p,{left:m,top:f,width:g,height:y}=t.select,v=t.scales[o].ori,x=t.posToVal,b=null!=e&&s(e,o),w=null!=n&&i(n,r);b&&us?(0==v?(a=m,u=g):(a=f,u=y),d=k[e],h=A(x(a,o),d,l,0),p=A(x(a+u,o),d,l,0),$s(Ze(h,p),Ge(p-h))):$s(0,l),w&&ds?(1==v?(a=m,u=g):(a=f,u=y),d=k[n],h=D(x(a,r),d,c,0),p=D(x(a+u,r),d,c,0),Ws(Ze(h,p),Ge(p-h))):Ws(0,c)}else ci()}else{let t=Ge(Xn-Un),e=Ge(Kn-Hn);if(1==j.ori){let n=t;t=e,e=n}us=cs.x&&t>=cs.dist,ds=cs.y&&e>=cs.dist;let n,s,i=cs.uni;null!=i?us&&ds&&(us=t>=i,ds=e>=i,us||ds||(e>t?ds=!0:us=!0)):cs.x&&cs.y&&(us||ds)&&(us=ds=!0),us&&(0==j.ori?(n=Yn,s=Jn):(n=Gn,s=Zn),$s(Ze(n,s),Ge(s-n)),ds||Ws(0,c)),ds&&(1==j.ori?(n=Yn,s=Jn):(n=Gn,s=Zn),Ws(Ze(n,s),Ge(s-n)),us||$s(0,l)),us||ds||($s(0,0),Ws(0,0))}if(cs._x=us,cs._y=ds,null==t){if(o){if(null!=Ti){let[t,e]=Si.scales;Si.values[0]=null!=t?Ns(0==j.ori?Jn:Zn,t):null,Si.values[1]=null!=e?Ns(1==j.ori?Jn:Zn,e):null}Mi(te,s,Jn,Zn,at,lt,r)}if(At){let t=o&&Si.setSeries,e=Lt.prox;null==As?js<=e&&Es(Ls,Ds,!0,t):js>e?Es(null,Ds,!0,t):Ls!=As&&Es(Ls,Ds,!0,t)}}Tt&&(O.idx=r,Us()),!1!==n&&wi("setCursor")}s.setLegend=Us;let ni=null;function ii(t=!1){t?ni=null:(ni=m.getBoundingClientRect(),wi("syncRect",ni))}function oi(t,e,n,s,i,o,r){z._lock||ls&&null!=t&&0==t.movementX&&0==t.movementY||(ai(t,e,n,s,i,o,0,!1,null!=t),null!=t?Ks(null,!0,!0):Ks(e,!0,!1))}function ai(t,e,n,i,o,r,l,c,u){if(null==ni&&ii(!1),Et(t),null!=t)n=t.clientX-ni.left,i=t.clientY-ni.top;else{if(n<0||i<0)return Jn=-10,void(Zn=-10);let[t,s]=Si.scales,l=e.cursor.sync,[c,u]=l.values,[d,h]=l.scales,[p,m]=Si.match,f=e.axes[0].side%2==1,g=0==j.ori?at:lt,y=1==j.ori?at:lt,v=f?r:o,x=f?o:r,b=f?i:n,w=f?n:i;if(n=null!=d?p(t,d)?a(c,k[t],g,0):-10:g*(b/v),i=null!=h?m(s,h)?a(u,k[s],y,0):-10:y*(w/x),1==j.ori){let t=n;n=i,i=t}}!u||null!=e&&e.cursor.event.type!=te||((n<=1||n>=at-1)&&(n=vn(n,at)),(i<=1||i>=lt-1)&&(i=vn(i,lt))),c?(Un=n,Hn=i,[Yn,Gn]=z.move(s,n,i)):(Jn=n,Zn=i)}Object.defineProperty(s,"rect",{get:()=>(null==ni&&ii(!1),ni)});const li={width:0,height:0,left:0,top:0};function ci(){Cs(li,!1)}let di,hi,pi,mi;function fi(t,e,n,i,o,r,a){ls=!0,us=ds=cs._x=cs._y=!1,ai(t,e,n,i,o,r,0,!0,!1),null!=t&&(st(ne,ue,gi,!1),Mi(ee,s,Yn,Gn,at,lt,null));let{left:l,top:c,width:u,height:d}=bs;di=l,hi=c,pi=u,mi=d}function gi(t,e,n,i,o,r,a){ls=cs._x=cs._y=!1,ai(t,e,n,i,o,r,0,!1,!0);let{left:l,top:c,width:u,height:d}=bs,h=u>0||d>0,p=di!=l||hi!=c||pi!=u||mi!=d;if(h&&p&&Cs(bs),cs.setScale&&h&&p){let t=l,e=u,n=c,s=d;if(1==j.ori&&(t=c,e=d,n=l,s=u),us&&Ms(T,Ns(t,T),Ns(t+e,T)),ds)for(let i in k){let t=k[i];i!=T&&null==t.from&&t.min!=rn&&Ms(i,Ns(n+s,i),Ns(n,i))}ci()}else z.lock&&(z._lock=!z._lock,Ks(e,!0,null!=t));null!=t&&(it(ne,ue),Mi(ne,s,Jn,Zn,at,lt,null))}function yi(t,e,n,i,o,r,a){z._lock||(Et(t),He(),ci(),null!=t&&Mi(oe,s,Jn,Zn,at,lt,null))}function vi(){w.forEach(Wi),Ct(s.width,s.height,!0)}Ee(ae,de,vi);const xi={};xi.mousedown=fi,xi.mousemove=oi,xi.mouseup=gi,xi.dblclick=yi,xi.setSeries=(t,e,n,i)=>{-1!=(n=(0,Si.match[2])(s,e,n))&&Es(n,i,!0,!1)},W&&(st(ee,m,fi),st(te,m,oi),st(se,m,t=>{Et(t),ii(!1)}),st(ie,m,function(t,e,n,s,i,o,r){if(z._lock)return;Et(t);let a=ls;if(ls){let t,e,n=!0,s=!0,i=10;0==j.ori?(t=us,e=ds):(t=ds,e=us),t&&e&&(n=Jn<=i||Jn>=at-i,s=Zn<=i||Zn>=lt-i),t&&n&&(Jn=Jn<Yn?0:at),e&&s&&(Zn=Zn<Gn?0:lt),Ks(null,!0,!0),ls=!1}Jn=-10,Zn=-10,V.fill(null),Ks(null,!0,!0),a&&(ls=a)}),st(oe,m,yi),ji.add(s),s.syncRect=ii);const bi=s.hooks=t.hooks||{};function wi(t,e,n){ns?ss.push([t,e,n]):t in bi&&bi[t].forEach(t=>{t.call(null,s,e,n)})}(t.plugins||[]).forEach(t=>{for(let e in t.hooks)bi[e]=(bi[e]||[]).concat(t.hooks[e])});const ki=(t,e,n)=>n,Si=In({key:null,setSeries:!1,filters:{pub:mn,sub:mn},scales:[T,v[1]?v[1].scale:null],match:[fn,fn,ki],values:[null,null]},z.sync);2==Si.match.length&&Si.match.push(ki),z.sync=Si;const Ti=Si.key,Ci=si(Ti);function Mi(t,e,n,s,i,o,r){Si.filters.pub(t,e,n,s,i,o,r)&&Ci.pub(t,e,n,s,i,o,r)}function Pi(){wi("init",t,e),Ue(e||t.data,!1),N[T]?as(T,N[T]):He(),St=bs.show&&(bs.width>0||bs.height>0),kt=Tt=!0,Ct(t.width,t.height)}return Ci.sub(s),s.pub=function(t,e,n,s,i,o,r){Si.filters.sub(t,e,n,s,i,o,r)&&xi[t](null,e,n,s,i,o,r)},s.destroy=function(){Ci.unsub(s),ji.delete(s),nt.clear(),je(ae,de,vi),c.remove(),null==H||H.remove(),wi("destroy")},v.forEach(_t),w.forEach(function(t,e){if(t._show=t.show,t.show){let n=t.side%2,i=k[t.scale];null==i&&(t.scale=n?v[1].scale:T,i=k[t.scale]);let o=i.time;t.size=un(t.size),t.space=un(t.space),t.rotate=un(t.rotate),En(t.incrs)&&t.incrs.forEach(t=>{!kn.has(t)&&kn.set(t,Sn(t))}),t.incrs=un(t.incrs||(2==i.distr?Qn:o?1==y?hs:fs:ts)),t.splits=un(t.splits||(o&&1==i.distr?I:3==i.distr?Bs:4==i.distr?Vs:_s)),t.stroke=un(t.stroke),t.grid.stroke=un(t.grid.stroke),t.ticks.stroke=un(t.ticks.stroke),t.border.stroke=un(t.border.stroke);let r=t.values;t.values=En(r)&&!En(r[0])?un(r):o?En(r)?xs(R,vs(r,F)):Ln(r)?function(t,e){let n=qn(e);return(e,s,i,o,r)=>s.map(e=>n(t(e)))}(R,r):r||_:r||Is,t.filter=un(t.filter||(i.distr>=3&&10==i.log?Hs:3==i.distr&&2==i.log?Ys:hn)),t.font=$i(t.font),t.labelFont=$i(t.labelFont),t._size=t.size(s,null,e,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(Bt[e]=!0,t._el=xe("u-axis",h))}}),n?n instanceof HTMLElement?(n.appendChild(c),Pi()):n(s,Pi):Pi(),s}Ui.assign=In,Ui.fmtNum=He,Ui.rangeNum=ze,Ui.rangeLog=Ie,Ui.rangeAsinh=_e,Ui.orient=ii,Ui.pxRatio=pe,Ui.join=function(t,e){if(function(t){let e=t[0][0],n=e.length;for(let s=1;s<t.length;s++){let i=t[s][0];if(i.length!=n)return!1;if(i!=e)for(let t=0;t<n;t++)if(i[t]!=e[t])return!1}return!0}(t)){let e=t[0].slice();for(let n=1;n<t.length;n++)e.push(...t[n].slice(1));return function(t,e=100){const n=t.length;if(n<=1)return!0;let s=0,i=n-1;for(;s<=i&&null==t[s];)s++;for(;i>=s&&null==t[i];)i--;if(i<=s)return!0;const o=Qe(1,Xe((i-s+1)/e));for(let r=t[s],a=s+o;a<=i;a+=o){const e=t[a];if(null!=e){if(e<=r)return!1;r=e}}return!0}(e[0])||(e=function(t){let e=t[0],n=e.length,s=Array(n);for(let o=0;o<s.length;o++)s[o]=o;s.sort((t,n)=>e[t]-e[n]);let i=[];for(let o=0;o<t.length;o++){let e=t[o],r=Array(n);for(let t=0;t<n;t++)r[t]=e[s[t]];i.push(r)}return i}(e)),e}let n=new Set;for(let r=0;r<t.length;r++){let e=t[r][0],s=e.length;for(let t=0;t<s;t++)n.add(e[t])}let s=[Array.from(n).sort((t,e)=>t-e)],i=s[0].length,o=new Map;for(let r=0;r<i;r++)o.set(s[0][r],r);for(let r=0;r<t.length;r++){let n=t[r],a=n[0];for(let t=1;t<n.length;t++){let l=n[t],c=Array(i).fill(void 0),u=e?e[r][t]:1,d=[];for(let t=0;t<l.length;t++){let e=l[t],n=o.get(a[t]);null===e?0!=u&&(c[n]=e,2==u&&d.push(n)):c[n]=e}_n(c,d,i),s.push(c)}}return s},Ui.fmtDate=qn,Ui.tzDate=function(t,e){let n;return"UTC"==e||"Etc/UTC"==e?n=new Date(+t+6e4*t.getTimezoneOffset()):e==Gn?n=t:(n=new Date(t.toLocaleString("en-US",{timeZone:e})),n.setMilliseconds(t.getMilliseconds())),n},Ui.sync=si;{Ui.addGap=function(t,e,n){let s=t[t.length-1];s&&s[0]==e?s[1]=n:t.push([e,n])},Ui.clipGaps=li;let t=Ui.paths={points:ki};t.linear=Mi,t.stepped=function(t){const e=$e(t.align,1),n=$e(t.ascDesc,!1),s=$e(t.alignGaps,0),i=$e(t.extend,!1);return(t,o,r,a)=>ii(t,o,(l,c,u,d,h,p,m,f,g,y,v)=>{[r,a]=Re(u,r,a);let x=l.pxRound,{left:b,width:w}=t.bbox,k=t=>x(p(t,d,y,f)),S=t=>x(m(t,h,v,g)),T=0==d.ori?mi:fi;const C={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},M=C.stroke,P=d.dir*(0==d.ori?1:-1);let E=S(u[1==P?r:a]),j=k(c[1==P?r:a]),L=j,A=j;i&&-1==e&&(A=b,T(M,A,E)),T(M,j,E);for(let t=1==P?r:a;t>=r&&t<=a;t+=P){let n=u[t];if(null==n)continue;let s=k(c[t]),i=S(n);1==e?T(M,s,E):T(M,L,i),T(M,s,i),E=i,L=s}let D=L;i&&1==e&&(D=b+w,T(M,D,E));let[N,R]=oi(t,o);if(null!=l.fill||0!=N){let e=C.fill=new Path2D(M),n=S(l.fillTo(t,o,l.min,l.max,N));T(e,D,n),T(e,A,n)}if(!l.spanGaps){let i=[];i.push(...ci(c,u,r,a,P,k,s));let h=l.width*pe/2,p=n||1==e?h:-h,m=n||-1==e?-h:h;i.forEach(t=>{t[0]+=p,t[1]+=m}),C.gaps=i=l.gaps(t,o,r,a,i),C.clip=li(i,d.ori,f,g,y,v)}return 0!=R&&(C.band=2==R?[ai(t,o,r,a,M,-1),ai(t,o,r,a,M,1)]:ai(t,o,r,a,M,R)),C})},t.bars=function(t){const e=$e((t=t||Cn).size,[.6,rn,1]),n=t.align||0,s=t.gap||0;let i=t.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=un(i),r=1-e[0],a=$e(e[1],rn),l=$e(e[2],1),c=$e(t.disp,Cn),u=$e(t.each,t=>{}),{fill:d,stroke:h}=c;return(t,e,i,p)=>ii(t,e,(m,f,g,y,v,x,b,w,k,S,T)=>{let C,M,P=m.pxRound,E=n,j=s*pe,L=a*pe,A=l*pe;0==y.ori?[C,M]=o(t,e):[M,C]=o(t,e);const D=y.dir*(0==y.ori?1:-1);let N,R,F,I=0==y.ori?gi:yi,_=0==y.ori?u:(t,e,n,s,i,o,r)=>{u(t,e,n,i,s,r,o)},B=$e(t.bands,Mn).find(t=>t.series[0]==e),V=null!=B?B.dir:0,O=m.fillTo(t,e,m.min,m.max,V),z=P(b(O,v,T,k)),$=S,W=P(m.width*pe),U=!1,H=null,Y=null,q=null,G=null;null==d||0!=W&&null==h||(U=!0,H=d.values(t,e,i,p),Y=new Map,new Set(H).forEach(t=>{null!=t&&Y.set(t,new Path2D)}),W>0&&(q=h.values(t,e,i,p),G=new Map,new Set(q).forEach(t=>{null!=t&&G.set(t,new Path2D)})));let{x0:X,size:K}=c;if(null!=X&&null!=K){E=1,f=X.values(t,e,i,p),2==X.unit&&(f=f.map(e=>t.posToVal(w+e*S,y.key,!0)));let n=K.values(t,e,i,p);R=2==K.unit?n[0]*S:x(n[0],y,S,w)-x(0,y,S,w),$=Pi(f,g,x,y,S,w,$),F=$-R+j}else $=Pi(f,g,x,y,S,w,$),F=$*r+j,R=$-F;F<1&&(F=0),W>=R/2&&(W=0),F<5&&(P=dn);let J=F>0;R=P(ln($-F-(J?W:0),A,L)),N=(0==E?R/2:E==D?0:R)-E*D*((0==E?j/2:0)+(J?W/2:0));const Z={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Q=U?null:new Path2D;let tt=null;if(null!=B)tt=t.data[B.series[1]];else{let{y0:n,y1:s}=c;null!=n&&null!=s&&(g=s.values(t,e,i,p),tt=n.values(t,e,i,p))}let et=C*R,nt=M*R;for(let n=1==D?i:p;n>=i&&n<=p;n+=D){let s=g[n];if(null==s)continue;if(null!=tt){let t=tt[n]??0;if(s-t==0)continue;z=b(t,v,T,k)}let i=x(2!=y.distr||null!=c?f[n]:n,y,S,w),o=b($e(s,O),v,T,k),r=P(i-N),a=P(Qe(o,z)),l=P(Ze(o,z)),u=a-l;if(null!=s){let i=s<0?nt:et,o=s<0?et:nt;U?(W>0&&null!=q[n]&&I(G.get(q[n]),r,l+Xe(W/2),R,Qe(0,u-W),i,o),null!=H[n]&&I(Y.get(H[n]),r,l+Xe(W/2),R,Qe(0,u-W),i,o)):I(Q,r,l+Xe(W/2),R,Qe(0,u-W),i,o),_(t,e,n,r-W/2,l,R+W,u)}}return W>0?Z.stroke=U?G:Q:U||(Z._fill=0==m.width?m._fill:m._stroke??m._fill,Z.width=0),Z.fill=U?Y:Q,Z})},t.spline=function(t){return function(t,e){const n=$e(null==e?void 0:e.alignGaps,0);return(e,s,i,o)=>ii(e,s,(r,a,l,c,u,d,h,p,m,f,g)=>{[i,o]=Re(l,i,o);let y,v,x,b=r.pxRound,w=t=>b(d(t,c,f,p)),k=t=>b(h(t,u,g,m));0==c.ori?(y=hi,x=mi,v=bi):(y=pi,x=fi,v=wi);const S=c.dir*(0==c.ori?1:-1);let T=w(a[1==S?i:o]),C=T,M=[],P=[];for(let t=1==S?i:o;t>=i&&t<=o;t+=S)if(null!=l[t]){let e=w(a[t]);M.push(C=e),P.push(k(l[t]))}const E={stroke:t(M,P,y,x,v,b),fill:null,clip:null,band:null,gaps:null,flags:1},j=E.stroke;let[L,A]=oi(e,s);if(null!=r.fill||0!=L){let t=E.fill=new Path2D(j),n=k(r.fillTo(e,s,r.min,r.max,L));x(t,C,n),x(t,T,n)}if(!r.spanGaps){let t=[];t.push(...ci(a,l,i,o,S,w,n)),E.gaps=t=r.gaps(e,s,i,o,t),E.clip=li(t,c.ori,p,m,f,g)}return 0!=A&&(E.band=2==A?[ai(e,s,i,o,j,-1),ai(e,s,i,o,j,1)]:ai(e,s,i,o,j,A)),E})}(Ei,t)}}const Hi=new Map;function Yi(t){var e;if(!t.startsWith("var("))return t;const n=Hi.get(t);if(n)return n;const s=t.match(/var\(([^,)]+)(?:,\s*([^)]+))?\)/);if(!s)return t;const i=s[1].trim(),o=(null==(e=s[2])?void 0:e.trim())||"#888888",r=getComputedStyle(document.documentElement).getPropertyValue(i).trim()||o;return Hi.set(t,r),r}const qi=n.memo(function({timestamps:t,series:e,onHover:i,highlightedKey:o=null,cursorColor:r="rgba(255,255,255,0.5)"}){const a=n.useRef(null),l=n.useRef(null),c=n.useRef(e),u=n.useRef(o),d=n.useRef(i),h=n.useRef(t.length);n.useLayoutEffect(()=>{c.current=e,u.current=o,d.current=i});const p=n.useMemo(()=>{const e=new Array(t.length).fill(1);return[t,e]},[t]),m=n.useMemo(()=>({hooks:{draw:t=>{!function(t,e,n){if(0===e.length)return;const s=t.ctx,i=t.bbox,o=i.left,r=i.top,a=i.width,l=i.height;if(a<=0||l<=0)return;const c=t.data[0],u=c.length;if(0===u)return;const d=c[0],h=c[u-1]-d||1,p=t=>{const e=c[t];return o+(e-d)/h*a},m=t=>r+l*(1-t);for(let f=0;f<e.length;f++){const t=e[f],i=new Array(u).fill(0),o=new Array(u).fill(0);for(let n=0;n<f;n++){const t=e[n].values;for(let e=0;e<u;e++)o[e]+=t[e]??0}for(let e=0;e<u;e++)i[e]=o[e]+(t.values[e]??0);const r=n&&n!==t.key?.3:1,a=Yi(t.color);s.save(),s.globalAlpha=r,s.fillStyle=a,s.beginPath();let l=p(0);const c=m(o[0]);let d=m(i[0]);s.moveTo(l,c),s.lineTo(l,d);for(let e=1;e<u;e++){l=p(e);const t=d;d=m(i[e]),s.lineTo(l,t),s.lineTo(l,d)}for(let e=u-1;e>=0;e--){const t=p(e),n=m(o[e]);if(e===u-1)s.lineTo(t,n);else{const i=p(e+1);s.lineTo(i,n),s.lineTo(t,n)}}s.closePath(),s.fill(),s.restore()}}(t,c.current,u.current),function(t){const e=t.ctx,{left:n,top:s,width:i,height:o}=t.bbox,r=window.devicePixelRatio||1,a=function(){const t=getComputedStyle(document.documentElement);return{fontFamily:t.getPropertyValue("--font-data").trim()||'"JetBrains Mono", ui-monospace, monospace',textPrimary:t.getPropertyValue("--text-primary").trim()||"#FFFFFF"}}();e.save(),e.strokeStyle=a.textPrimary,e.globalAlpha=.15,e.lineWidth=1*r,e.setLineDash([4*r,4*r]);for(const c of[.2,.4,.6,.8]){const t=Math.round(s+o*(1-c))+.5;e.beginPath(),e.moveTo(Math.round(n),t),e.lineTo(Math.round(n+i),t),e.stroke()}e.restore(),e.save(),e.font=`bold ${10*r}px ${a.fontFamily}`,e.fillStyle=a.textPrimary,e.textBaseline="middle",e.textAlign="left";const l=8*r;for(const c of[0,20,40,60,80,100]){const t=s+o*(1-c/100),n=Math.max(s+l,Math.min(s+o-l,t));e.fillText(`${c}%`,0,n)}e.restore()}(t)}}}),[]),f=n.useMemo(()=>({width:400,height:200,padding:[8,0,0,32],cursor:{show:!0,x:!0,y:!1,drag:{x:!1,y:!1},points:{show:!1}},scales:{x:{time:!0},y:{range:[0,1]}},axes:[{show:!1},{show:!1}],series:[{},{show:!1}],hooks:{setCursor:[t=>{var e,n;const s=t.cursor.idx;if(null!=s&&s>=0){const n=t.data[0][s];null==(e=d.current)||e.call(d,s,n)}else null==(n=d.current)||n.call(d,null,null)}]},plugins:[m]}),[m]);n.useEffect(()=>{const e=a.current;if(!e||0===t.length)return;const n=h.current,s=t.length,i=Math.abs(s-n);if(!(!l.current||i>100||n>0&&i/n>.1)&&l.current)return l.current.setData(p),void(h.current=s);l.current&&l.current.destroy();const o=e.getBoundingClientRect(),r=Math.floor(o.width)||400,c=Math.floor(o.height)||200,u=new Ui({...f,width:r,height:c},p,e);return l.current=u,h.current=s,()=>{u.destroy(),l.current=null}},[f,p,t.length]),n.useEffect(()=>{const t=a.current;if(!t)return;const e=new ResizeObserver(t=>{const e=t[0];if(!e||!l.current)return;const{width:n,height:s}=e.contentRect;n>0&&s>0&&l.current.setSize({width:Math.floor(n),height:Math.floor(s)})});return e.observe(t),()=>{e.disconnect()}},[]),n.useEffect(()=>{l.current&&l.current.redraw()},[o,e]);const g=n.useCallback(()=>{null==i||i(null,null)},[i]);return 0===t.length?s.jsx("div",{className:"h-full flex items-center justify-center text-text-muted",children:"No data available"}):s.jsx("div",{ref:a,className:"w-full h-full rounded-2xl overflow-hidden",onMouseLeave:g})}),Gi=n.createContext(null);function Xi(t){const e=gt(t);e&&function(t){if("undefined"==typeof document)return;const e=function(t){var e;const n={},s=t.surfaces.glass;n["--glass-tint"]=s.tint,n["--glass-light"]=s.light,n["--glass-dark"]=s.dark,n["--glass-reflex-light"]=String(s.reflexLight),n["--glass-reflex-dark"]=String(s.reflexDark),n["--glass-blur"]=`${s.blur}px`,n["--glass-blur-elevated"]=`${s.blurElevated}px`,n["--glass-brightness"]=String(s.brightness),n["--glass-bg-opacity"]=`${s.opacity}%`,n["--glass-bg-opacity-elevated"]=`${s.opacityElevated}%`,n["--glass-stroke-only"]=s.strokeOnly?"1":"0",n["--glass-stroke-width"]=s.strokeWidth?`${s.strokeWidth}px`:"0px",n["--glass-stroke-color"]=s.strokeColor||"transparent",n["--glass-ribbon-mode"]=s.ribbonMode?"1":"0",n["--glass-ribbon-border-width"]=s.ribbonBorderWidth?`${s.ribbonBorderWidth}px`:"0px",n["--glass-ribbon-border-color"]=s.ribbonBorderColor||"transparent",n["--sidebar-tint"]=t.surfaces.sidebar.tint,n["--tooltip-bg"]=t.colors.bg.surface,n["--hover-tint"]=`rgba(${L(t.colors.accent.primary)}, 0.08)`,n["--shadow-tint"]=`rgba(${L(t.colors.accent.primary)}, 0.35)`,n["--bg-body"]=t.colors.bg.body,n["--bg-surface"]=t.colors.bg.surface,n["--bg-elevated"]=t.colors.bg.elevated,n["--bg-subtle"]=t.colors.bg.subtle,n["--border-subtle"]=t.colors.border.subtle,n["--border-strong"]=t.colors.border.strong,n["--text-primary"]=t.colors.text.primary,n["--text-secondary"]=t.colors.text.secondary,n["--text-muted"]=t.colors.text.muted,n["--text-invert"]=t.colors.text.inverse,n["--accent-primary"]=t.colors.accent.primary,n["--accent-secondary"]=t.colors.accent.secondary,n["--accent-tertiary"]=t.colors.accent.tertiary,n["--accent-success"]=t.colors.accent.success,n["--accent-danger"]=t.colors.accent.danger,n["--signal-excellent"]=t.colors.signal.excellent,n["--signal-good"]=t.colors.signal.good,n["--signal-fair"]=t.colors.signal.fair,n["--signal-poor"]=t.colors.signal.poor,n["--signal-critical"]=t.colors.signal.critical,n["--signal-unknown"]=t.colors.signal.unknown,n["--sparkline-excellent"]=t.colors.signal.excellent,n["--sparkline-good"]=t.colors.signal.good,n["--sparkline-fair"]=t.colors.signal.fair,n["--sparkline-poor"]=t.colors.signal.poor,n["--sparkline-critical"]=t.colors.signal.critical,n["--status-success"]=t.colors.status.success,n["--status-warning"]=t.colors.status.warning,n["--status-danger"]=t.colors.status.danger,n["--status-info"]=t.colors.status.info,n["--status-muted"]=t.colors.status.muted;const i=t.colors.chart;n["--pkt-advert"]=t.colors.accent.secondary,n["--pkt-flood"]=t.colors.accent.tertiary,n["--pkt-txt-msg"]=t.colors.accent.success,n["--pkt-ack"]=i.c8,n["--pkt-trace"]=i.c3,n["--pkt-req"]=i.c2,n["--pkt-response"]=i.c5,n["--pkt-grp-txt"]=t.colors.map.room,n["--pkt-grp-data"]=t.colors.accent.danger,n["--pkt-path"]=i.c3,n["--pkt-anon"]=t.colors.accent.secondary,n["--pkt-unknown"]=t.colors.status.muted,n["--route-flood"]=t.colors.accent.primary,n["--route-direct"]=t.colors.accent.secondary,n["--route-transport"]=i.c8,n["--chart-1"]=i.c1,n["--chart-2"]=i.c2,n["--chart-3"]=i.c3,n["--chart-4"]=i.c4,n["--chart-5"]=i.c5,n["--chart-6"]=i.c6,n["--chart-7"]=i.c7,n["--chart-8"]=i.c8,n["--chart-grid"]=i.grid,n["--chart-axis-tick"]=i.axis,n["--chart-cursor"]=i.cursor,n["--metric-received"]=t.colors.metric.received,n["--metric-forwarded"]=t.colors.metric.forwarded,n["--metric-transmitted"]=t.colors.metric.transmitted,n["--metric-dropped"]=t.colors.metric.dropped,n["--metric-neutral"]=t.colors.text.secondary,n["--log-debug"]=t.colors.status.muted,n["--log-info"]=t.colors.status.info,n["--log-warning"]=t.colors.status.warning,n["--log-error"]=t.colors.accent.danger,n["--log-critical"]=t.colors.accent.danger;const o=t.colors.map;n["--map-node-fill"]="#3B82F6",n["--map-node-stroke"]="rgba(255,255,255,0.9)",n["--map-hub-color"]="#8E4EC6",n["--map-hub-stroke"]="rgba(255,255,255,0.9)",n["--map-gateway-color"]="#5B5BD6",n["--map-gateway-stroke"]="rgba(255,255,255,0.85)",n["--map-local-color"]="#FFB224",n["--map-neighbor-color"]="#FFB224",n["--map-neighbor-stroke"]="rgba(0,0,0,0.4)",n["--map-mobile-color"]="#F76B15",n["--map-room-color"]="#D6409F",n["--map-ghost-color"]="#00A2C7",n["--map-edge-rest"]=o.edge,n["--map-edge-rest-bright"]=t.colors.border.strong,n["--map-edge-rest-dim"]=t.colors.bg.subtle,n["--map-edge-hover-direct"]=o.edgeHover,n["--map-edge-hover-loop"]="#8E4EC6",n["--map-edge-hover-standard"]=t.colors.text.muted,n["--map-edge-hover-neighbor"]="#FFB224",n["--link-strong"]=t.colors.accent.success,n["--link-medium"]=t.colors.accent.secondary,n["--link-weak"]=t.colors.accent.danger,n["--hop-0"]=t.colors.accent.tertiary,n["--hop-1"]=t.colors.accent.success,n["--hop-2"]=i.c3,n["--hop-3"]=t.colors.accent.secondary,n["--hop-distant"]=t.colors.text.muted,n["--hop-hub"]=o.local;const r=t.colors.icon;n["--icon-page-title"]=(null==r?void 0:r.pageTitle)??t.colors.accent.primary,n["--icon-card-title"]=(null==r?void 0:r.cardTitle)??t.colors.accent.primary,n["--icon-widget"]=(null==r?void 0:r.widget)??t.colors.text.secondary,n["--icon-action"]=(null==r?void 0:r.action)??t.colors.text.secondary,n["--icon-nav"]=(null==r?void 0:r.nav)??t.colors.text.muted,n["--icon-nav-active"]=(null==r?void 0:r.navActive)??t.colors.accent.primary,n["--toggle-on"]=t.colors.accent.success,n["--toggle-off"]=t.colors.bg.elevated;const a=t.colors.sidebar;n["--sidebar-bg"]=(null==a?void 0:a.bg)??"transparent",n["--sidebar-nav-hover-bg"]=(null==a?void 0:a.navHoverBg)??"rgba(255, 255, 255, 0.05)",n["--sidebar-nav-active-bg"]=(null==a?void 0:a.navActiveBg)??`color-mix(in srgb, ${t.colors.accent.primary} 15%, transparent)`,n["--sidebar-nav-active-text"]=(null==a?void 0:a.navActiveText)??t.colors.accent.primary;const l=t.meta.isDark;n["--data-box-bg"]=l?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.03)",n["--data-box-border"]=l?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.08)",n["--subtle-fill"]=l?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.03)",n["--subtle-fill-hover"]=l?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.05)",n["--subtle-fill-strong"]=l?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",n["--color-pill-bg"]=l?"rgba(0, 0, 0, 0.3)":"rgba(255, 255, 255, 0.3)",n["--terminal-bg"]=l?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.03)",n["--terminal-bg-input"]=l?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.05)",n["--terminal-bg-status"]=l?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.02)",n["--terminal-border"]=l?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)",n["--terminal-autocomplete-bg"]=l?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.95)",n["--terminal-autocomplete-border"]=l?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.15)",n["--terminal-autocomplete-hover"]=l?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",n["--livedot-idle"]=l?"#666677":"#999999",n["--ctrl-panel-top"]=l?"rgba(30, 30, 30, 0.95)":"rgba(240, 240, 240, 0.95)",n["--ctrl-panel-mid"]=l?"rgba(25, 25, 25, 0.95)":"rgba(235, 235, 235, 0.95)",n["--ctrl-panel-bottom"]=l?"rgba(20, 20, 20, 0.95)":"rgba(230, 230, 230, 0.95)",n["--ctrl-panel-border"]=l?"rgba(60, 60, 60, 1)":"rgba(200, 200, 200, 1)",n["--chart-grid-line"]=l?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.08)",n["--map-control-active-amber"]=l?"rgba(251, 191, 36, 0.15)":"rgba(217, 119, 6, 0.12)",n["--map-control-active-sky"]=l?"rgba(56, 189, 248, 0.15)":"rgba(14, 165, 233, 0.12)",n["--map-control-active-teal"]=l?"rgba(45, 212, 191, 0.15)":"rgba(20, 184, 166, 0.12)",n["--sidebar-action-active-green"]=l?"rgba(10, 26, 10, 1)":"rgba(220, 252, 231, 1)",n["--sidebar-action-active-teal"]=l?"rgba(10, 36, 32, 1)":"rgba(204, 251, 241, 1)",n["--sidebar-action-active-amber"]=l?"rgba(26, 20, 8, 1)":"rgba(254, 243, 199, 1)",n["--thumbnail-brightness"]=l?"1.5":"1.8",n["--font-title"]=t.typography.font.title,n["--font-display"]=t.typography.font.display,n["--font-data"]=t.typography.font.mono,n["--font-card-title"]=t.typography.font.cardTitle??t.typography.font.display,n["--font-badge"]=t.typography.font.badge??t.typography.font.display,n["--font-normal"]=String(t.typography.weight.normal),n["--font-medium"]=String(t.typography.weight.medium),n["--font-semibold"]=String(t.typography.weight.semibold),n["--font-bold"]=String(t.typography.weight.bold),n["--font-card-title-weight"]=String(t.typography.weight.cardTitle??t.typography.weight.semibold),n["--font-badge-weight"]=String(t.typography.weight.badge??t.typography.weight.medium),n["--badge-text-transform"]=(null==(e=t.typography.badge)?void 0:e.textTransform)??"none";const c=t.typography.size;c.xxl&&(n["--text-2xl"]=c.xxl),c.xl&&(n["--text-xl"]=c.xl),c.lg&&(n["--text-lg"]=c.lg),c.md&&(n["--text-md"]=c.md),c.base&&(n["--text-base"]=c.base),c.sm&&(n["--text-sm"]=c.sm),c.xs&&(n["--text-xs"]=c.xs),c.hero&&(n["--text-5xl"]=c.hero),c.cardTitle&&(n["--text-card-title"]=c.cardTitle);const u=t.typography.tracking;return u&&(n["--tracking-tight"]=u.tight,n["--tracking-normal"]=u.normal,n["--tracking-wide"]=u.wide),n["--theme-transition"]=`${t.motion.slow} ${t.motion.easing}`,function(t){if(!M())return t;const e={},n=/^#[0-9A-Fa-f]{3,6}$/;for(const[s,i]of Object.entries(t))e[s]=n.test(i)?C(i):i;return e}(n)}(t),n=document.documentElement;for(const[s,i]of Object.entries(e))n.style.setProperty(s,i);t.surfaces.glass.strokeOnly?n.classList.add("stroke-only"):n.classList.remove("stroke-only"),t.surfaces.glass.ribbonMode?n.classList.add("ribbon-mode"):n.classList.remove("ribbon-mode"),t.surfaces.glass.catalystMode?n.classList.add("catalyst-mode"):n.classList.remove("catalyst-mode")}(e),document.documentElement.dataset.colorScheme=t}function Ki({children:t}){const[e,i]=n.useState(()=>function(){if("undefined"==typeof window)return Et;try{let n=localStorage.getItem(jt),s=localStorage.getItem(Lt);const i=localStorage.getItem(At);if(!n&&!s){const t=localStorage.getItem(Dt);if(t){const e=Pt.find(e=>e.id===t);e&&(n=e.colorScheme,s=e.backgroundImage,localStorage.setItem(jt,n),localStorage.setItem(Lt,s),localStorage.removeItem(Dt))}}const o=n&&"string"==typeof(e=n)&&Ct.some(t=>t.id===e)?n:Et.colorScheme;let r=Et.backgroundImage;""===s?r="":s&&"string"==typeof(t=s)&&Mt.some(e=>e.src===t)&&(r=s);let a=Et.brightness;if(i){const t=parseInt(i,10);!isNaN(t)&&t>=0&&t<=100&&(a=t)}return{colorScheme:o,backgroundImage:r,brightness:a}}catch{return Et}var t,e}()),o=n.useRef(!1),r=n.useRef(null),[a,l]=n.useState(null);n.useEffect(()=>{r.current&&(clearTimeout(r.current),r.current=null),o.current&&(l("#808080"),r.current=setTimeout(()=>{l(null),r.current=null},1800)),o.current=!0,Xi(e.colorScheme),Hi.clear(),requestAnimationFrame(()=>{!function(){if("undefined"==typeof window)return;for(const e of It){const t=$t(`--palette-${e}-bright`),n=$t(`--palette-${e}`),s=t||n;if(!s)continue;const i=zt(s);for(const o of Ft)Wt(`--palette-${e}-${o}`,i[o])}const t=$t("--palette-bg-4");if(t){const e=zt(t);for(const t of Ft)Wt(`--palette-neutral-${t}`,e[t])}}()})},[e.colorScheme]),n.useEffect(()=>{!function(t){if("undefined"!=typeof window)try{localStorage.setItem(jt,t.colorScheme),localStorage.setItem(Lt,t.backgroundImage),localStorage.setItem(At,String(t.brightness))}catch{}}(e)},[e]),n.useEffect(()=>{Mt.forEach(t=>{(new Image).src=t.src})},[]);const c=n.useCallback(t=>{i(e=>({...e,colorScheme:t}))},[]),u=n.useCallback(t=>{const e=Mt.find(e=>e.src===t);i(n=>({...n,backgroundImage:t,brightness:(null==e?void 0:e.suggestedBrightness)??n.brightness}))},[]),d=n.useCallback(t=>{const e=Math.max(0,Math.min(100,Math.round(t)));i(t=>({...t,brightness:e}))},[]),h=n.useCallback(t=>{const e=Pt.find(e=>e.id===t);if(e){const t=!e.backgroundImage,n=t?null:Mt.find(t=>t.src===e.backgroundImage);i(s=>({...s,colorScheme:e.colorScheme,backgroundImage:e.backgroundImage,brightness:t?100:(null==n?void 0:n.suggestedBrightness)??s.brightness}))}},[]),p=n.useMemo(()=>({theme:e,setColorScheme:c,setBackgroundImage:u,setBrightness:d,setThemePreset:h}),[e,c,u,d,h]);return s.jsxs(Gi.Provider,{value:p,children:[t,a&&s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9999]",style:{backgroundColor:a,animation:"theme-crossfade 1.8s ease-out forwards"}},e.colorScheme),s.jsx("style",{children:"\n        @keyframes theme-crossfade {\n          from { opacity: 0.35; }\n          to { opacity: 0; }\n        }\n      "})]})}function Ji(){const t=n.useContext(Gi);if(!t)throw new Error("useTheme must be used within a ThemeProvider. Wrap your app with <ThemeProvider> in App.tsx.");return t}const Zi=n.forwardRef(function(t,e){const{href:n,...o}=t;return n.startsWith("http://")||n.startsWith("https://")||n.startsWith("//")?s.jsx(i,{children:s.jsx("a",{...o,href:n,ref:e})}):s.jsx(i,{children:s.jsx(y,{...o,to:n,ref:e})})}),Qi={0:"REQ",1:"RESPONSE",2:"TXT_MSG",3:"ACK",4:"ADVERT",5:"GRP_TXT",6:"GRP_DATA",7:"ANON_REQ",8:"PATH",9:"TRACE",10:"MULTIPART",15:"RAW_CUSTOM"},to={0:"T_FLOOD",1:"FLOOD",2:"DIRECT",3:"T_DIRECT"},eo={REQ:0,RESPONSE:1,TXT_MSG:2,ACK:3,ADVERT:4,GRP_TXT:5,GRP_DATA:6,ANON_REQ:7,PATH:8,TRACE:9,MULTIPART:10,RAW_CUSTOM:15};function no(t){return 1===t||0===t}function so(t){return null==t?"UNKNOWN":Qi[t]||`TYPE_${t}`}function io(t){return null==t?"UNKNOWN":to[t]||`ROUTE_${t}`}function oo(t,e){return(Math.max(t,e)+.05)/(Math.min(t,e)+.05)}function ro(t){const e=function(t){const e=t.replace("#",""),n=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,i=parseInt(e.slice(4,6),16)/255,o=t=>t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);return.2126*o(n)+.7152*o(s)+.0722*o(i)}(t);return oo(e,1)>oo(e,0)?"light":"dark"}function ao(t){return 1===t||!0===t}const lo=o("inline-flex items-center gap-1","rounded-md px-1.5 py-0.5","text-xs"),co={fontFamily:"var(--font-badge)",fontWeight:"var(--font-badge-weight)",textTransform:"var(--badge-text-transform, none)"},uo={red:"var(--sys-red)",orange:"var(--sys-orange)",amber:"var(--sys-amber)",yellow:"var(--sys-yellow)",lime:"var(--sys-green)",green:"var(--sys-green)",emerald:"var(--sys-green)",teal:"var(--sys-teal)",cyan:"var(--sys-cyan)",sky:"var(--sys-cyan)",blue:"var(--sys-blue)",indigo:"var(--sys-indigo)",violet:"var(--sys-indigo)",purple:"var(--sys-purple)",fuchsia:"var(--sys-pink)",pink:"var(--sys-pink)",rose:"var(--sys-red)",brown:"var(--sys-brown)",zinc:"var(--text-muted)"};function ho(t){if(!t.startsWith("var("))return t;if("undefined"!=typeof window){const e=t.match(/var\((--[^,)]+)/);if(e){const t=getComputedStyle(document.documentElement).getPropertyValue(e[1]).trim();if(t&&t.startsWith("#"))return t}}return"#666666"}function po({color:t="zinc",customColor:e,filled:i=!1,compact:r=!1,className:a,title:l,children:c}){const u=n.useMemo(()=>{const n=e??uo[t];if(i){if(e){const t=ro(ho(e));return{backgroundColor:e,color:"light"===t?"rgba(255,255,255,0.95)":"rgba(0,0,0,0.85)"}}return{backgroundColor:n,color:["amber","yellow","lime"].includes(t)?"rgba(0,0,0,0.85)":"rgba(255,255,255,0.95)"}}return{backgroundColor:`color-mix(in srgb, ${n} 15%, transparent)`,color:n}},[t,e,i]);return s.jsx("span",{className:o(lo,r&&"!px-1 !py-0 !text-[10px]",a),style:{...co,...u},title:l,children:c})}const mo=n.forwardRef(function({color:t="zinc",customColor:e,filled:i=!1,compact:a=!1,className:l,children:c,...u},d){const h=n.useMemo(()=>{const n=e??uo[t];if(i){if(e){const t=ro(ho(e));return{backgroundColor:e,color:"light"===t?"rgba(255,255,255,0.95)":"rgba(0,0,0,0.85)"}}return{backgroundColor:n,color:["amber","yellow","lime"].includes(t)?"rgba(0,0,0,0.85)":"rgba(255,255,255,0.95)"}}return{backgroundColor:`color-mix(in srgb, ${n} 15%, transparent)`,color:n}},[t,e,i]),p=o(lo,a&&"!px-1 !py-0 !text-[10px]","cursor-pointer transition-opacity hover:opacity-80",l);return"href"in u&&void 0!==u.href?s.jsx(Zi,{...u,ref:d,className:p,style:{...co,...h},children:c}):s.jsx(r,{...u,ref:d,className:p,style:{...co,...h},children:c})}),fo=o("relative inline-flex items-center justify-center gap-2","text-sm font-medium whitespace-nowrap","rounded-lg px-3 py-1.5","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary/50 focus-visible:ring-offset-1 focus-visible:ring-offset-bg-body","disabled:opacity-50 disabled:cursor-not-allowed","transition-all duration-150","[&>[data-slot=icon]]:w-4 [&>[data-slot=icon]]:h-4 [&>[data-slot=icon]]:shrink-0"),go={primary:o("bg-accent-primary text-white","hover:bg-accent-primary/90","active:bg-accent-primary/80","border border-accent-primary/20"),success:o("bg-accent-success text-white","hover:bg-accent-success/90","active:bg-accent-success/80","border border-accent-success/20"),danger:o("bg-accent-danger text-white","hover:bg-accent-danger/90","active:bg-accent-danger/80","border border-accent-danger/20"),warning:o("bg-accent-secondary text-bg-body","hover:bg-accent-secondary/90","active:bg-accent-secondary/80","border border-accent-secondary/20"),muted:o("bg-bg-elevated text-text-primary","hover:bg-bg-subtle","active:bg-bg-elevated","border border-border-subtle")},yo={primary:o("bg-transparent text-accent-primary","border border-accent-primary/30","hover:bg-accent-primary/10 hover:border-accent-primary/50","active:bg-accent-primary/20"),success:o("bg-transparent text-accent-success","border border-accent-success/30","hover:bg-accent-success/10 hover:border-accent-success/50","active:bg-accent-success/20"),danger:o("bg-transparent text-accent-danger","border border-accent-danger/30","hover:bg-accent-danger/10 hover:border-accent-danger/50","active:bg-accent-danger/20"),warning:o("bg-transparent text-accent-secondary","border border-accent-secondary/30","hover:bg-accent-secondary/10 hover:border-accent-secondary/50","active:bg-accent-secondary/20"),muted:o("bg-transparent text-text-muted","border border-border-subtle","hover:bg-bg-subtle hover:text-text-primary hover:border-border-strong","active:bg-bg-elevated")},vo={primary:o("bg-transparent text-accent-primary border-transparent","hover:bg-accent-primary/10","active:bg-accent-primary/20"),success:o("bg-transparent text-accent-success border-transparent","hover:bg-accent-success/10","active:bg-accent-success/20"),danger:o("bg-transparent text-accent-danger border-transparent","hover:bg-accent-danger/10","active:bg-accent-danger/20"),warning:o("bg-transparent text-accent-secondary border-transparent","hover:bg-accent-secondary/10","active:bg-accent-secondary/20"),muted:o("bg-transparent text-text-muted border-transparent","hover:bg-bg-subtle hover:text-text-primary","active:bg-bg-elevated")},xo=n.forwardRef(function({color:t="muted",outline:e=!1,plain:n=!1,className:i,children:a,...l},c){const u=o(fo,n?vo[t]:e?yo[t]:go[t],i);return"href"in l&&void 0!==l.href?s.jsx(Zi,{...l,ref:c,className:u,children:a}):s.jsx(r,{...l,ref:c,className:u,children:a})}),bo=t=>{const e=(t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()))(t);return e.charAt(0).toUpperCase()+e.slice(1)},wo=(...t)=>t.filter((t,e,n)=>Boolean(t)&&""!==t.trim()&&n.indexOf(t)===e).join(" ").trim(),ko=t=>{for(const e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0};var So={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const To=n.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:r,iconNode:a,...l},c)=>n.createElement("svg",{ref:c,...So,width:e,height:e,stroke:t,strokeWidth:i?24*Number(s)/Number(e):s,className:wo("lucide",o),...!r&&!ko(l)&&{"aria-hidden":"true"},...l},[...a.map(([t,e])=>n.createElement(t,e)),...Array.isArray(r)?r:[r]])),Co=(t,e)=>{const s=n.forwardRef(({className:s,...i},o)=>{return n.createElement(To,{ref:o,iconNode:e,className:wo(`lucide-${r=bo(t),r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,s),...i});var r});return s.displayName=bo(t),s},Mo=Co("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Po=Co("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Eo=Co("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jo=Co("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Lo=Co("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Ao=Co("ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]),Do=Co("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),No=Co("layout-list",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),Ro=Co("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Fo=Co("map-pin-plus",[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]]),Io=Co("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),_o=Co("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),Bo=Co("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Vo=Co("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Oo=Co("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),zo=Co("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$o=Co("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]),Wo=Co("square-terminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]),Uo=Co("waypoints",[["circle",{cx:"12",cy:"4.5",r:"2.5",key:"r5ysbb"}],["path",{d:"m10.2 6.3-3.9 3.9",key:"1nzqf6"}],["circle",{cx:"4.5",cy:"12",r:"2.5",key:"jydg6v"}],["path",{d:"M7 12h10",key:"b7w52i"}],["circle",{cx:"19.5",cy:"12",r:"2.5",key:"1piiel"}],["path",{d:"m13.8 17.7 3.9-3.9",key:"1wyg1y"}],["circle",{cx:"12",cy:"19.5",r:"2.5",key:"13o1pw"}]]),Ho=Co("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yo=n.createContext({});function qo(t){const e=n.useRef(null);return null===e.current&&(e.current=t()),e.current}const Go="undefined"!=typeof window,Xo=Go?n.useLayoutEffect:n.useEffect,Ko=n.createContext(null);function Jo(t,e){-1===t.indexOf(e)&&t.push(e)}function Zo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qo=(t,e,n)=>n>e?e:n<t?t:n,tr={},er=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function nr(t){return"object"==typeof t&&null!==t}const sr=t=>/^0[^.\s]+$/u.test(t);function ir(t){let e;return()=>(void 0===e&&(e=t()),e)}const or=t=>t,rr=(t,e)=>n=>e(t(n)),ar=(...t)=>t.reduce(rr),lr=(t,e,n)=>{const s=e-t;return 0===s?1:(n-t)/s};class cr{constructor(){this.subscriptions=[]}add(t){return Jo(this.subscriptions,t),()=>Zo(this.subscriptions,t)}notify(t,e,n){const s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](t,e,n);else for(let i=0;i<s;i++){const s=this.subscriptions[i];s&&s(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ur=t=>1e3*t,dr=t=>t/1e3;function hr(t,e){return e?t*(1e3/e):0}const pr=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function mr(t,e,n,s){if(t===e&&n===s)return or;return i=>0===i||1===i?i:pr(function(t,e,n,s,i){let o,r,a=0;do{r=e+(n-e)/2,o=pr(r,s,i)-t,o>0?n=r:e=r}while(Math.abs(o)>1e-7&&++a<12);return r}(i,0,1,t,n),e,s)}const fr=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gr=t=>e=>1-t(1-e),yr=mr(.33,1.53,.69,.99),vr=gr(yr),xr=fr(vr),br=t=>(t*=2)<1?.5*vr(t):.5*(2-Math.pow(2,-10*(t-1))),wr=t=>1-Math.sin(Math.acos(t)),kr=gr(wr),Sr=fr(wr),Tr=mr(.42,0,1,1),Cr=mr(0,0,.58,1),Mr=mr(.42,0,.58,1),Pr=t=>Array.isArray(t)&&"number"!=typeof t[0],Er=t=>Array.isArray(t)&&"number"==typeof t[0],jr={linear:or,easeIn:Tr,easeInOut:Mr,easeOut:Cr,circIn:wr,circInOut:Sr,circOut:kr,backIn:vr,backInOut:xr,backOut:yr,anticipate:br},Lr=t=>{if(Er(t)){t.length;const[e,n,s,i]=t;return mr(e,n,s,i)}return"string"==typeof t?jr[t]:t},Ar=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Dr(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=Ar.reduce((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let r={delta:0,timestamp:0,isProcessing:!1};function a(e){o.has(e)&&(l.schedule(e),t()),e(r)}const l={schedule:(t,i=!1,r=!1)=>{const a=r&&s?e:n;return i&&o.add(t),a.has(t)||a.add(t),t},cancel:t=>{n.delete(t),o.delete(t)},process:t=>{r=t,s?i=!0:(s=!0,[e,n]=[n,e],e.forEach(a),e.clear(),s=!1,i&&(i=!1,l.process(t)))}};return l}(o),t),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:m}=r,f=()=>{const o=tr.useManualTiming?i.timestamp:performance.now();n=!1,tr.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(o-i.timestamp,40),1)),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(f))};return{schedule:Ar.reduce((e,o)=>{const a=r[o];return e[o]=(e,o=!1,r=!1)=>(n||(n=!0,s=!0,i.isProcessing||t(f)),a.schedule(e,o,r)),e},{}),cancel:t=>{for(let e=0;e<Ar.length;e++)r[Ar[e]].cancel(t)},state:i,steps:r}}const{schedule:Nr,cancel:Rr,state:Fr,steps:Ir}=Dr("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:or,!0);let _r;function Br(){_r=void 0}const Vr={now:()=>(void 0===_r&&Vr.set(Fr.isProcessing||tr.useManualTiming?Fr.timestamp:performance.now()),_r),set:t=>{_r=t,queueMicrotask(Br)}},Or=t=>e=>"string"==typeof e&&e.startsWith(t),zr=Or("--"),$r=Or("var(--"),Wr=t=>!!$r(t)&&Ur.test(t.split("/*")[0].trim()),Ur=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Hr(t){return"string"==typeof t&&t.split("/*")[0].includes("var(--")}const Yr={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},qr={...Yr,transform:t=>Qo(0,1,t)},Gr={...Yr,default:1},Xr=t=>Math.round(1e5*t)/1e5,Kr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Jr=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zr=(t,e)=>n=>Boolean("string"==typeof n&&Jr.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),Qr=(t,e,n)=>s=>{if("string"!=typeof s)return s;const[i,o,r,a]=s.match(Kr);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(r),alpha:void 0!==a?parseFloat(a):1}},ta={...Yr,transform:t=>Math.round((t=>Qo(0,255,t))(t))},ea={test:Zr("rgb","red"),parse:Qr("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ta.transform(t)+", "+ta.transform(e)+", "+ta.transform(n)+", "+Xr(qr.transform(s))+")"},na={test:Zr("#"),parse:function(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}},transform:ea.transform},sa=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),ia=sa("deg"),oa=sa("%"),ra=sa("px"),aa=sa("vh"),la=sa("vw"),ca=(()=>({...oa,parse:t=>oa.parse(t)/100,transform:t=>oa.transform(100*t)}))(),ua={test:Zr("hsl","hue"),parse:Qr("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+oa.transform(Xr(e))+", "+oa.transform(Xr(n))+", "+Xr(qr.transform(s))+")"},da={test:t=>ea.test(t)||na.test(t)||ua.test(t),parse:t=>ea.test(t)?ea.parse(t):ua.test(t)?ua.parse(t):na.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?ea.transform(t):ua.transform(t),getAnimatableNone:t=>{const e=da.parse(t);return e.alpha=0,da.transform(e)}},ha=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,pa="number",ma="color",fa=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ga(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const r=e.replace(fa,t=>(da.test(t)?(s.color.push(o),i.push(ma),n.push(da.parse(t))):t.startsWith("var(")?(s.var.push(o),i.push("var"),n.push(t)):(s.number.push(o),i.push(pa),n.push(parseFloat(t))),++o,"${}")).split("${}");return{values:n,split:r,indexes:s,types:i}}function ya(t){return ga(t).values}function va(t){const{split:e,types:n}=ga(t),s=e.length;return t=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],void 0!==t[o]){const e=n[o];i+=e===pa?Xr(t[o]):e===ma?da.transform(t[o]):t[o]}return i}}const xa=t=>"number"==typeof t?0:da.test(t)?da.getAnimatableNone(t):t,ba={test:function(t){var e,n;return isNaN(t)&&"string"==typeof t&&((null==(e=t.match(Kr))?void 0:e.length)||0)+((null==(n=t.match(ha))?void 0:n.length)||0)>0},parse:ya,createTransformer:va,getAnimatableNone:function(t){const e=ya(t);return va(t)(e.map(xa))}};function wa(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ka(t,e){return n=>n>0?e:t}const Sa=(t,e,n)=>t+(e-t)*n,Ta=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},Ca=[na,ea,ua];function Ma(t){const e=(n=t,Ca.find(t=>t.test(n)));var n;if(!Boolean(e))return!1;let s=e.parse(t);return e===ua&&(s=function({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,n/=100;let i=0,o=0,r=0;if(e/=100){const s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;i=wa(a,s,t+1/3),o=wa(a,s,t),r=wa(a,s,t-1/3)}else i=o=r=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*r),alpha:s}}(s)),s}const Pa=(t,e)=>{const n=Ma(t),s=Ma(e);if(!n||!s)return ka(t,e);const i={...n};return t=>(i.red=Ta(n.red,s.red,t),i.green=Ta(n.green,s.green,t),i.blue=Ta(n.blue,s.blue,t),i.alpha=Sa(n.alpha,s.alpha,t),ea.transform(i))},Ea=new Set(["none","hidden"]);function ja(t,e){return n=>Sa(t,e,n)}function La(t){return"number"==typeof t?ja:"string"==typeof t?Wr(t)?ka:da.test(t)?Pa:Na:Array.isArray(t)?Aa:"object"==typeof t?da.test(t)?Pa:Da:ka}function Aa(t,e){const n=[...t],s=n.length,i=t.map((t,n)=>La(t)(t,e[n]));return t=>{for(let e=0;e<s;e++)n[e]=i[e](t);return n}}function Da(t,e){const n={...t,...e},s={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(s[i]=La(t[i])(t[i],e[i]));return t=>{for(const e in s)n[e]=s[e](t);return n}}const Na=(t,e)=>{const n=ba.createTransformer(e),s=ga(t),i=ga(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Ea.has(t)&&!i.values.length||Ea.has(e)&&!s.values.length?function(t,e){return Ea.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):ar(Aa(function(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],r=t.indexes[o][s[o]],a=t.values[r]??0;n[i]=a,s[o]++}return n}(s,i),i.values),n):ka(t,e)};function Ra(t,e,n){return"number"==typeof t&&"number"==typeof e&&"number"==typeof n?Sa(t,e,n):La(t)(t,e)}const Fa=t=>{const e=({timestamp:e})=>t(e);return{start:(t=!0)=>Nr.update(e,t),stop:()=>Rr(e),now:()=>Fr.isProcessing?Fr.timestamp:Vr.now()}},Ia=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)s+=Math.round(1e4*t(o/(i-1)))/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},_a=2e4;function Ba(t){let e=0,n=t.next(e);for(;!n.done&&e<_a;)e+=50,n=t.next(e);return e>=_a?1/0:e}function Va(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(Ba(s),_a);return{type:"keyframes",ease:t=>s.next(i*t).value/e,duration:dr(i)}}function Oa(t,e,n){const s=Math.max(e-5,0);return hr(n-t(s),e-s)}const za=.01,$a=2,Wa=.005,Ua=.5;const Ha=12;function Ya(t,e){return t*Math.sqrt(1-e*e)}const qa=["duration","bounce"],Ga=["stiffness","damping","mass"];function Xa(t,e){return e.some(e=>void 0!==t[e])}function Ka(t=.3,e=.3){const n="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Xa(t,Ga)&&Xa(t,qa))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(1.2*n),i=s*s,o=2*Qo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:1,stiffness:i,damping:o}}else{const n=function({duration:t=800,bounce:e=.3,velocity:n=0,mass:s=1}){let i,o,r=1-e;r=Qo(.05,1,r),t=Qo(.01,10,dr(t)),r<1?(i=e=>{const s=e*r,i=s*t;return.001-(s-n)/Ya(e,r)*Math.exp(-i)},o=e=>{const s=e*r*t,o=s*n+n,a=Math.pow(r,2)*Math.pow(e,2)*t,l=Math.exp(-s),c=Ya(Math.pow(e,2),r);return(.001-i(e)>0?-1:1)*((o-a)*l)/c}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,o=e=>Math.exp(-e*t)*(t*t*(n-e)));const a=function(t,e,n){let s=n;for(let i=1;i<Ha;i++)s-=t(s)/e(s);return s}(i,o,5/t);if(t=ur(t),isNaN(a))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(a,2)*s;return{stiffness:e,damping:2*r*Math.sqrt(s*e),duration:t}}}(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...n,velocity:-dr(n.velocity||0)}),m=h||0,f=c/(2*Math.sqrt(l*u)),g=r-o,y=dr(Math.sqrt(l/u)),v=Math.abs(g)<5;let x;if(s||(s=v?za:$a),i||(i=v?Wa:Ua),f<1){const t=Ya(y,f);x=e=>{const n=Math.exp(-f*y*e);return r-n*((m+f*y*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===f)x=t=>r-Math.exp(-y*t)*(g+(m+y*g)*t);else{const t=y*Math.sqrt(f*f-1);x=e=>{const n=Math.exp(-f*y*e),s=Math.min(t*e,300);return r-n*((m+f*y*g)*Math.sinh(s)+t*g*Math.cosh(s))/t}}const b={calculatedDuration:p&&d||null,next:t=>{const e=x(t);if(p)a.done=t>=d;else{let n=0===t?m:0;f<1&&(n=0===t?ur(m):Oa(x,t,e));const o=Math.abs(n)<=s,l=Math.abs(r-e)<=i;a.done=o&&l}return a.value=a.done?r:e,a},toString:()=>{const t=Math.min(Ba(b),_a),e=Ia(e=>b.next(t*e).value,t,30);return t+"ms "+e},toTransition:()=>{}};return b}function Ja({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=t=>void 0===a?l:void 0===l||Math.abs(a-t)<Math.abs(l-t)?a:l;let m=n*e;const f=d+m,g=void 0===r?f:r(f);g!==f&&(m=g-d);const y=t=>-m*Math.exp(-t/s),v=t=>g+y(t),x=t=>{const e=y(t),n=v(t);h.done=Math.abs(e)<=c,h.value=h.done?g:n};let b,w;const k=t=>{var e;e=h.value,(void 0!==a&&e<a||void 0!==l&&e>l)&&(b=t,w=Ka({keyframes:[h.value,p(h.value)],velocity:Oa(v,t,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:t=>{let e=!1;return w||void 0!==b||(e=!0,x(t),k(t)),void 0!==b&&t>=b?w.next(t-b):(!e&&x(t),h)}}}function Za(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=lr(0,e,s);t.push(Sa(n,1,i))}}function Qa(t){const e=[0];return Za(e,t.length-1),e}function tl({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=Pr(s)?s.map(Lr):Lr(s),o={done:!1,value:e[0]},r=function(t,e){return t.map(t=>t*e)}(n&&n.length===e.length?n:Qa(e),t),a=function(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const o=t.length;if(e.length,1===o)return()=>e[0];if(2===o&&e[0]===e[1])return()=>e[1];const r=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const s=[],i=n||tr.mix||Ra,o=t.length-1;for(let r=0;r<o;r++){let n=i(t[r],t[r+1]);if(e){const t=Array.isArray(e)?e[r]||or:e;n=ar(t,n)}s.push(n)}return s}(e,s,i),l=a.length,c=n=>{if(r&&n<t[0])return e[0];let s=0;if(l>1)for(;s<t.length-2&&!(n<t[s+1]);s++);const i=lr(t[s],t[s+1],n);return a[s](i)};return n?e=>c(Qo(t[0],t[o-1],e)):c}(r,e,{ease:Array.isArray(i)?i:(l=e,c=i,l.map(()=>c||Mr).splice(0,l.length-1))});var l,c;return{calculatedDuration:t,next:e=>(o.value=a(e),o.done=e>=t,o)}}Ka.applyToOptions=t=>{const e=Va(t,100,Ka);return t.ease=e.ease,t.duration=ur(e.duration),t.type="keyframes",t};const el=t=>null!==t;function nl(t,{repeat:e,repeatType:n="loop"},s,i=1){const o=t.filter(el),r=i<0||e&&"loop"!==n&&e%2==1?0:o.length-1;return r&&void 0!==s?s:o[r]}const sl={decay:Ja,inertia:Ja,tween:tl,keyframes:tl,spring:Ka};function il(t){"string"==typeof t.type&&(t.type=sl[t.type])}class ol{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const rl=t=>t/100;class al extends ol{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var t,e;const{motionValue:n}=this.options;n&&n.updatedAt!==Vr.now()&&this.tick(Vr.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(e=(t=this.options).onStop)||e.call(t))},this.options=t,this.initAnimation(),this.play(),!1===t.autoplay&&this.pause()}initAnimation(){const{options:t}=this;il(t);const{type:e=tl,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:r}=t;const a=e||tl;a!==tl&&"number"!=typeof r[0]&&(this.mixKeyframes=ar(rl,Ra(r[0],r[1])),r=[0,100]);const l=a({...t,keyframes:r});"mirror"===i&&(this.mirroredGenerator=a({...t,keyframes:[...r].reverse(),velocity:-o})),null===l.calculatedDuration&&(l.calculatedDuration=Ba(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=l}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:r,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=s);let v=this.currentTime,x=n;if(u){const t=Math.min(this.currentTime,s)/r;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,u+1),Boolean(e%2)&&("reverse"===d?(n=1-n,h&&(n-=h/r)):"mirror"===d&&(x=o)),v=Qo(0,1,n)*r}const b=y?{done:!1,value:c[0]}:x.next(v);i&&(b.value=i(b.value));let{done:w}=b;y||null===a||(w=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==Ja&&(b.value=nl(c,this.options,f,this.speed)),m&&m(b.value),k&&this.finish(),b}then(t,e){return this.finished.then(t,e)}get duration(){return dr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(this.currentTime)}set time(t){var e;t=ur(t),this.currentTime=t,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),null==(e=this.driver)||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vr.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=dr(this.currentTime))}play(){var t,e;if(this.isStopped)return;const{driver:n=Fa,startTime:s}=this.options;this.driver||(this.driver=n(t=>this.tick(t))),null==(e=(t=this.options).onPlay)||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vr.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",null==(e=(t=this.options).onComplete)||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(e=(t=this.options).onCancel)||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(e=this.driver)||e.stop(),t.observe(this)}}const ll=t=>180*t/Math.PI,cl=t=>{const e=ll(Math.atan2(t[1],t[0]));return dl(e)},ul={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cl,rotateZ:cl,skewX:t=>ll(Math.atan(t[1])),skewY:t=>ll(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dl=t=>((t%=360)<0&&(t+=360),t),hl=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pl=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ml={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hl,scaleY:pl,scale:t=>(hl(t)+pl(t))/2,rotateX:t=>dl(ll(Math.atan2(t[6],t[5]))),rotateY:t=>dl(ll(Math.atan2(-t[2],t[0]))),rotateZ:cl,rotate:cl,skewX:t=>ll(Math.atan(t[4])),skewY:t=>ll(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fl(t){return t.includes("scale")?1:0}function gl(t,e){if(!t||"none"===t)return fl(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=ml,i=n;else{const e=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ul,i=e}if(!i)return fl(e);const o=s[e],r=i[1].split(",").map(yl);return"function"==typeof o?o(r):r[o]}function yl(t){return parseFloat(t.trim())}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xl=(()=>new Set(vl))(),bl=t=>t===Yr||t===ra,wl=new Set(["x","y","z"]),kl=vl.filter(t=>!wl.has(t)),Sl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gl(e,"x"),y:(t,{transform:e})=>gl(e,"y")};Sl.translateX=Sl.x,Sl.translateY=Sl.y;const Tl=new Set;let Cl=!1,Ml=!1,Pl=!1;function El(){if(Ml){const t=Array.from(Tl).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),n=new Map;e.forEach(t=>{const e=function(t){const e=[];return kl.forEach(n=>{const s=t.getValue(n);void 0!==s&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}(t);e.length&&(n.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();const e=n.get(t);e&&e.forEach(([e,n])=>{var s;null==(s=t.getValue(e))||s.set(n)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}Ml=!1,Cl=!1,Tl.forEach(t=>t.complete(Pl)),Tl.clear()}function jl(){Tl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ml=!0)})}class Ll{constructor(t,e,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Tl.add(this),Cl||(Cl=!0,Nr.read(jl),Nr.resolveKeyframes(El))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:s}=this;if(null===t[0]){const i=null==s?void 0:s.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const s=n.readValue(e,o);null!=s&&(t[0]=s)}void 0===t[0]&&(t[0]=o),s&&void 0===i&&s.set(t[0])}!function(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Tl.delete(this)}cancel(){"scheduled"===this.state&&(Tl.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Al=ir(()=>void 0!==window.ScrollTimeline),Dl={};function Nl(t,e){const n=ir(t);return()=>Dl[e]??n()}const Rl=Nl(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),Fl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Il={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fl([0,.65,.55,1]),circOut:Fl([.55,0,1,.45]),backIn:Fl([.31,.01,.66,-.59]),backOut:Fl([.33,1.53,.69,.99])};function _l(t,e){return t?"function"==typeof t?Rl()?Ia(t,e):"ease-out":Er(t)?Fl(t):Array.isArray(t)?t.map(t=>_l(t,e)||Il.easeOut):Il[t]:void 0}function Bl(t,e,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=_l(a,i);Array.isArray(d)&&(u.easing=d);const h={delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:"reverse"===r?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function Vl(t){return"function"==typeof t&&"applyToOptions"in t}class Ol extends ol{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:r,onComplete:a}=t;this.isPseudoElement=Boolean(i),this.allowFlatten=o,this.options=t,t.type;const l=function({type:t,...e}){return Vl(t)&&Rl()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}(t);this.animation=Bl(e,n,s,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const t=nl(s,this.options,r,this.speed);this.updateMotionValue?this.updateMotionValue(t):function(t,e,n){(t=>t.startsWith("--"))(e)?t.style.setProperty(e,n):t.style[e]=n}(e,n,t),this.animation.cancel()}null==a||a(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;null==(e=(t=this.animation).finish)||e.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;"idle"!==t&&"finished"!==t&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||null==(e=(t=this.animation).commitStyles)||e.call(t)}get duration(){var t,e;const n=(null==(e=null==(t=this.animation.effect)?void 0:t.getComputedTiming)?void 0:e.call(t).duration)||0;return dr(Number(n))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ur(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Al()?(this.animation.timeline=t,or):e(this)}}const zl={anticipate:br,backInOut:xr,circInOut:Sr};class $l extends Ol{constructor(t){var e;"string"==typeof(e=t).ease&&e.ease in zl&&(e.ease=zl[e.ease]),il(t),super(t),void 0!==t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!e)return;if(void 0!==t)return void e.set(t);const r=new al({...o,autoplay:!1}),a=Math.max(10,Vr.now()-this.startTime),l=Qo(0,10,a-10);e.setWithVelocity(r.sample(Math.max(0,a-l)).value,r.sample(a).value,l),r.stop()}}const Wl=(t,e)=>!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!ba.test(t)&&"0"!==t||t.startsWith("url(")));function Ul(t){t.duration=0,t.type="keyframes"}const Hl=new Set(["opacity","clipPath","filter","transform"]),Yl=ir(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ql extends ol{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:r,name:a,motionValue:l,element:c,...u}){var d;super(),this.stop=()=>{var t,e;this._animation&&(this._animation.stop(),null==(t=this.stopTimeline)||t.call(this)),null==(e=this.keyframeResolver)||e.cancel()},this.createdAt=Vr.now();const h={autoplay:t,delay:e,type:n,repeat:s,repeatDelay:i,repeatType:o,name:a,motionValue:l,element:c,...u},p=(null==c?void 0:c.KeyframeResolver)||Ll;this.keyframeResolver=new p(r,(t,e,n)=>this.onKeyframesResolved(t,e,h,!n),a,l,c),null==(d=this.keyframeResolver)||d.scheduleResolve()}onKeyframesResolved(t,e,n,s){var i,o;this.keyframeResolver=void 0;const{name:r,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Vr.now(),function(t,e,n,s){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const o=t[t.length-1],r=Wl(i,e),a=Wl(o,e);return!(!r||!a)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||Vl(n))&&s)}(t,r,a,l)||(!tr.instantAnimations&&c||null==d||d(nl(t,n,e)),t[0]=t[t.length-1],Ul(n),n.repeat=0);const h={startTime:s?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},p=!u&&function(t){var e;const{motionValue:n,name:s,repeatDelay:i,repeatType:o,damping:r,type:a}=t;if(!((null==(e=null==n?void 0:n.owner)?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Yl()&&s&&Hl.has(s)&&("transform"!==s||!c)&&!l&&!i&&"mirror"!==o&&0!==r&&"inertia"!==a}(h),m=null==(o=null==(i=h.motionValue)?void 0:i.owner)?void 0:o.current,f=p?new $l({...h,element:m}):new al(h);f.finished.then(()=>{this.notifyFinished()}).catch(or),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||(null==(t=this.keyframeResolver)||t.resume(),Pl=!0,jl(),El(),Pl=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),null==(t=this.keyframeResolver)||t.cancel()}}function Gl(t,e,n,s=0,i=1){const o=Array.from(t).sort((t,e)=>t.sortNodePosition(e)).indexOf(e),r=t.size,a=(r-1)*s;return"function"==typeof n?n(o,r):1===i?o*s:a-o*s}const Xl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kl(t,e,n=1){const[s,i]=function(t){const e=Xl.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const t=o.trim();return er(t)?parseFloat(t):t}return Wr(i)?Kl(i,e,n+1):i}const Jl={type:"spring",stiffness:500,damping:25,restSpeed:10},Zl={type:"keyframes",duration:.8},Ql={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tc=t=>null!==t;function ec(t,e){return(null==t?void 0:t[e])??(null==t?void 0:t.default)??t}const nc=(t,e,n,s={},i,o)=>r=>{const a=ec(s,t)||{},l=a.delay||s.delay||0;let{elapsed:c=0}=s;c-=ur(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};(function({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(a)||Object.assign(u,((t,{keyframes:e})=>e.length>2?Zl:xl.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:Jl:Ql)(t,u)),u.duration&&(u.duration=ur(u.duration)),u.repeatDelay&&(u.repeatDelay=ur(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(Ul(u),0===u.delay&&(d=!0)),(tr.instantAnimations||tr.skipAnimations)&&(d=!0,Ul(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!o&&void 0!==e.get()){const t=function(t,{repeat:e,repeatType:n="loop"}){const s=t.filter(tc);return s[e&&"loop"!==n&&e%2==1?0:s.length-1]}(u.keyframes,a);if(void 0!==t)return void Nr.update(()=>{u.onUpdate(t),u.onComplete()})}return a.isSync?new al(u):new ql(u)};function sc(t){const e=[{},{}];return null==t||t.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function ic(t,e,n,s){if("function"==typeof e){const[i,o]=sc(s);e=e(void 0!==n?n:t.custom,i,o)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){const[i,o]=sc(s);e=e(void 0!==n?n:t.custom,i,o)}return e}function oc(t,e,n){const s=t.getProps();return ic(s,e,void 0!==n?n:s.custom,t)}const rc=new Set(["width","height","top","left","right","bottom",...vl]);class ac{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=t=>{var e;const n=Vr.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&(null==(e=this.events.change)||e.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=Vr.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new cr);const n=this.events[t].add(e);return"change"===t?()=>{n(),Nr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;null==(t=this.events.change)||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return hr(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;null==(t=this.dependents)||t.clear(),null==(e=this.events.destroy)||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lc(t,e){return new ac(t,e)}const cc=t=>Array.isArray(t);function uc(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lc(n))}function dc(t){return cc(t)?t[t.length-1]||0:t}function hc(t,e){const n=oc(t,e);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o)uc(t,r,dc(o[r]))}const pc=t=>Boolean(t&&t.getVelocity);function mc(t,e){const n=t.getValue("willChange");if(s=n,Boolean(pc(s)&&s.add))return n.add(e);if(!n&&tr.WillChange){const n=new tr.WillChange("auto");t.addValue("willChange",n),n.add(e)}var s}function fc(t){return t.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const gc="data-"+fc("framerAppearId");function yc(t){return t.props[gc]}function vc({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,s}function xc(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:r,...a}=e;s&&(o=s);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const e=t.getValue(u,t.latestValues[u]??null),s=a[u];if(void 0===s||c&&vc(c,u))continue;const i={delay:n,...ec(o||{},u)},r=e.get();if(void 0!==r&&!e.isAnimating&&!Array.isArray(s)&&s===r&&!i.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const e=yc(t);if(e){const t=window.MotionHandoffAnimation(e,u,Nr);null!==t&&(i.startTime=t,d=!0)}}mc(t,u),e.start(nc(u,e,s,t.shouldReduceMotion&&rc.has(u)?{type:!1}:i,t,d));const h=e.animation;h&&l.push(h)}return r&&Promise.all(l).then(()=>{Nr.update(()=>{r&&hc(t,r)})}),l}function bc(t,e,n={}){var s;const i=oc(t,e,"exit"===n.type?null==(s=t.presenceContext)?void 0:s.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const r=i?()=>Promise.all(xc(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(s=0)=>{const{delayChildren:i=0,staggerChildren:r,staggerDirection:a}=o;return function(t,e,n=0,s=0,i=0,o=1,r){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(bc(l,e,{...r,delay:n+("function"==typeof s?0:s)+Gl(t.variantChildren,l,s,i,o)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}(t,e,s,i,r,a,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[t,e]="beforeChildren"===l?[r,a]:[a,r];return t().then(()=>e())}return Promise.all([r(),a(n.delay)])}function wc(t,e,n={}){let s;if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map(e=>bc(t,e,n));s=Promise.all(i)}else if("string"==typeof e)s=bc(t,e,n);else{const i="function"==typeof e?oc(t,e,n.custom):e;s=Promise.all(xc(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const kc=t=>e=>e.test(t),Sc=[Yr,ra,oa,ia,la,aa,{test:t=>"auto"===t,parse:t=>t}],Tc=t=>Sc.find(kc(t));function Cc(t){return"number"==typeof t?0===t:null===t||"none"===t||"0"===t||sr(t)}const Mc=new Set(["brightness","contrast","saturate","opacity"]);function Pc(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[s]=n.match(Kr)||[];if(!s)return t;const i=n.replace(s,"");let o=Mc.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+i+")"}const Ec=/\b([a-z-]*)\(.*?\)/gu,jc={...ba,getAnimatableNone:t=>{const e=t.match(Ec);return e?e.map(Pc).join(" "):t}},Lc={...Yr,transform:Math.round},Ac={borderWidth:ra,borderTopWidth:ra,borderRightWidth:ra,borderBottomWidth:ra,borderLeftWidth:ra,borderRadius:ra,borderTopLeftRadius:ra,borderTopRightRadius:ra,borderBottomRightRadius:ra,borderBottomLeftRadius:ra,width:ra,maxWidth:ra,height:ra,maxHeight:ra,top:ra,right:ra,bottom:ra,left:ra,inset:ra,insetBlock:ra,insetBlockStart:ra,insetBlockEnd:ra,insetInline:ra,insetInlineStart:ra,insetInlineEnd:ra,padding:ra,paddingTop:ra,paddingRight:ra,paddingBottom:ra,paddingLeft:ra,paddingBlock:ra,paddingBlockStart:ra,paddingBlockEnd:ra,paddingInline:ra,paddingInlineStart:ra,paddingInlineEnd:ra,margin:ra,marginTop:ra,marginRight:ra,marginBottom:ra,marginLeft:ra,marginBlock:ra,marginBlockStart:ra,marginBlockEnd:ra,marginInline:ra,marginInlineStart:ra,marginInlineEnd:ra,fontSize:ra,backgroundPositionX:ra,backgroundPositionY:ra,rotate:ia,rotateX:ia,rotateY:ia,rotateZ:ia,scale:Gr,scaleX:Gr,scaleY:Gr,scaleZ:Gr,skew:ia,skewX:ia,skewY:ia,distance:ra,translateX:ra,translateY:ra,translateZ:ra,x:ra,y:ra,z:ra,perspective:ra,transformPerspective:ra,opacity:qr,originX:ca,originY:ca,originZ:ra,zIndex:Lc,fillOpacity:qr,strokeOpacity:qr,numOctaves:Lc},Dc={...Ac,color:da,backgroundColor:da,outlineColor:da,fill:da,stroke:da,borderColor:da,borderTopColor:da,borderRightColor:da,borderBottomColor:da,borderLeftColor:da,filter:jc,WebkitFilter:jc},Nc=t=>Dc[t];function Rc(t,e){let n=Nc(t);return n!==jc&&(n=ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Fc=new Set(["auto","none","0"]);class Ic extends Ll{constructor(t,e,n,s,i){super(t,e,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let n=t[a];if("string"==typeof n&&(n=n.trim(),Wr(n))){const s=Kl(n,e.current);void 0!==s&&(t[a]=s),a===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!rc.has(n)||2!==t.length)return;const[s,i]=t,o=Tc(s),r=Tc(i);if(Hr(s)!==Hr(i)&&Sl[n])this.needsMeasurement=!0;else if(o!==r)if(bl(o)&&bl(r))for(let a=0;a<t.length;a++){const e=t[a];"string"==typeof e&&(t[a]=parseFloat(e))}else Sl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let s=0;s<t.length;s++)(null===t[s]||Cc(t[s]))&&n.push(s);n.length&&function(t,e,n){let s,i=0;for(;i<t.length&&!s;){const e=t[i];"string"==typeof e&&!Fc.has(e)&&ga(e).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=Rc(n,s)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];void 0!==s&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=Sl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==r&&void 0===this.finalKeyframe&&(this.finalKeyframe=r),(null==(t=this.removedTransforms)?void 0:t.length)&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}function _c(t,e,n){if(null==t)return[];if(t instanceof EventTarget)return[t];if("string"==typeof t){let e=document;const s=(null==n?void 0:n[t])??e.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(t=>null!=t)}const Bc=(t,e)=>e&&"number"==typeof t?e.transform(t):t;function Vc(t){return nr(t)&&"offsetHeight"in t}const{schedule:Oc}=Dr(queueMicrotask,!1),zc={x:!1,y:!1};function $c(){return zc.x||zc.y}function Wc(t,e){const n=_c(t),s=new AbortController;return[n,{passive:!0,...e,signal:s.signal},()=>s.abort()]}function Uc(t){return!("touch"===t.pointerType||$c())}const Hc=(t,e)=>!!e&&(t===e||Hc(t,e.parentElement)),Yc=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,qc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gc(t){return qc.has(t.tagName)||!0===t.isContentEditable}const Xc=new WeakSet;function Kc(t){return e=>{"Enter"===e.key&&t(e)}}function Jc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function Zc(t){return Yc(t)&&!$c()}function Qc(t){return nr(t)&&"ownerSVGElement"in t}function tu(t){return Qc(t)&&"svg"===t.tagName}const eu=[...Sc,da,ba],nu=()=>({x:{min:0,max:0},y:{min:0,max:0}}),su={current:null},iu={current:!1},ou="undefined"!=typeof window;function ru(){if(iu.current=!0,ou)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>su.current=t.matches;t.addEventListener("change",e),e()}else su.current=!1}const au=new WeakMap;function lu(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}function cu(t){return"string"==typeof t||Array.isArray(t)}const uu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],du=["initial",...uu];function hu(t){return lu(t.animate)||du.some(e=>cu(t[e]))}function pu(t){return Boolean(hu(t)||t.variants)}const mu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let fu={};function gu(t){fu=t}class yu{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},r={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ll,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=Vr.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,Nr.render(this.render,!1,!0))};const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=e.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=r,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=hu(e),this.isVariantNode=pu(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(e,{},this);for(const d in u){const t=u[d];void 0!==a[d]&&pc(t)&&t.set(a[d])}}mount(t){var e;this.current=t,au.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(iu.current||ru(),this.shouldReduceMotion=su.current),null==(e=this.parent)||e.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(t=this.parent)||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=xl.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&Nr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;"undefined"!=typeof window&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in fu){const e=fu[t];if(!e)continue;const{isEnabled:n,Feature:s}=e;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<mu.length;n++){const e=mu[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const s=t["on"+e];s&&(this.propEventSubscriptions[e]=this.on(e,s))}this.prevMotionValues=function(t,e,n){for(const s in e){const i=e[s],o=n[s];if(pc(i))t.addValue(s,i);else if(pc(o))t.addValue(s,lc(i,{owner:t}));else if(o!==i)if(t.hasValue(s)){const e=t.getValue(s);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(s);t.addValue(s,lc(void 0!==e?e:i,{owner:t}))}}for(const s in n)void 0===e[s]&&t.removeValue(s);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=lc(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=void 0===this.latestValues[t]&&this.current?this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var s;return null!=n&&("string"==typeof n&&(er(n)||sr(n))?n=parseFloat(n):(s=n,!eu.find(kc(s))&&ba.test(e)&&(n=Rc(t,e))),this.setBaseTarget(t,pc(n)?n.get():n)),pc(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let s;if("string"==typeof n||"object"==typeof n){const i=ic(this.props,n,null==(e=this.presenceContext)?void 0:e.custom);i&&(s=i[t])}if(n&&void 0!==s)return s;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||pc(i)?void 0!==this.initialValues[t]&&void 0===s?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new cr),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Oc.render(this.render)}}class vu extends yu{constructor(){super(...arguments),this.KeyframeResolver=Ic}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){const n=t.style;return n?n[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pc(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class xu{constructor(t){this.isMounted=!1,this.node=t}update(){}}function bu({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function wu(t){return void 0===t||1===t}function ku({scale:t,scaleX:e,scaleY:n}){return!wu(t)||!wu(e)||!wu(n)}function Su(t){return ku(t)||Tu(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Tu(t){return Cu(t.x)||Cu(t.y)}function Cu(t){return t&&"0%"!==t}function Mu(t,e,n){return n+e*(t-n)}function Pu(t,e,n,s,i){return void 0!==i&&(t=Mu(t,i,s)),Mu(t,n,s)+e}function Eu(t,e=0,n=1,s,i){t.min=Pu(t.min,e,n,s,i),t.max=Pu(t.max,e,n,s,i)}function ju(t,{x:e,y:n}){Eu(t.x,e.translate,e.scale,e.originPoint),Eu(t.y,n.translate,n.scale,n.originPoint)}const Lu=.999999999999,Au=1.0000000000001;function Du(t,e){t.min=t.min+e,t.max=t.max+e}function Nu(t,e,n,s,i=.5){Eu(t,e,n,Sa(t.min,t.max,i),s)}function Ru(t,e){Nu(t.x,e.x,e.scaleX,e.scale,e.originX),Nu(t.y,e.y,e.scaleY,e.scale,e.originY)}function Fu(t,e){return bu(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}(t.getBoundingClientRect(),e))}const Iu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_u=vl.length;function Bu(t,e,n){const{style:s,vars:i,transformOrigin:o}=t;let r=!1,a=!1;for(const l in e){const t=e[l];if(xl.has(l))r=!0;else if(zr(l))i[l]=t;else{const e=Bc(t,Ac[l]);l.startsWith("origin")?(a=!0,o[l]=e):s[l]=e}}if(e.transform||(r||n?s.transform=function(t,e,n){let s="",i=!0;for(let o=0;o<_u;o++){const r=vl[o],a=t[r];if(void 0===a)continue;let l=!0;if("number"==typeof a)l=a===(r.startsWith("scale")?1:0);else{const t=parseFloat(a);l=r.startsWith("scale")?1===t:0===t}if(!l||n){const t=Bc(a,Ac[r]);l||(i=!1,s+=`${Iu[r]||r}(${t}) `),n&&(e[r]=t)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:t="50%",originY:e="50%",originZ:n=0}=o;s.transformOrigin=`${t} ${e} ${n}`}}function Vu(t,{style:e,vars:n},s,i){const o=t.style;let r;for(r in e)o[r]=e[r];for(r in null==i||i.applyProjectionStyles(o,s),n)o.setProperty(r,n[r])}function Ou(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zu={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!ra.test(t))return t;t=parseFloat(t)}return`${Ou(t,e.target.x)}% ${Ou(t,e.target.y)}%`}},$u={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=ba.parse(t);if(i.length>5)return s;const o=ba.createTransformer(t),r="number"!=typeof i[0]?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+r]/=a,i[1+r]/=l;const c=Sa(a,l,.5);return"number"==typeof i[2+r]&&(i[2+r]/=c),"number"==typeof i[3+r]&&(i[3+r]/=c),o(i)}},Wu={borderRadius:{...zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zu,borderTopRightRadius:zu,borderBottomLeftRadius:zu,borderBottomRightRadius:zu,boxShadow:$u};function Uu(t){for(const e in t)Wu[e]=t[e],zr(e)&&(Wu[e].isCSSVariable=!0)}function Hu(t,{layout:e,layoutId:n}){return xl.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!Wu[t]||"opacity"===t)}function Yu(t,e,n){var s;const i=t.style,o=null==e?void 0:e.style,r={};if(!i)return r;for(const a in i)(pc(i[a])||o&&pc(o[a])||Hu(a,t)||void 0!==(null==(s=null==n?void 0:n.getValue(a))?void 0:s.liveStyle))&&(r[a]=i[a]);return r}class qu extends vu{constructor(){super(...arguments),this.type="html",this.renderInstance=Vu}readValueFromInstance(t,e){var n,s;if(xl.has(e))return(null==(n=this.projection)?void 0:n.isProjecting)?fl(e):((t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gl(n,e)})(t,e);{const n=(s=t,window.getComputedStyle(s)),i=(zr(e)?n.getPropertyValue(e):n[e])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Fu(t,e)}build(t,e,n){Bu(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return Yu(t,e,n)}}const Gu={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xu={offset:"strokeDashoffset",array:"strokeDasharray"},Ku=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Ju(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},l,c,u){if(Bu(t,a,c),l)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(null==u?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const p of Ku)void 0!==d[p]&&(h[p]=d[p],delete d[p]);void 0!==e&&(d.x=e),void 0!==n&&(d.y=n),void 0!==s&&(d.scale=s),void 0!==i&&function(t,e,n=1,s=0,i=!0){t.pathLength=1;const o=i?Gu:Xu;t[o.offset]=""+-s,t[o.array]=`${e} ${n}`}(d,i,o,r,!1)}const Zu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Qu=t=>"string"==typeof t&&"svg"===t.toLowerCase();function td(t,e,n){const s=Yu(t,e,n);for(const i in t)(pc(t[i])||pc(e[i]))&&(s[-1!==vl.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]);return s}class ed extends vu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nu}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(xl.has(e)){const t=Nc(e);return t&&t.default||0}return e=Zu.has(e)?e:fc(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return td(t,e,n)}build(t,e,n){Ju(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,s){!function(t,e,n,s){Vu(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Zu.has(i)?i:fc(i),e.attrs[i])}(t,e,0,s)}mount(t){this.isSVGTag=Qu(t.tagName),super.mount(t)}}const nd=du.length;function sd(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&sd(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<nd;n++){const s=du[n],i=t.props[s];(cu(i)||!1===i)&&(e[s]=i)}return e}function id(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const od=[...uu].reverse(),rd=uu.length;function ad(t){let e=function(t){return e=>Promise.all(e.map(({animation:e,options:n})=>wc(t,e,n)))}(t),n=ud(),s=!0;const i=e=>(n,s)=>{var i;const o=oc(t,s,"exit"===e?null==(i=t.presenceContext)?void 0:i.custom:void 0);if(o){const{transition:t,transitionEnd:e,...s}=o;n={...n,...s,...e}}return n};function o(o){const{props:r}=t,a=sd(t.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let e=0;e<rd;e++){const h=od[e],p=n[h],m=void 0!==r[h]?r[h]:a[h],f=cu(m),g=h===o?p.isActive:null;!1===g&&(d=e);let y=m===a[h]&&m!==r[h]&&f;if(y&&s&&t.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...u},!p.isActive&&null===g||!m&&!p.prevProp||lu(m)||"boolean"==typeof m)continue;const v=ld(p.prevProp,m);let x=v||h===o&&p.isActive&&!y&&f||e>d&&f,b=!1;const w=Array.isArray(m)?m:[m];let k=w.reduce(i(h),{});!1===g&&(k={});const{prevResolvedValues:S={}}=p,T={...S,...k},C=e=>{x=!0,c.has(e)&&(b=!0,c.delete(e)),p.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in T){const e=k[t],n=S[t];if(u.hasOwnProperty(t))continue;let s=!1;s=cc(e)&&cc(n)?!id(e,n):e!==n,s?null!=e?C(t):c.add(t):void 0!==e&&c.has(t)?C(t):p.protectedKeys[t]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(u={...u,...k}),s&&t.blockInitialAnimation&&(x=!1);const M=y&&v;x&&(!M||b)&&l.push(...w.map(e=>{const n={type:h};if("string"==typeof e&&s&&!M&&t.manuallyAnimateOnMount&&t.parent){const{parent:s}=t,i=oc(s,e);if(s.enteringChildren&&i){const{delayChildren:e}=i.transition||{};n.delay=Gl(s.enteringChildren,t,e)}}return{animation:e,options:n}}))}if(c.size){const e={};if("boolean"!=typeof r.initial){const n=oc(t,Array.isArray(r.initial)?r.initial[0]:r.initial);n&&n.transition&&(e.transition=n.transition)}c.forEach(n=>{const s=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=s??null}),l.push({animation:e})}let h=Boolean(l.length);return!s||!1!==r.initial&&r.initial!==r.animate||t.manuallyAnimateOnMount||(h=!1),s=!1,h?e(l):Promise.resolve()}return{animateChanges:o,setActive:function(e,s){var i;if(n[e].isActive===s)return Promise.resolve();null==(i=t.variantChildren)||i.forEach(t=>{var n;return null==(n=t.animationState)?void 0:n.setActive(e,s)}),n[e].isActive=s;const r=o(e);for(const t in n)n[t].protectedKeys={};return r},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=ud()}}}function ld(t,e){return"string"==typeof e?e!==t:!!Array.isArray(e)&&!id(e,t)}function cd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ud(){return{animate:cd(!0),whileInView:cd(),whileHover:cd(),whileTap:cd(),whileDrag:cd(),whileFocus:cd(),exit:cd()}}function dd(t,e){t.min=e.min,t.max=e.max}function hd(t,e){dd(t.x,e.x),dd(t.y,e.y)}function pd(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function md(t){return t.max-t.min}function fd(t,e,n,s=.5){t.origin=s,t.originPoint=Sa(e.min,e.max,t.origin),t.scale=md(n)/md(e),t.translate=Sa(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function gd(t,e,n,s){fd(t.x,e.x,n.x,s?s.originX:void 0),fd(t.y,e.y,n.y,s?s.originY:void 0)}function yd(t,e,n){t.min=n.min+e.min,t.max=t.min+md(e)}function vd(t,e,n){t.min=e.min-n.min,t.max=t.min+md(e)}function xd(t,e,n){vd(t.x,e.x,n.x),vd(t.y,e.y,n.y)}function bd(t,e,n,s,i){return t=Mu(t-=e,1/n,s),void 0!==i&&(t=Mu(t,1/i,s)),t}function wd(t,e,[n,s,i],o,r){!function(t,e=0,n=1,s=.5,i,o=t,r=t){if(oa.test(e)&&(e=parseFloat(e),e=Sa(r.min,r.max,e/100)-r.min),"number"!=typeof e)return;let a=Sa(o.min,o.max,s);t===o&&(a-=e),t.min=bd(t.min,e,n,a,i),t.max=bd(t.max,e,n,a,i)}(t,e[n],e[s],e[i],e.scale,o,r)}const kd=["x","scaleX","originX"],Sd=["y","scaleY","originY"];function Td(t,e,n,s){wd(t.x,e,kd,n?n.x:void 0,s?s.x:void 0),wd(t.y,e,Sd,n?n.y:void 0,s?s.y:void 0)}function Cd(t){return 0===t.translate&&1===t.scale}function Md(t){return Cd(t.x)&&Cd(t.y)}function Pd(t,e){return t.min===e.min&&t.max===e.max}function Ed(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jd(t,e){return Ed(t.x,e.x)&&Ed(t.y,e.y)}function Ld(t){return md(t.x)/md(t.y)}function Ad(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Dd(t){return[t("x"),t("y")]}const Nd=["TopLeft","TopRight","BottomLeft","BottomRight"],Rd=Nd.length,Fd=t=>"string"==typeof t?parseFloat(t):t,Id=t=>"number"==typeof t||ra.test(t);function _d(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const Bd=Od(0,.5,kr),Vd=Od(.5,.95,or);function Od(t,e,n){return s=>s<t?0:s>e?1:n(lr(t,e,s))}function zd(t,e,n){const s=pc(t)?t:lc(t);return s.start(nc("",s,e,n)),s.animation}function $d(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Wd=(t,e)=>t.depth-e.depth;class Ud{constructor(){this.children=[],this.isDirty=!1}add(t){Jo(this.children,t),this.isDirty=!0}remove(t){Zo(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Wd),this.isDirty=!1,this.children.forEach(t)}}function Hd(t,e){const n=Vr.now(),s=({timestamp:i})=>{const o=i-n;o>=e&&(Rr(s),t(o-e))};return Nr.setup(s,!0),()=>Rr(s)}function Yd(t){return pc(t)?t.get():t}class qd{constructor(){this.members=[]}add(t){Jo(this.members,t),t.scheduleRender()}remove(t){if(Zo(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex(e=>t===e);if(0===e)return!1;let n;for(let s=e;s>=0;s--){const t=this.members[s];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const s=n.options.layoutDependency,i=t.options.layoutDependency;void 0!==s&&void 0!==i&&s===i||(t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:o}=t.options;!1===o&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Xd=["","X","Y","Z"];let Kd=0;function Jd(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Zd(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yc(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:e,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nr,!(e||s))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Zd(s)}function Qd({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(t={},n=(null==e?void 0:e())){this.id=Kd++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nh),this.nodes.forEach(ch),this.nodes.forEach(uh),this.nodes.forEach(sh)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ud)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new cr),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e){if(this.instance)return;this.isSVG=Qc(e)&&!tu(e),this.instance=e;const{layoutId:n,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||n)&&(this.isLayoutDirty=!0),t){let n,s=0;const i=()=>this.root.updateBlockedByResize=!1;Nr.read(()=>{s=window.innerWidth}),t(e,()=>{const t=window.innerWidth;t!==s&&(s=t,this.root.updateBlockedByResize=!0,n&&n(),n=Hd(i,250),Gd.hasAnimatedSinceResize&&(Gd.hasAnimatedSinceResize=!1,this.nodes.forEach(lh)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&i&&(n||s)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeLayoutChanged:n,layout:s})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||i.getDefaultTransition()||gh,{onLayoutAnimationStart:r,onLayoutAnimationComplete:a}=i.getProps(),l=!this.targetLayout||!jd(this.targetLayout,s),c=!e&&n;if(this.options.layoutRoot||this.resumeFrom||c||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e={...ec(o,"layout"),onPlay:r,onComplete:a};(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,c)}else e||lh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dh),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(oh);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(rh);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ah),this.nodes.forEach(th),this.nodes.forEach(eh)):this.nodes.forEach(rh),this.clearAllSnapshots();const t=Vr.now();Fr.delta=Qo(0,1e3/60,t-Fr.timestamp),Fr.timestamp=t,Fr.isProcessing=!0,Ir.update.process(Fr),Ir.preRender.process(Fr),Ir.render.process(Fr),Fr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Oc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ih),this.sharedNodes.forEach(hh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||md(this.snapshot.measuredBox.x)||md(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++)this.path[n].updateScroll();const t=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&this.instance){const e=s(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!Md(this.projectionDelta),n=this.getTransformTemplate(),s=n?n(this.latestValues,""):void 0,o=s!==this.prevTransformTemplateValue;t&&this.instance&&(e||Su(this.latestValues)||o)&&(i(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const e=this.measurePageBox();let n=this.removeElementScroll(e);var s;return t&&(n=this.removeTransform(n)),xh((s=n).x),xh(s.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var t;const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const n=e.measureViewportBox();if(!(null==(t=this.scroll)?void 0:t.wasRoot)&&!this.path.some(wh)){const{scroll:t}=this.root;t&&(Du(n.x,t.offset.x),Du(n.y,t.offset.y))}return n}removeElementScroll(t){var e;const n={x:{min:0,max:0},y:{min:0,max:0}};if(hd(n,t),null==(e=this.scroll)?void 0:e.wasRoot)return n;for(let s=0;s<this.path.length;s++){const e=this.path[s],{scroll:i,options:o}=e;e!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&hd(n,t),Du(n.x,i.offset.x),Du(n.y,i.offset.y))}return n}applyTransform(t,e=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};hd(n,t);for(let s=0;s<this.path.length;s++){const t=this.path[s];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&Ru(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),Su(t.latestValues)&&Ru(n,t.latestValues)}return Su(this.latestValues)&&Ru(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};hd(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!Su(t.latestValues))continue;ku(t.latestValues)&&t.updateSnapshot();const s=nu();hd(s,t.measurePageBox()),Td(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,s)}return Su(this.latestValues)&&Td(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const s=Boolean(this.resumingFrom)||this!==n;if(!(t||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(!this.layout||!i&&!o)return;this.resolvedRelativeTargetAt=Fr.timestamp;const r=this.getClosestProjectingParent();var a,l,c;r&&this.linkedParentVersion!==r.layoutVersion&&!r.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(r&&r.layout?this.createRelativeTarget(r,this.layout.layoutBox,r.layout.layoutBox):this.removeRelativeTarget()),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,l=this.relativeTarget,c=this.relativeParent.target,yd(a.x,l.x,c.x),yd(a.y,l.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):hd(this.target,this.layout.layoutBox),ju(this.target,this.targetDelta)):hd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,r&&Boolean(r.resumingFrom)===Boolean(this.resumingFrom)&&!r.options.layoutScroll&&r.target&&1!==this.animationProgress?this.createRelativeTarget(r,this.target,r.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(this.parent&&!ku(this.parent.latestValues)&&!Tu(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(t,e,n){this.relativeParent=t,this.linkedParentVersion=t.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xd(this.relativeTargetOrigin,e,n),hd(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let s=!0;if((this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty))&&(s=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Fr.timestamp&&(s=!1),s)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;hd(this.layoutCorrected,this.layout.layoutBox);const r=this.treeScale.x,a=this.treeScale.y;!function(t,e,n,s=!1){const i=n.length;if(!i)return;let o,r;e.x=e.y=1;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ru(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,ju(t,r)),s&&Su(o.latestValues)&&Ru(t,o.latestValues))}e.x<Au&&e.x>Lu&&(e.x=1),e.y<Au&&e.y>Lu&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=e;l?(this.projectionDelta&&this.prevProjectionDelta?(pd(this.prevProjectionDelta.x,this.projectionDelta.x),pd(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),gd(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===r&&this.treeScale.y===a&&Ad(this.projectionDelta.x,this.prevProjectionDelta.x)&&Ad(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e;if(null==(e=this.options.visualElement)||e.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t,e=!1){const n=this.snapshot,s=n?n.latestValues:{},i={...this.latestValues},o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const r={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(fh));let d;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var l,h,p,m,f,g;ph(o.x,t.x,n),ph(o.y,t.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(r,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=r,g=n,mh(p.x,m.x,f.x,g),mh(p.y,m.y,f.y,g),d&&(l=this.relativeTarget,h=d,Pd(l.x,h.x)&&Pd(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),hd(d,this.relativeTarget)),a&&(this.animationValues=i,function(t,e,n,s,i,o){i?(t.opacity=Sa(0,n.opacity??1,Bd(s)),t.opacityExit=Sa(e.opacity??1,0,Vd(s))):o&&(t.opacity=Sa(e.opacity??1,n.opacity??1,s));for(let r=0;r<Rd;r++){const i=`border${Nd[r]}Radius`;let o=_d(e,i),a=_d(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||Id(o)===Id(a)?(t[i]=Math.max(Sa(Fd(o),Fd(a),s),0),(oa.test(a)||oa.test(o))&&(t[i]+="%")):t[i]=a)}(e.rotate||n.rotate)&&(t.rotate=Sa(e.rotate||0,n.rotate||0,s))}(i,s,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){var e,n,s;this.notifyListeners("animationStart"),null==(e=this.currentAnimation)||e.stop(),null==(s=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||s.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nr.update(()=>{Gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lc(0)),this.currentAnimation=zd(this.motionValue,[0,1e3],{...t,velocity:0,isSync:!0,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onStop:()=>{},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:s,latestValues:i}=t;if(e&&n&&s){if(this!==t&&this.layout&&s&&bh(this.options.animationType,this.layout.layoutBox,s.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=md(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const s=md(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+s}hd(e,n),Ru(e,i),gd(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new qd),this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null==(t=this.getStack())?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null==(t=this.getStack())?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const s=this.getStack();s&&s.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const s={};n.z&&Jd("z",t,s,this.animationValues);for(let i=0;i<Xd.length;i++)Jd(`rotate${Xd[i]}`,t,s,this.animationValues),Jd(`skew${Xd[i]}`,t,s,this.animationValues);t.render();for(const i in s)t.setStaticValue(i,s[i]),this.animationValues&&(this.animationValues[i]=s[i]);t.scheduleRender()}applyProjectionStyles(t,e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(t.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.visibility="",t.opacity="",t.pointerEvents=Yd(null==e?void 0:e.pointerEvents)||"",void(t.transform=n?n(this.latestValues,""):"none");const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target)return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Yd(null==e?void 0:e.pointerEvents)||""),void(this.hasProjected&&!Su(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1));t.visibility="";const i=s.animationValues||s.latestValues;this.applyTransformsToTarget();let o=function(t,e,n){let s="";const i=t.x.translate/e.x,o=t.y.translate/e.y,r=(null==n?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),1===e.x&&1===e.y||(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:t,rotate:e,rotateX:i,rotateY:o,skewX:r,skewY:a}=n;t&&(s=`perspective(${t}px) ${s}`),e&&(s+=`rotate(${e}deg) `),i&&(s+=`rotateX(${i}deg) `),o&&(s+=`rotateY(${o}deg) `),r&&(s+=`skewX(${r}deg) `),a&&(s+=`skewY(${a}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return 1===a&&1===l||(s+=`scale(${a}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(o=n(i,o)),t.transform=o;const{x:r,y:a}=this.projectionDelta;t.transformOrigin=`${100*r.origin}% ${100*a.origin}% 0`,s.animationValues?t.opacity=s===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=s===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const l in Wu){if(void 0===i[l])continue;const{correct:e,applyTo:n,isCSSVariable:r}=Wu[l],a="none"===o?i[l]:e(i[l],s);if(n){const e=n.length;for(let s=0;s<e;s++)t[n[s]]=a}else r?this.options.visualElement.renderState.vars[l]=a:t[l]=a}this.options.layoutId&&(t.pointerEvents=s===this?Yd(null==e?void 0:e.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null==(e=t.currentAnimation)?void 0:e.stop()}),this.root.nodes.forEach(oh),this.root.sharedNodes.clear()}}}function th(t){t.updateLayout()}function eh(t){var e;const n=(null==(e=t.resumeFrom)?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?Dd(t=>{const s=o?n.measuredBox[t]:n.layoutBox[t],i=md(s);s.min=e[t].min,s.max=s.min+i}):bh(i,n.layoutBox,e)&&Dd(s=>{const i=o?n.measuredBox[s]:n.layoutBox[s],r=md(e[s]);i.max=i.min+r,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[s].max=t.relativeTarget[s].min+r)});const r={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};gd(r,e,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?gd(a,t.applyTransform(s,!0),n.measuredBox):gd(a,e,n.layoutBox);const l=!Md(r);let c=!1;if(!t.resumeFrom){const s=t.getClosestProjectingParent();if(s&&!s.resumeFrom){const{snapshot:i,layout:o}=s;if(i&&o){const r={x:{min:0,max:0},y:{min:0,max:0}};xd(r,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};xd(a,e,o.layoutBox),jd(r,a)||(c=!0),s.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=r,t.relativeParent=s)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:r,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function nh(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sh(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ih(t){t.clearSnapshot()}function oh(t){t.clearMeasurements()}function rh(t){t.isLayoutDirty=!1}function ah(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lh(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ch(t){t.resolveTargetDelta()}function uh(t){t.calcProjection()}function dh(t){t.resetSkewAndRotation()}function hh(t){t.removeLeadSnapshot()}function ph(t,e,n){t.translate=Sa(e.translate,0,n),t.scale=Sa(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mh(t,e,n,s){t.min=Sa(e.min,n.min,s),t.max=Sa(e.max,n.max,s)}function fh(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const gh={duration:.45,ease:[.4,0,.1,1]},yh=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vh=yh("applewebkit/")&&!yh("chrome/")?Math.round:or;function xh(t){t.min=vh(t.min),t.max=vh(t.max)}function bh(t,e,n){return"position"===t||"preserve-aspect"===t&&(s=Ld(e),i=Ld(n),!(Math.abs(s-i)<=.2));var s,i}function wh(t){var e;return t!==t.root&&(null==(e=t.scroll)?void 0:e.wasRoot)}const kh=Qd({attachResizeListener:(t,e)=>$d(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||(null==(t=document.body)?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||(null==(e=document.body)?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Sh=t=>!t.isLayoutDirty&&t.willUpdate(!1);function Th(){const t=new Set,e=new WeakMap,n=()=>t.forEach(Sh);return{add:s=>{t.add(s),e.set(s,s.addEventListener("willUpdate",n))},remove:s=>{t.delete(s);const i=e.get(s);i&&(i(),e.delete(s)),n()},dirty:n}}const Ch={current:void 0},Mh=Qd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ch.current){const t=new kh({});t.mount(window),t.setOptions({layoutScroll:!0}),Ch.current=t}return Ch.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Ph=n.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Eh(t,e){if("function"==typeof t)return t(e);null!=t&&(t.current=e)}class jh extends n.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=e.offsetParent,n=Vc(t)&&t.offsetWidth||0,s=Vc(t)&&t.offsetHeight||0,i=this.props.sizeRef.current;i.height=e.offsetHeight||0,i.width=e.offsetWidth||0,i.top=e.offsetTop,i.left=e.offsetLeft,i.right=n-i.width-i.left,i.bottom=s-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Lh({children:t,isPresent:e,anchorX:i,anchorY:o,root:r}){var a;const l=n.useId(),c=n.useRef(null),u=n.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=n.useContext(Ph),h=(null==(a=t.props)?void 0:a.ref)??(null==t?void 0:t.ref),p=function(...t){return n.useCallback(function(...t){return e=>{let n=!1;const s=t.map(t=>{const s=Eh(t,e);return n||"function"!=typeof s||(n=!0),s});if(n)return()=>{for(let e=0;e<s.length;e++){const n=s[e];"function"==typeof n?n():Eh(t[e],null)}}}}(...t),t)}(c,h);return n.useInsertionEffect(()=>{const{width:t,height:n,top:s,left:a,right:h,bottom:p}=u.current;if(e||!c.current||!t||!n)return;const m="left"===i?`left: ${a}`:`right: ${h}`,f="bottom"===o?`bottom: ${p}`:`top: ${s}`;c.current.dataset.motionPopId=l;const g=document.createElement("style");d&&(g.nonce=d);const y=r??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`\n          [data-motion-pop-id="${l}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${n}px !important;\n            ${m}px !important;\n            ${f}px !important;\n          }\n        `),()=>{y.contains(g)&&y.removeChild(g)}},[e]),s.jsx(jh,{isPresent:e,childRef:c,sizeRef:u,children:n.cloneElement(t,{ref:p})})}const Ah=({children:t,initial:e,isPresent:i,onExitComplete:o,custom:r,presenceAffectsLayout:a,mode:l,anchorX:c,anchorY:u,root:d})=>{const h=qo(Dh),p=n.useId();let m=!0,f=n.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:i,custom:r,onExitComplete:t=>{h.set(t,!0);for(const e of h.values())if(!e)return;o&&o()},register:t=>(h.set(t,!1),()=>h.delete(t))}),[i,h,o]);return a&&m&&(f={...f}),n.useMemo(()=>{h.forEach((t,e)=>h.set(e,!1))},[i]),n.useEffect(()=>{!i&&!h.size&&o&&o()},[i]),"popLayout"===l&&(t=s.jsx(Lh,{isPresent:i,anchorX:c,anchorY:u,root:d,children:t})),s.jsx(Ko.Provider,{value:f,children:t})};function Dh(){return new Map}function Nh(t=!0){const e=n.useContext(Ko);if(null===e)return[!0,null];const{isPresent:s,onExitComplete:i,register:o}=e,r=n.useId();n.useEffect(()=>{if(t)return o(r)},[t]);const a=n.useCallback(()=>t&&i&&i(r),[r,i,t]);return!s&&i?[!1,a]:[!0]}function Rh(){return null===(t=n.useContext(Ko))||t.isPresent;var t}const Fh=t=>t.key||"";function Ih(t){const e=[];return n.Children.forEach(t,t=>{n.isValidElement(t)&&e.push(t)}),e}const _h=({children:t,custom:e,initial:i=!0,onExitComplete:o,presenceAffectsLayout:r=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",anchorY:u="top",root:d})=>{const[h,p]=Nh(l),m=n.useMemo(()=>Ih(t),[t]),f=l&&!h?[]:m.map(Fh),g=n.useRef(!0),y=n.useRef(m),v=qo(()=>new Map),x=n.useRef(new Set),[b,w]=n.useState(m),[k,S]=n.useState(m);Xo(()=>{g.current=!1,y.current=m;for(let t=0;t<k.length;t++){const e=Fh(k[t]);f.includes(e)?(v.delete(e),x.current.delete(e)):!0!==v.get(e)&&v.set(e,!1)}},[k,f.length,f.join("-")]);const T=[];if(m!==b){let t=[...m];for(let e=0;e<k.length;e++){const n=k[e],s=Fh(n);f.includes(s)||(t.splice(e,0,n),T.push(n))}return"wait"===a&&T.length&&(t=T),S(Ih(t)),w(m),null}const{forceRender:C}=n.useContext(Yo);return s.jsx(s.Fragment,{children:k.map(t=>{const n=Fh(t),b=!(l&&!h)&&(m===k||f.includes(n));return s.jsx(Ah,{isPresent:b,initial:!(g.current&&!i)&&void 0,custom:e,presenceAffectsLayout:r,mode:a,root:d,onExitComplete:b?void 0:()=>{if(x.current.has(n))return;if(x.current.add(n),!v.has(n))return;v.set(n,!0);let t=!0;v.forEach(e=>{e||(t=!1)}),t&&(null==C||C(),S(y.current),l&&(null==p||p()),o&&o())},anchorX:c,anchorY:u,children:t},n)})})},Bh=n.createContext(null);const Vh=t=>!0===t,Oh=({children:t,id:e,inherit:i=!0})=>{const o=n.useContext(Yo),r=n.useContext(Bh),[a,l]=function(){const t=function(){const t=n.useRef(!1);return Xo(()=>(t.current=!0,()=>{t.current=!1}),[]),t}(),[e,s]=n.useState(0),i=n.useCallback(()=>{t.current&&s(e+1)},[e]);return[n.useCallback(()=>Nr.postRender(i),[i]),e]}(),c=n.useRef(null),u=o.id||r;null===c.current&&((t=>Vh(!0===t)||"id"===t)(i)&&u&&(e=e?u+"-"+e:u),c.current={id:e,group:Vh(i)&&o.group||Th()});const d=n.useMemo(()=>({...c.current,forceRender:a}),[l]);return s.jsx(Yo.Provider,{value:d,children:t})},zh=n.createContext({strict:!1}),$h={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Wh=!1;function Uh(){return function(){if(Wh)return;const t={};for(const e in $h)t[e]={isEnabled:t=>$h[e].some(e=>!!t[e])};gu(t),Wh=!0}(),fu}const Hh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yh(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Hh.has(t)}let qh=t=>!Yh(t);function Gh(t){"function"==typeof t&&(qh=e=>e.startsWith("on")?!Yh(e):t(e))}try{Gh(require("@emotion/is-prop-valid").default)}catch{}const Xh=n.createContext({});function Kh(t){return Array.isArray(t)?t.join(" "):t}function Jh(t,e,n){for(const s in e)pc(e[s])||Hu(s,n)||(t[s]=e[s])}function Zh(t,e){const s={},i=function(t,e){const s={};return Jh(s,t.style||{},t),Object.assign(s,function({transformTemplate:t},e){return n.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Bu(n,e,t),Object.assign({},n.vars,n.style)},[e])}(t,e)),s}(t,e);return t.drag&&!1!==t.dragListener&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=i,s}function Qh(t,e,s,i){const o=n.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Ju(n,e,Qu(i),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const e={};Jh(e,t.style,t),o.style={...e,...o.style}}return o}const tp=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ep(t){return"string"==typeof t&&!t.includes("-")&&!!(tp.indexOf(t)>-1||/[A-Z]/u.test(t))}function np(t,e,s,{latestValues:i},o,r=!1,a){const l=(a??ep(t)?Qh:Zh)(e,i,o,t),c=function(t,e,n){const s={};for(const i in t)"values"===i&&"object"==typeof t.values||(qh(i)||!0===n&&Yh(i)||!e&&!Yh(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}(e,"string"==typeof t,r),u=t!==n.Fragment?{...c,...l,ref:s}:{},{children:d}=e,h=n.useMemo(()=>pc(d)?d.get():d,[d]);return n.createElement(t,{...u,children:h})}function sp(t,e,n,s){const i={},o=s(t,{});for(const h in o)i[h]=Yd(o[h]);let{initial:r,animate:a}=t;const l=hu(t),c=pu(t);e&&c&&!l&&!1!==t.inherit&&(void 0===r&&(r=e.initial),void 0===a&&(a=e.animate));let u=!!n&&!1===n.initial;u=u||!1===r;const d=u?a:r;if(d&&"boolean"!=typeof d&&!lu(d)){const e=Array.isArray(d)?d:[d];for(let n=0;n<e.length;n++){const s=ic(t,e[n]);if(s){const{transitionEnd:t,transition:e,...n}=s;for(const s in n){let t=n[s];Array.isArray(t)&&(t=t[u?t.length-1:0]),null!==t&&(i[s]=t)}for(const s in t)i[s]=t[s]}}}return i}const ip=t=>(e,s)=>{const i=n.useContext(Xh),o=n.useContext(Ko),r=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:sp(n,s,i,t),renderState:e()}}(t,e,i,o);return s?r():qo(r)},op=ip({scrapeMotionValuesFromProps:Yu,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})}),rp=ip({scrapeMotionValuesFromProps:td,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}})}),ap=Symbol.for("motionComponentSymbol");function lp(t,e,s){const i=n.useRef(s);n.useInsertionEffect(()=>{i.current=s});const o=n.useRef(null);return n.useCallback(n=>{var s;n&&(null==(s=t.onMount)||s.call(t,n)),e&&(n?e.mount(n):e.unmount());const r=i.current;if("function"==typeof r)if(n){const t=r(n);"function"==typeof t&&(o.current=t)}else o.current?(o.current(),o.current=null):r(n);else r&&(r.current=n)},[e])}const cp=n.createContext({});function up(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function dp(t,e,s,i,o,r){var a,l;const{visualElement:c}=n.useContext(Xh),u=n.useContext(zh),d=n.useContext(Ko),h=n.useContext(Ph).reducedMotion,p=n.useRef(null),m=n.useRef(!1);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:c,props:s,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:h,isSVG:r}),m.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const f=p.current,g=n.useContext(cp);!f||f.projection||!o||"html"!==f.type&&"svg"!==f.type||function(t,e,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hp(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(r)||a&&up(a),visualElement:t,animationType:"string"==typeof o?o:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,s,o,g);const y=n.useRef(!1);n.useInsertionEffect(()=>{f&&y.current&&f.update(s,d)});const v=s[gc],x=n.useRef(Boolean(v)&&!(null==(a=window.MotionHandoffIsComplete)?void 0:a.call(window,v))&&(null==(l=window.MotionHasOptimisedAnimation)?void 0:l.call(window,v)));return Xo(()=>{m.current=!0,f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),n.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var t;null==(t=window.MotionHandoffMarkAsComplete)||t.call(window,v)}),x.current=!1),f.enteringChildren=void 0)}),f}function hp(t){if(t)return!1!==t.options.allowProjection?t.projection:hp(t.parent)}function pp(t,{forwardMotionProps:e=!1,type:i}={},o,r){o&&function(t){const e=Uh();for(const n in t)e[n]={...e[n],...t[n]};gu(e)}(o);const a=i?"svg"===i:ep(t),l=a?rp:op;function c(i,o){let c;const u={...n.useContext(Ph),...i,layoutId:mp(i)},{isStatic:d}=u,h=function(t){const{initial:e,animate:s}=function(t,e){if(hu(t)){const{initial:e,animate:n}=t;return{initial:!1===e||cu(e)?e:void 0,animate:cu(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,n.useContext(Xh));return n.useMemo(()=>({initial:e,animate:s}),[Kh(e),Kh(s)])}(i),p=l(i,d);if(!d&&Go){n.useContext(zh).strict;const e=function(t){const e=Uh(),{drag:n,layout:s}=e;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:(null==n?void 0:n.isEnabled(t))||(null==s?void 0:s.isEnabled(t))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(u);c=e.MeasureLayout,h.visualElement=dp(t,p,u,r,e.ProjectionNode,a)}return s.jsxs(Xh.Provider,{value:h,children:[c&&h.visualElement?s.jsx(c,{visualElement:h.visualElement,...u}):null,np(t,i,lp(p,h.visualElement,o),p,d,e,a)]})}c.displayName=`motion.${"string"==typeof t?t:`create(${t.displayName??t.name??""})`}`;const u=n.forwardRef(c);return u[ap]=t,u}function mp({layoutId:t}){const e=n.useContext(Yo).id;return e&&void 0!==t?e+"-"+t:t}function fp(t,e){if("undefined"==typeof Proxy)return pp;const n=new Map,s=(n,s)=>pp(n,s,t,e);return new Proxy((t,e)=>s(t,e),{get:(i,o)=>"create"===o?s:(n.has(o)||n.set(o,pp(o,void 0,t,e)),n.get(o))})}const gp=(t,e)=>e.isSVG??ep(t)?new ed(e):new qu(e,{allowProjection:t!==n.Fragment});let yp=0;const vp={animation:{Feature:class extends xu{constructor(t){super(t),t.animationState||(t.animationState=ad(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null==(t=this.unmountControls)||t.call(this)}}},exit:{Feature:class extends xu{constructor(){super(...arguments),this.id=yp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}}};function xp(t){return{point:{x:t.pageX,y:t.pageY}}}function bp(t,e,n,s){return $d(t,e,(t=>e=>Yc(e)&&t(e,xp(e)))(n),s)}const wp=({current:t})=>t?t.ownerDocument.defaultView:null,kp=(t,e)=>Math.abs(t-e),Sp=new Set(["auto","scroll"]);class Tp{constructor(t,e,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=t=>{this.handleScroll(t.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Pp(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=kp(t.x,e.x),s=kp(t.y,e.y);return Math.sqrt(n**2+s**2)}(t.offset,{x:0,y:0})>=this.distanceThreshold;if(!e&&!n)return;const{point:s}=t,{timestamp:i}=Fr;this.history.push({...s,timestamp:i});const{onStart:o,onMove:r}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),r&&r(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Cp(e,this.transformPagePoint),Nr.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:s,resumeAnimation:i}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=Pp("pointercancel"===t.type?this.lastMoveEventInfo:Cp(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),s&&s(t,o)},!Yc(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const a=Cp(xp(t),this.transformPagePoint),{point:l}=a,{timestamp:c}=Fr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=e;u&&u(t,Pp(a,this.history)),this.removeListeners=ar(bp(this.contextWindow,"pointermove",this.handlePointerMove),bp(this.contextWindow,"pointerup",this.handlePointerUp),bp(this.contextWindow,"pointercancel",this.handlePointerUp)),r&&this.startScrollTracking(r)}startScrollTracking(t){let e=t.parentElement;for(;e;){const t=getComputedStyle(e);(Sp.has(t.overflowX)||Sp.has(t.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const n=t===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i=s.x-e.x,o=s.y-e.y;0===i&&0===o||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i,this.lastMoveEventInfo.point.y+=o):this.history.length>0&&(this.history[0].x-=i,this.history[0].y-=o),this.scrollPositions.set(t,s),Nr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function Cp(t,e){return e?{point:e(t.point)}:t}function Mp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pp({point:t},e){return{point:t,delta:Mp(t,jp(e)),offset:Mp(t,Ep(e)),velocity:Lp(e,.1)}}function Ep(t){return t[0]}function jp(t){return t[t.length-1]}function Lp(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=jp(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>ur(e)));)n--;if(!s)return{x:0,y:0};const o=dr(i.timestamp-s.timestamp);if(0===o)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Ap(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function Dp(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}const Np=.35;function Rp(t,e,n){return{min:Fp(t,e),max:Fp(t,n)}}function Fp(t,e){return"number"==typeof t?t:t[e]||0}const Ip=new WeakMap;class _p{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new Tp(t,{onSessionStart:t=>{e?(this.stopAnimation(),this.snapToCursor(xp(t).point)):this.pauseAnimation()},onStart:(t,e)=>{this.stopAnimation();const{drag:n,dragPropagation:s,onDragStart:i}=this.getProps();if(n&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?zc[o]?null:(zc[o]=!0,()=>{zc[o]=!1}):zc.x||zc.y?null:(zc.x=zc.y=!0,()=>{zc.x=zc.y=!1}),!this.openDragLock))return;var o;this.latestPointerEvent=t,this.latestPanInfo=e,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dd(t=>{let e=this.getAxisMotionValue(t).get()||0;if(oa.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const s=n.layout.layoutBox[t];s&&(e=md(s)*(parseFloat(e)/100))}}this.originPoint[t]=e}),i&&Nr.postRender(()=>i(t,e)),mc(this.visualElement,"transform");const{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},onMove:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e;const{dragPropagation:n,dragDirectionLock:s,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:r}=e;if(s&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(r),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,r),this.updateAxis("y",e.point,r),this.visualElement.render(),o&&o(t,e)},onSessionEnd:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e,this.stop(t,e),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Dd(t=>{var e;return"paused"===this.getAnimationState(t)&&(null==(e=this.getAxisMotionValue(t).animation)?void 0:e.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:wp(this.visualElement),element:this.visualElement.current})}stop(t,e){const n=t||this.latestPointerEvent,s=e||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:r}=this.getProps();r&&Nr.postRender(()=>r(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,n){const{drag:s}=this.getProps();if(!n||!Bp(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,{min:e,max:n},s){return void 0!==e&&t<e?t=s?Sa(e,t,s.min):Math.max(t,e):void 0!==n&&t>n&&(t=s?Sa(n,t,s.max):Math.min(t,n)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(t=this.visualElement.projection)?void 0:t.layout,i=this.constraints;e&&up(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!s)&&function(t,{top:e,left:n,bottom:s,right:i}){return{x:Ap(t.x,n,i),y:Ap(t.y,e,s)}}(s.layoutBox,e),this.elastic=function(t=Np){return!1===t?t=0:!0===t&&(t=Np),{x:Rp(t,"left","right"),y:Rp(t,"top","bottom")}}(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Dd(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(s.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!up(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=function(t,e,n){const s=Fu(t,n),{scroll:i}=e;return i&&(Du(s.x,i.offset.x),Du(s.y,i.offset.y)),s}(n,s.root,this.visualElement.getTransformPagePoint());let o=function(t,e){return{x:Dp(t.x,e.x),y:Dp(t.y,e.y)}}(s.layout.layoutBox,i);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(o));this.hasMutatedConstraints=!!t,t&&(o=bu(t))}return o}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:r}=this.getProps(),a=this.constraints||{},l=Dd(r=>{if(!Bp(r,e,this.currentDirection))return;let l=a&&a[r]||{};o&&(l={min:0,max:0});const c=s?200:1e6,u=s?40:1e7,d={type:"inertia",velocity:n?t[r]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(r,d)});return Promise.all(l).then(r)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return mc(this.visualElement,t),n.start(nc(t,n,0,e,this.visualElement,!1))}stopAnimation(){Dd(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Dd(t=>{var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.pause()})}getAnimationState(t){var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps();return n[e]||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Dd(e=>{const{drag:n}=this.getProps();if(!Bp(e,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(e);if(s&&s.layout){const{min:n,max:o}=s.layout.layoutBox[e],r=i.get()||0;i.set(t[e]-Sa(n,o,.5)+r)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!up(e)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dd(t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();s[t]=function(t,e){let n=.5;const s=md(t),i=md(e);return i>s?n=lr(e.min,e.max-s,t.min):s>i&&(n=lr(t.min,t.max-i,e.min)),Qo(0,1,n)}({min:n,max:n},this.constraints[t])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Dd(e=>{if(!Bp(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(Sa(i,o,s[e]))})}addListeners(){if(!this.visualElement.current)return;Ip.set(this.visualElement,this);const t=this.visualElement.current,e=bp(t,"pointerdown",e=>{const{drag:n,dragListener:s=!0}=this.getProps(),i=e.target,o=i!==t&&Gc(i);n&&s&&!o&&this.start(e)}),n=()=>{const{dragConstraints:t}=this.getProps();up(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Nr.read(n);const o=$d(window,"resize",()=>this.scalePositionWithinConstraints()),r=s.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(Dd(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),i(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Np,dragMomentum:r=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:r}}}function Bp(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}const Vp=t=>(e,n)=>{t&&Nr.postRender(()=>t(e,n))};let Op=!1;class zp extends n.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;i&&(e.group&&e.group.add(i),n&&n.register&&s&&n.register(i),Op&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o?(o.isPresent=i,t.layoutDependency!==e&&o.setOptions({...o.options,layoutDependency:e}),Op=!0,s||t.layoutDependency!==e||void 0===e||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Nr.postRender(()=>{const t=o.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Oc.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:s}=t;Op=!0,s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $p(t){const[e,i]=Nh(),o=n.useContext(Yo);return s.jsx(zp,{...t,layoutGroup:o,switchLayoutGroup:n.useContext(cp),isPresent:e,safeToRemove:i})}const Wp={pan:{Feature:class extends xu{constructor(){super(...arguments),this.removePointerDownListener=or}onPointerDown(t){this.session=new Tp(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wp(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Vp(t),onStart:Vp(e),onMove:n,onEnd:(t,e)=>{delete this.session,s&&Nr.postRender(()=>s(t,e))}}}mount(){this.removePointerDownListener=bp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends xu{constructor(t){super(t),this.removeGroupControls=or,this.removeListeners=or,this.controls=new _p(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||or}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:Mh,MeasureLayout:$p}};function Up(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover","Start"===n);const i=s["onHover"+n];i&&Nr.postRender(()=>i(e,xp(e)))}function Hp(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap","Start"===n);const i=s["onTap"+("End"===n?"":n)];i&&Nr.postRender(()=>i(e,xp(e)))}const Yp=new WeakMap,qp=new WeakMap,Gp=t=>{const e=Yp.get(t.target);e&&e(t)},Xp=t=>{t.forEach(Gp)};const Kp={some:0,all:1},Jp=fp({...vp,inView:{Feature:class extends xu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:s="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof s?s:Kp[s]};return function(t,e,n){const s=function({root:t,...e}){const n=t||document;qp.has(n)||qp.set(n,{});const s=qp.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(Xp,{root:t,...e})),s[i]}(e);return Yp.set(t,n),s.observe(t),()=>{Yp.delete(t),s.unobserve(t)}}(this.node.current,o,t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:s}=this.node.getProps(),o=e?n:s;o&&o(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends xu{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e,n={}){const[s,i,o]=Wc(t,n),r=t=>{const s=t.currentTarget;if(!Zc(t))return;Xc.add(s);const o=e(s,t),r=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),Xc.has(s)&&Xc.delete(s),Zc(t)&&"function"==typeof o&&o(t,{success:e})},a=t=>{r(t,s===window||s===document||n.useGlobalTarget||Hc(s,t.target))},l=t=>{r(t,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return s.forEach(t=>{(n.useGlobalTarget?window:t).addEventListener("pointerdown",r,i),Vc(t)&&(t.addEventListener("focus",t=>((t,e)=>{const n=t.currentTarget;if(!n)return;const s=Kc(()=>{if(Xc.has(n))return;Jc(n,"down");const t=Kc(()=>{Jc(n,"up")});n.addEventListener("keyup",t,e),n.addEventListener("blur",()=>Jc(n,"cancel"),e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)})(t,i)),Gc(t)||t.hasAttribute("tabindex")||(t.tabIndex=0))}),o}(t,(t,e)=>(Hp(this.node,e,"Start"),(t,{success:e})=>Hp(this.node,t,e?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends xu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ar($d(this.node.current,"focus",()=>this.onFocus()),$d(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends xu{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e,n={}){const[s,i,o]=Wc(t,n),r=t=>{if(!Uc(t))return;const{target:n}=t,s=e(n,t);if("function"!=typeof s||!n)return;const o=t=>{Uc(t)&&(s(t),n.removeEventListener("pointerleave",o))};n.addEventListener("pointerleave",o,i)};return s.forEach(t=>{t.addEventListener("pointerenter",r,i)}),o}(t,(t,e)=>(Up(this.node,e,"Start"),t=>Up(this.node,t,"End"))))}unmount(){}}},...Wp,layout:{ProjectionNode:Mh,MeasureLayout:$p}},gp),Zp={duration:.15,ease:[.4,0,.2,1]},Qp={type:"tween",duration:.25,ease:[.4,0,.2,1]},tm={type:"tween",duration:.3,ease:[.4,0,.2,1]},em=n.createContext(!1);function nm(){return n.useContext(em)}const sm={xs:"sm:max-w-xs",sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl",full:"sm:max-w-[calc(100vw-2rem)]"};function im({open:t,onClose:e,size:i="md",className:r,children:c,bottomSheet:u=!0,motionPlus:d=!1}){const[h,p]=n.useState(!1),m=n.useRef(null);n.useEffect(()=>(m.current&&(clearTimeout(m.current),m.current=null),t?m.current=setTimeout(()=>{p(!0)},350):queueMicrotask(()=>p(!1)),()=>{m.current&&(clearTimeout(m.current),m.current=null)}),[t]);const f=n.useCallback((t,n)=>{(n.offset.y>100||n.velocity.y>500)&&e()},[e]),g=d?tm:Qp,y=d?.98:.99,v=u?8:4;return s.jsx(_h,{mode:"wait",children:t&&s.jsxs(a,{static:!0,open:t,onClose:e,className:"relative z-[10010]",children:[s.jsx(Jp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:Zp,className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:o("flex min-h-full justify-center",u?"items-end sm:items-center sm:p-4":"items-center p-4"),children:s.jsx(Jp.div,{drag:!!u&&"y",dragConstraints:{top:0,bottom:0},dragElastic:{top:0,bottom:.4},onDragEnd:f,initial:{opacity:0,scale:y,y:v},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.99,y:u?40:4},transition:g,style:{willChange:"transform, opacity"},className:o(u&&"w-full sm:w-auto"),children:s.jsx(l,{className:o("w-full bg-bg-surface shadow-2xl flex flex-col","ring-1 ring-inset ring-white/10",sm[i],u?"rounded-t-2xl rounded-b-none sm:rounded-2xl pb-safe":"rounded-2xl",r),children:s.jsx(em.Provider,{value:h,children:c})})})})})]})})}function om({className:t,...e}){return s.jsx(c,{...e,className:o("text-base font-semibold text-text-primary sm:text-lg",t)})}function rm({icon:t,title:e,onClose:n,className:i}){return s.jsxs("div",{className:o("flex items-center justify-between p-4 border-b border-border-subtle",i),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[t&&s.jsx("div",{className:"p-2 rounded-lg bg-bg-subtle text-icon-card-title",children:t}),s.jsx(om,{children:e})]}),n&&s.jsx("button",{onClick:n,className:"p-2 rounded-lg text-text-muted hover:text-text-primary hover:bg-bg-subtle transition-colors","aria-label":"Close",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}function am({className:t,...e}){return s.jsx("div",{...e,className:o("p-4",t)})}function lm({className:t,...e}){return s.jsx("div",{...e,className:o("flex flex-col-reverse gap-3 p-4 pt-0","sm:flex-row sm:justify-end","*:w-full sm:*:w-auto",t)})}const cm={snappy:{type:"spring",stiffness:500,damping:30},smooth:{type:"spring",stiffness:300,damping:30},gentle:{type:"spring",stiffness:200,damping:25}},um={easeIn:[.4,0,1,1],cubicInOut:[.65,0,.35,1]},dm={normal:.05};function hm({className:t,...e}){return s.jsx("nav",{...e,className:o(t,"flex h-full min-h-0 flex-col")})}function pm({className:t,...e}){return s.jsx("div",{...e,className:o(t,"flex flex-col border-b border-border-subtle p-4","[&>[data-slot=section]+[data-slot=section]]:mt-2.5")})}function mm({className:t,...e}){return s.jsx("div",{...e,className:o(t,"flex flex-1 flex-col overflow-y-auto p-3","[&>[data-slot=section]+[data-slot=section]]:mt-6")})}function fm({className:t,...e}){return s.jsx("div",{...e,className:o(t,"mt-auto flex flex-col border-t border-border-subtle","[&>[data-slot=section]+[data-slot=section]]:mt-2.5")})}function gm({className:t,...e}){const i=n.useId();return s.jsx(Oh,{id:i,children:s.jsx("div",{...e,"data-slot":"section",className:o(t,"flex flex-col gap-0.5")})})}const ym=n.forwardRef(function(t,e){const{current:n,className:i,children:a,...l}=t,c=o("flex w-full items-center gap-3 rounded-xl px-3 py-2.5 text-left","min-h-[44px]","text-sm font-medium","[&>svg]:w-5 [&>svg]:h-5 [&>svg]:flex-shrink-0",n?"bg-accent-primary/15 text-accent-primary [&>svg]:text-accent-primary":"text-text-muted hover:text-text-primary hover:bg-subtle-fill [&>svg]:text-text-muted hover:[&>svg]:text-text-primary","transition-all duration-150");return s.jsxs("span",{className:o(i,"relative"),children:[n&&s.jsx(Jp.span,{layoutId:"sidebar-current-indicator",className:"absolute inset-y-2 -left-3 w-0.5 rounded-full bg-accent-primary"}),"string"==typeof l.href?s.jsx(y,{to:l.href,onClick:l.onClick,onMouseEnter:l.onMouseEnter,onMouseLeave:l.onMouseLeave,className:c,"data-current":n?"true":void 0,ref:e,children:a}):s.jsx(r,{...l,className:o("cursor-default",c),"data-current":n?"true":void 0,ref:e,children:a})]})});function vm({className:t,...e}){return s.jsx("span",{...e,className:o(t,"truncate")})}function xm({className:t,variant:e="default",...n}){return s.jsx("span",{...n,className:o("ml-auto flex items-center gap-1 px-1.5 py-0.5 rounded-full","text-xs font-medium",{default:"bg-bg-subtle text-text-muted",accent:"bg-accent-primary/20 text-accent-primary",success:"bg-accent-success/20 text-accent-success",warning:"bg-accent-secondary/20 text-accent-secondary",danger:"bg-accent-danger/20 text-accent-danger"}[e],t)})}const bm=n.createContext(null),wm={type:"spring",visualDuration:.35,bounce:.15};function km({open:t,onClose:e,children:n}){return s.jsx(_h,{children:t&&s.jsxs(a,{static:!0,open:t,onClose:e,className:"lg:hidden relative z-[10002]",children:[s.jsx(Jp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeOut"},className:"fixed inset-0 bg-black/60 backdrop-blur-sm","aria-hidden":"true"}),s.jsx(Jp.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:wm,className:"fixed inset-y-0 left-0 w-72 max-w-[85vw] z-[10003]",children:s.jsx(l,{className:"h-full",children:s.jsxs("div",{className:"flex h-full flex-col sidebar-panel",children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx(u,{className:"p-2 rounded-lg text-text-muted hover:text-text-primary hover:bg-subtle-fill transition-colors","aria-label":"Close navigation",children:s.jsx(Ho,{className:"w-5 h-5"})})}),n]})})})]})})}function Sm({sidebar:t,navbar:e,children:i,className:r}){const[a,l]=n.useState(!1),c=()=>l(!0),u=()=>l(!1),d={isOpen:a,open:c,close:u,toggle:()=>l(t=>!t)};return s.jsx(bm.Provider,{value:d,children:s.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-body",children:[s.jsx("aside",{className:"hidden lg:flex flex-col w-64 flex-shrink-0 h-full relative sidebar-panel",children:t}),s.jsx(km,{open:a,onClose:u,children:t}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("header",{className:"lg:hidden sticky top-0 z-[10001] h-14 mobile-header",children:s.jsxs("div",{className:"flex items-center h-full px-4",children:[s.jsx("button",{onClick:c,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-subtle-fill active:bg-subtle-fill transition-colors mr-2","aria-label":"Open navigation",children:s.jsx(Io,{className:"w-5 h-5 text-text-primary"})}),s.jsx("div",{className:"flex-1 min-w-0",children:e})]})}),s.jsx("main",{className:o("flex-1 overflow-y-auto main-content",r),children:i})]})]})})}function Tm({className:t,...e}){return s.jsx("nav",{...e,className:o(t,"flex flex-1 items-center gap-3")})}function Cm({className:t,...e}){return s.jsx("div",{...e,className:o(t,"flex items-center gap-3")})}function Mm({className:t,...e}){return s.jsx("div",{"aria-hidden":"true",...e,className:o(t,"flex-1")})}function Pm({defaultOpen:t=!1,className:e,children:n}){return s.jsx(h,{defaultOpen:t,children:s.jsx("div",{className:o("flex flex-col",e),children:n})})}n.forwardRef(function({children:t,elevated:e,compact:n,noPadding:i,className:r,...a},l){return s.jsx("div",{ref:l,className:o("rounded-lg","bg-bg-surface","ring-1 ring-inset ring-border-subtle","h-full flex flex-col",e&&"bg-bg-elevated",!i&&(n?"p-3 sm:p-4":"p-4 sm:p-5"),r),...a,children:t})}),n.forwardRef(function({children:t,className:e,...n},i){return s.jsx("div",{ref:i,className:o("flex items-center justify-between gap-4","pb-4 mb-4","border-b border-border-subtle",e),...n,children:t})}),n.forwardRef(function({children:t,icon:e,className:n,...i},r){return s.jsxs("h3",{ref:r,className:o("flex items-center gap-2","text-base font-semibold text-text-primary",n),...i,children:[e&&s.jsx("span",{className:"text-icon-card-title w-5 h-5 flex-shrink-0",children:e}),t]})}),n.forwardRef(function({children:t,className:e,...n},i){return s.jsx("p",{ref:i,className:o("text-sm text-text-muted",e),...n,children:t})}),n.forwardRef(function({children:t,className:e,...n},i){return s.jsx("div",{ref:i,className:o("flex-1 min-h-0",e),...n,children:t})}),n.forwardRef(function({children:t,className:e,...n},i){return s.jsx("div",{ref:i,className:o("flex items-center justify-end gap-3","pt-4 mt-4","border-t border-border-subtle",e),...n,children:t})}),n.forwardRef(function({children:t,border:e,className:n,...i},r){return s.jsx("div",{ref:r,className:o(e&&"pt-4 mt-4 border-t border-border-subtle",n),...i,children:t})});const Em=n.forwardRef(function({className:t,icon:e,children:n,...i},r){return s.jsx(d,{ref:r,className:o("flex w-full items-center justify-between gap-3","px-3 py-2 rounded-lg","text-sm font-medium text-text-muted","hover:bg-bg-surface hover:text-text-primary","transition-colors duration-150","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary/50",t),...i,children:({open:t})=>s.jsxs(s.Fragment,{children:[n,s.jsx("span",{className:o("transition-transform duration-200",t?"rotate-180":"rotate-0"),children:e||s.jsx(Po,{className:"w-4 h-4"})})]})})});function jm({direction:t="down",className:e,children:n}){const i={hidden:{height:0,opacity:0,y:"up"===t?8:-8},visible:{height:"auto",opacity:1,y:0}};return s.jsx(p,{static:!0,children:({open:r})=>s.jsx(_h,{initial:!1,children:r&&s.jsx(Jp.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:i,transition:{height:{duration:.2,ease:[.4,0,.2,1]},opacity:{duration:.15},y:{duration:.15}},className:o("overflow-hidden",e),children:s.jsx("div",{className:o("up"===t?"pb-2":"pt-2"),children:n})})})})}function Lm({label:t,icon:e,defaultOpen:n=!0,direction:i="down",className:o,dataId:r,children:a}){const l=r?{[`data-${r}-disclosure`]:!0}:{};return s.jsx(Pm,{defaultOpen:n,className:o,children:"up"===i?s.jsxs(s.Fragment,{children:[s.jsx(jm,{direction:"up",children:a}),s.jsx(Em,{...l,children:s.jsxs("span",{className:"flex items-center gap-3",children:[e,s.jsx("span",{className:"text-xs uppercase tracking-wide",children:t})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Em,{...l,children:s.jsxs("span",{className:"flex items-center gap-3",children:[e,s.jsx("span",{className:"text-xs uppercase tracking-wide",children:t})]})}),s.jsx(jm,{direction:"down",children:a})]})})}const Am="0.9.200",Dm="'JetBrains Mono', monospace",Nm=n.memo(function({height:t=16,responsive:e=!1,className:n=""}){const i="var(--accent-primary)",o="var(--text-primary)";if(e){const t=145,e=24;return s.jsxs("svg",{className:n,viewBox:`0 0 ${t} ${e}`,preserveAspectRatio:"xMidYMid meet",role:"img","aria-label":"pyMC:Console",style:{display:"block",width:"80%",height:"auto"},children:[s.jsx("style",{children:`\n          .logo-text {\n            font-family: ${Dm};\n          }\n          .logo-accent {\n            fill: var(--accent-primary, #719CDF);\n          }\n          .logo-main {\n            fill: var(--text-primary, #FFFFFF);\n          }\n        `}),s.jsxs("text",{x:"0",y:"18",className:"logo-text",fontSize:"20",fontWeight:"400",letterSpacing:"-0.02em",children:[s.jsx("tspan",{className:"logo-accent",children:"py"}),s.jsx("tspan",{className:"logo-main",children:"MC"}),s.jsx("tspan",{className:"logo-accent",children:":"}),s.jsx("tspan",{className:"logo-main",children:"Console"})]})]})}const r="string"==typeof t?parseFloat(t):t,a={fontFamily:Dm,fontSize:.8*r+"px",fontWeight:400,lineHeight:1,letterSpacing:"-0.02em",whiteSpace:"nowrap"};return s.jsxs("span",{className:n,style:a,role:"img","aria-label":"pyMC:Console",children:[s.jsx("span",{style:{color:i},children:"py"}),s.jsx("span",{style:{color:o},children:"MC"}),s.jsx("span",{style:{color:i},children:":"}),s.jsx("span",{style:{color:o},children:"Console"})]})}),Rm="pymc_jwt_token",Fm="pymc_client_id",Im="pymc_remember_me",_m=new Set;function Bm(t){return _m.add(t),()=>_m.delete(t)}function Vm(t){for(const n of _m)try{n(t)}catch(e){}}function Om(){let t=localStorage.getItem(Fm);return t||(t=`${Date.now()}-${Math.random().toString(36).substring(2,15)}`,localStorage.setItem(Fm,t)),t}function zm(){return"true"===localStorage.getItem(Im)}function $m(t){t?localStorage.setItem(Im,"true"):localStorage.removeItem(Im)}function Wm(){return zm()?localStorage:sessionStorage}function Um(){return Wm().getItem(Rm)||localStorage.getItem(Rm)||sessionStorage.getItem(Rm)}function Hm(t){Wm().setItem(Rm,t),zm()?sessionStorage.removeItem(Rm):localStorage.removeItem(Rm),Vm(t)}function Ym(){localStorage.removeItem(Rm),sessionStorage.removeItem(Rm),Vm(null)}function qm(){return!(!Um()||Xm()&&(Ym(),1))}function Gm(t){try{const e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)}catch{return null}}function Xm(){const t=Um();if(!t)return!0;const e=Gm(t);return!e||!e.exp||Date.now()>=1e3*e.exp-6e4}function Km(){const t=Um();if(!t)return 0;const e=Gm(t);return e&&e.exp?Math.max(0,Math.floor((1e3*e.exp-Date.now())/1e3)):0}function Jm(){const t=Um();if(!t)return!1;const e=Gm(t);if(!e||!e.exp)return!1;const n=1e3*e.exp-Date.now();return n>0&&n<3e5}function Zm(){const t=Um();if(!t)return null;const e=Gm(t);return e&&e.sub?e.sub:null}async function Qm(t,e,n=!1){$m(n);try{const n=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e,client_id:Om()})}),s=n.headers.get("content-type");if(!s||!s.includes("application/json"))return{success:!1,error:`Server error: ${n.status}`};const i=await n.json();return i.success&&i.token?(Hm(i.token),{success:!0}):{success:!1,error:i.error||"Login failed"}}catch(s){return{success:!1,error:"Connection error. Please try again."}}}async function tf(){const t=Um();if(!t)return!1;const e=Gm(t);(null==e?void 0:e.exp)&&Math.floor((1e3*e.exp-Date.now())/1e3);try{const e=await fetch("/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({client_id:Om()})});if(!e.ok){let t="";try{const n=await e.json();t=n.error||JSON.stringify(n)}catch{t=e.statusText}return!1}const n=await e.json();if(n.success&&n.token){Hm(n.token);const t=Gm(n.token);return(null==t?void 0:t.exp)&&Math.floor((1e3*t.exp-Date.now())/1e3),!0}return!1}catch(n){return!1}}let ef=null;async function nf(){const t=Um();if(!t)return!1;const e=Gm(t);return(null==e?void 0:e.exp)&&Math.floor((1e3*e.exp-Date.now())/1e3),!Jm()||ef||(ef=tf().finally(()=>{ef=null}),ef)}function sf(){Ym()}let of=!1;function rf(){if(of)return;if("undefined"==typeof document)return;const t=async()=>{if("visible"!==document.visibilityState)return;if(!Um())return;if(Xm())return Ym(),void("undefined"==typeof window||window.location.pathname.includes("/login")||(window.location.href="/login"));const t=Km();t>0&&t<300&&await tf()};document.addEventListener("visibilitychange",t),of=!0,"visible"===document.visibilityState&&t()}const af=Object.freeze(Object.defineProperty({__proto__:null,clearToken:Ym,getClientId:Om,getRememberMe:zm,getToken:Um,getTokenTimeRemaining:Km,getUsername:Zm,isAuthenticated:qm,isTokenExpired:Xm,login:Qm,logout:sf,onTokenChange:Bm,parseJWT:Gm,refreshToken:tf,refreshTokenIfNeeded:nf,setRememberMe:$m,setToken:Hm,shouldRefreshToken:Jm,startVisibilityBasedRefresh:rf},Symbol.toStringTag,{value:"Module"})),lf=new Map;let cf=!1;async function uf(t,e,n=!1){const s=function(t,e){return(null==e?void 0:e.method)&&"GET"!==e.method?"":t}(t,e);if(s){const t=lf.get(s);if(t)return t}const i=`${t}`;!n&&Jm()&&await tf();const o=Um();if(!o&&!t.includes("/auth/"))throw window.location.href="/login",new Error("Not authenticated");const r=o?{Authorization:`Bearer ${o}`}:{};if(null==e?void 0:e.headers){const t=e.headers;t instanceof Headers?t.forEach((t,e)=>{r[e]=t}):Array.isArray(t)?t.forEach(([t,e])=>{r[t]=e}):Object.assign(r,t)}(null==e?void 0:e.body)&&(r["Content-Type"]="application/json");const a=(async()=>{const s=await fetch(i,{...e,headers:r});if(401===s.status){if(!n&&!cf&&await tf())return uf(t,e,!0);throw cf||(cf=!0,Ym(),window.location.replace("/login")),new Error("Session expired. Please log in again.")}if(!s.ok)throw new Error(`API error: ${s.status} ${s.statusText} (${t})`);return s.json()})();return s&&(lf.set(s,a),a.finally(()=>{lf.delete(s)})),a}const df={spreadingFactor:7,bandwidthHz:125e3,codingRate:5,preambleLength:8,crcEnabled:!0,explicitHeader:!0};function hf(t){if(t.raw_packet){const e=t.raw_packet;if(/^[0-9a-fA-F]+$/.test(e)&&e.length%2==0)return e.length/2;if(/^[A-Za-z0-9+/=]+$/.test(e)){const t=(e.match(/=+$/)||[""])[0].length;return Math.floor(3*e.length/4)-t}return e.length}if(t.length&&t.length>0)return t.length;if(t.payload_length&&t.payload_length>0)return t.payload_length;if(t.payload){const e=t.payload;return/^[0-9a-fA-F]+$/.test(e)&&e.length%2==0?e.length/2:e.length}return 32}function pf(t,e={}){return void 0!==t.airtime_ms&&t.airtime_ms>0?t.airtime_ms:function(t,e={}){const n=e.spreadingFactor??df.spreadingFactor,s=e.bandwidthHz??df.bandwidthHz,i=e.codingRate??df.codingRate,o=e.preambleLength??df.preambleLength??8,r=e.crcEnabled??df.crcEnabled?1:0,a=e.explicitHeader??df.explicitHeader?0:1,l=n>=11&&s<=125e3?1:0,c=s/1e3,u=Math.pow(2,n)/c,d=(o+4.25)*u,h=Math.max(8*t-4*n+28+16*r-20*a,0),p=4*(n-2*l);return d+(8+Math.ceil(h/p)*i)*u}(hf(t),e)}function mf(t){return t&&"chat node"===t.toLowerCase()?"Companion":t}async function ff(){return function(t){if(t.neighbors)for(const e of Object.values(t.neighbors))e.contact_type=mf(e.contact_type);return t}(await uf("/api/stats"))}async function gf(){return uf("/api/logs")}async function yf(t=24){return uf(`/api/noise_floor_history?hours=${t}`)}const vf=new Map;function xf(t=!1){if(t)vf.clear();else for(const[e]of vf)parseInt(e.split("-")[0],10)<=60&&vf.delete(e)}function bf(t,e,n,s){const i=60*t/e,o=Math.floor(Date.now()/1e3),r=Math.floor(o/i)*i,a=r-60*t,l=n.filter(t=>t.timestamp>=a&&t.timestamp<=r),c=s?function(t){var e;const n=null==(e=null==t?void 0:t.config)?void 0:e.radio;return{spreadingFactor:(null==n?void 0:n.spreading_factor)??df.spreadingFactor,bandwidthHz:(null==n?void 0:n.bandwidth)??df.bandwidthHz,codingRate:(null==n?void 0:n.coding_rate)??df.codingRate,preambleLength:(null==n?void 0:n.preamble_length)??df.preambleLength,crcEnabled:!0,explicitHeader:!0}}(s):df,u=function(t,e,n,s,i){const o=new Array(e),r=new Array(e),a=new Array(e),l=new Array(e),c=new Array(e),u=new Array(e),d=new Array(e);for(let p=0;p<e;p++){const t=n+p*s,e={bucket:p,start:t,end:t+s,count:0,airtime_ms:0,avg_snr:0,avg_rssi:0};o[p]={...e},r[p]={...e},a[p]={...e},l[p]={...e},c[p]={...e},u[p]={snr:0,rssi:0,count:0},d[p]=new Set}const h=t.length;for(let p=0;p<h;p++){const h=t[p],m=Math.floor((h.timestamp-n)/s);if(m<0||m>=e)continue;const f=pf(h,i),g=h.packet_origin;if("tx_local"===g?(a[m].count++,a[m].airtime_ms+=f):"tx_forward"===g||h.transmitted?(l[m].count++,l[m].airtime_ms+=f):h.drop_reason&&(c[m].count++,c[m].airtime_ms+=f),"tx_local"!==g){o[m].count++,o[m].airtime_ms+=f,u[m].snr+=h.snr||0,u[m].rssi+=h.rssi||0,u[m].count++;const t=h.packet_hash;t&&!d[m].has(t)&&(d[m].add(t),r[m].count++,r[m].airtime_ms+=f)}}for(let p=0;p<e;p++)u[p].count>0&&(o[p].avg_snr=u[p].snr/u[p].count,o[p].avg_rssi=u[p].rssi/u[p].count);return{received:o,unique_received:r,transmitted:a,forwarded:l,dropped:c}}(l,e,a,i,c);return{time_range_minutes:t,bucket_count:e,bucket_duration_seconds:i,start_time:a,end_time:r,...u}}async function wf(){return uf("/api/hardware_stats")}async function kf(){return uf("/api/hardware_processes")}async function Sf(t){return uf("/api/update_radio_config",{method:"POST",body:JSON.stringify(t)})}async function Tf(){return uf("/api/send_advert",{method:"POST",body:"{}"})}async function Cf(t){return uf("/api/set_mode",{method:"POST",body:JSON.stringify({mode:t})})}async function Mf(t){return uf("/api/set_duty_cycle",{method:"POST",body:JSON.stringify({enabled:t})})}async function Pf(t){try{return await uf("/api/log_level",{method:"POST",body:JSON.stringify({level:t})})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}const Ef="pymc-packet-cache",jf="pymc-packet-cache-meta",Lf=36e5,Af=2592e5,Df=6048e5,Nf=12096e5,Rf=5e3,Ff=5e5,If=new class{constructor(){e(this,"packets",new Map),e(this,"sortedPackets",[]),e(this,"sortedDirty",!0),e(this,"meta",{oldestTimestamp:0,newestTimestamp:0,lastUpdated:0,packetCount:0,backgroundLoadComplete:!1,topologyLoadComplete:!1,dataTier:"24h",threeDayLoadComplete:!1,sevenDayLoadComplete:!1,fourteenDayLoadComplete:!1}),e(this,"isLoading",!1),e(this,"isBackgroundLoading",!1),e(this,"isTopologyLoading",!1),e(this,"listeners",new Set),e(this,"loadProgress",null),e(this,"statusMessage",""),this.loadFromStorage()}subscribe(t){return this.listeners.add(t),t(this.getState()),()=>this.listeners.delete(t)}getState(){return{isLoading:this.isLoading,isBackgroundLoading:this.isBackgroundLoading,isTopologyLoading:this.isTopologyLoading,backgroundLoadComplete:this.meta.backgroundLoadComplete,topologyLoadComplete:this.meta.topologyLoadComplete,packetCount:this.packets.size,statusMessage:this.statusMessage,loadProgress:this.loadProgress,dataTier:this.meta.dataTier,threeDayLoadComplete:this.meta.threeDayLoadComplete,sevenDayLoadComplete:this.meta.sevenDayLoadComplete,fourteenDayLoadComplete:this.meta.fourteenDayLoadComplete}}getDataTier(){return this.meta.dataTier}getPackets(){return this.sortedDirty&&(this.sortedPackets=Array.from(this.packets.values()).sort((t,e)=>(t.timestamp??0)-(e.timestamp??0)),this.sortedDirty=!1),this.sortedPackets}isStale(){return 0===this.packets.size||Date.now()-this.meta.lastUpdated>Lf}isHeavyLoadInProgress(){return this.isBackgroundLoading||this.isTopologyLoading}async initialLoad(t){if(this.isStale()&&this.packets.size>0&&this.clear(),this.meta.backgroundLoadComplete&&this.packets.size>0)return this.getPackets();this.isLoading=!0;const e=Date.now(),n=Math.floor((e-864e5)/1e3),s=3e4;this.loadProgress={loaded:0,target:s,percent:0},this.statusMessage="Loading 24h history...",this.notifyListeners();try{let e;this.packets.size>0&&(this.packets.clear(),this.sortedPackets=[],this.sortedDirty=!0,this.meta.oldestTimestamp=0,this.meta.newestTimestamp=0);let i=0,o=0,r=0;const a=Math.ceil(100);for(let l=0;l<a;l++){const c=Math.min(99,Math.round(this.packets.size/s*100));this.statusMessage="Loading 24h history...",this.loadProgress={loaded:this.packets.size,target:s,percent:c},this.notifyListeners();const u=await this.fetchChunkWithRetry(e,Rf,l,a,n);if(null!==u){if(r=0,!(u.success&&u.data&&u.data.length>0))break;{const s=this.packets.size;this.mergePackets(u.data);const r=this.packets.size-s;i+=r;const a=Math.min(...u.data.map(t=>t.timestamp??1/0));if(a!==1/0&&(void 0===e||a<e)&&(e=a),t&&t(),a!==1/0&&a<=n)break;if(0===r){if(o++,o>=2)break}else o=0;if(u.data.length<Rf&&0===r)break;if(this.packets.size>=Ff)break}l<a-1&&await this.delay(300)}else{if(r++,r>=5){this.statusMessage="Connection issues, loaded partial data",this.notifyListeners();break}await this.delay(2e3)}}this.enforceMemoryCap(),this.meta.backgroundLoadComplete=!0,this.meta.dataTier="24h",this.loadProgress={loaded:this.packets.size,target:this.packets.size,percent:100},this.notifyListeners(),this.saveToStorage()}catch(i){this.statusMessage="Load failed"}finally{this.isLoading=!1,this.statusMessage="",this.loadProgress=null,this.notifyListeners()}return this.getPackets()}async quickLoad(){return this.initialLoad()}async backgroundLoad(){await this.initialLoad()}async loadThreeDays(t){this.meta.threeDayLoadComplete||this.isBackgroundLoading||await this.loadExtendedData("3d",Af,t)}async loadSevenDays(t){this.meta.sevenDayLoadComplete||this.isBackgroundLoading||(this.meta.threeDayLoadComplete||await this.loadThreeDays(t),await this.loadExtendedData("7d",Df,t))}async loadFourteenDays(t){this.meta.fourteenDayLoadComplete||this.isBackgroundLoading||(this.meta.sevenDayLoadComplete||await this.loadSevenDays(t),await this.loadExtendedData("14d",Nf,t))}async loadExtendedData(t,e,n){this.isBackgroundLoading=!0;const s=Date.now(),i=Math.floor((s-e)/1e3),o=3e4*("3d"===t?2:"7d"===t?4:7);this.loadProgress={loaded:0,target:o,percent:0},this.statusMessage=`Loading ${t} history...`,this.notifyListeners();try{let e=this.meta.oldestTimestamp||void 0,s=0,r=0,a=0;const l=Math.ceil(100);for(let u=0;u<l;u++){const c=Math.min(99,Math.round(s/o*100));this.statusMessage=`Loading ${t} history...`,this.loadProgress={loaded:s,target:o,percent:c},this.notifyListeners();const d=await this.fetchChunkWithRetry(e,Rf,u,l,i);if(null!==d){if(a=0,!(d.success&&d.data&&d.data.length>0))break;{const t=this.packets.size;this.mergePackets(d.data);const o=this.packets.size-t;s+=o;const a=Math.min(...d.data.map(t=>t.timestamp??1/0));if(a!==1/0&&(void 0===e||a<e)&&(e=a),n&&n(),a!==1/0&&a<=i)break;if(0===o){if(r++,r>=2)break}else r=0;if(d.data.length<Rf&&0===o)break;if(this.packets.size>=Ff)break}u<l-1&&await this.delay(300)}else{if(a++,a>=5)break;await this.delay(2e3)}}this.enforceMemoryCap();const c=Date.now()-1e3*this.meta.oldestTimestamp;"3d"===t?(this.meta.threeDayLoadComplete=c>=Af,this.meta.threeDayLoadComplete&&(this.meta.dataTier="3d")):"7d"===t?(this.meta.sevenDayLoadComplete=c>=Df,this.meta.sevenDayLoadComplete&&(this.meta.dataTier="7d")):(this.meta.fourteenDayLoadComplete=c>=Nf,this.meta.fourteenDayLoadComplete&&(this.meta.dataTier="14d")),this.loadProgress={loaded:s,target:s,percent:100},this.notifyListeners(),this.saveToStorage()}catch(r){this.statusMessage=`${t} load failed`}finally{this.isBackgroundLoading=!1,this.statusMessage="",this.loadProgress=null,this.notifyListeners()}}isDataTierAvailable(t){switch(t){case"24h":return this.meta.backgroundLoadComplete;case"3d":return this.meta.threeDayLoadComplete;case"7d":return this.meta.sevenDayLoadComplete;case"14d":return this.meta.fourteenDayLoadComplete;default:return!1}}async topologyLoad(){if(!this.meta.topologyLoadComplete&&!this.isTopologyLoading)return this.doTopologyLoad()}async forceTopologyLoad(){if(!this.isTopologyLoading)return this.meta.topologyLoadComplete=!1,this.doTopologyLoad()}async forceDeepLoad(){return this.forceTopologyLoad()}async doTopologyLoad(){this.isTopologyLoading=!0;const t=Date.now(),e=Math.floor((t-Nf)/1e3),n=42e4;this.statusMessage="Loading topology data...",this.loadProgress={loaded:this.packets.size,target:n,percent:0},this.notifyListeners();try{let t=this.meta.oldestTimestamp||void 0,s=0,i=0;const o=Math.ceil(100);for(let r=0;r<o;r++){const a=Math.min(99,Math.round(this.packets.size/n*100));this.statusMessage="Loading topology data...",this.loadProgress={loaded:this.packets.size,target:n,percent:a},this.notifyListeners();const l=await this.fetchChunkWithRetry(t,Rf,r,o,e);if(null!==l){if(i=0,!(l.success&&l.data&&l.data.length>0))break;{const n=this.packets.size;this.mergePackets(l.data);const i=this.packets.size-n,o=Math.min(...l.data.map(t=>t.timestamp??1/0));if(o!==1/0&&(void 0===t||o<t)&&(t=o),o!==1/0&&o<=e)break;if(0===i){if(s++,s>=2)break}else s=0;if(this.packets.size>=Ff)break}r<o-1&&await this.delay(300)}else{if(i++,i>=5)break;await this.delay(2e3)}}this.enforceMemoryCap(),this.statusMessage=`Processing ${this.packets.size.toLocaleString()} packets...`,this.loadProgress={loaded:this.packets.size,target:this.packets.size,percent:100},this.notifyListeners(),this.meta.topologyLoadComplete=!0,this.meta.threeDayLoadComplete=!0,this.meta.sevenDayLoadComplete=!0,this.meta.fourteenDayLoadComplete=!0,this.meta.dataTier="14d",this.saveToStorage()}catch(s){this.statusMessage="Load failed"}finally{this.isTopologyLoading=!1,this.statusMessage="",this.loadProgress=null,this.notifyListeners()}}async poll(){try{const t=await this.fetchRecentPackets(100);if(t.success&&t.data){const e=this.packets.size;this.mergePackets(t.data),this.packets.size>e&&(this.saveToStorage(),this.notifyListeners())}}catch(t){}return this.getPackets()}clear(){this.packets.clear(),this.sortedPackets=[],this.sortedDirty=!0,this.meta={oldestTimestamp:0,newestTimestamp:0,lastUpdated:0,packetCount:0,backgroundLoadComplete:!1,topologyLoadComplete:!1,dataTier:"24h",threeDayLoadComplete:!1,sevenDayLoadComplete:!1,fourteenDayLoadComplete:!1},this.clearStorage(),this.notifyListeners()}mergePacketsDirectly(t){const e=this.packets.size;this.mergePackets(t);const n=this.packets.size-e;return n>0&&(this.enforceMemoryCap(),this.saveToStorage(),this.notifyListeners()),n}mergePackets(t){let e=!1;for(const n of t){const t=n.packet_hash;if(!t)continue;const s=n.timestamp??0,i=`${t}:${s}`;this.packets.has(i)||(this.packets.set(i,n),e=!0),(0===this.meta.oldestTimestamp||s<this.meta.oldestTimestamp)&&(this.meta.oldestTimestamp=s),s>this.meta.newestTimestamp&&(this.meta.newestTimestamp=s)}e&&(this.sortedDirty=!0),this.meta.lastUpdated=Date.now(),this.meta.packetCount=this.packets.size}notifyListeners(){const t=this.getState();for(const e of this.listeners)e(t)}delay(t){return new Promise(e=>setTimeout(e,t))}async fetchChunkWithRetry(t,e,n,s,i){for(let r=0;r<3;r++)try{return await this.fetchFilteredPackets(t,e,!1,i)}catch(o){const t=2===r,e=1e3*Math.pow(2,r);o instanceof Error&&o.name,t||(this.statusMessage=`Retry in ${Math.round(e/1e3)}s...`,this.notifyListeners(),await this.delay(e))}return null}enforceMemoryCap(){if(this.packets.size<=Ff)return;const t=this.getPackets(),e=t.length-Ff;for(let n=0;n<e;n++){const e=t[n];e.packet_hash&&this.packets.delete(e.packet_hash)}this.sortedDirty=!0,this.meta.packetCount=this.packets.size,t.length>e&&(this.meta.oldestTimestamp=t[e].timestamp??0)}loadFromStorage(){if("undefined"!=typeof window)try{const t=localStorage.getItem(jf);t&&(this.meta=JSON.parse(t));const e=localStorage.getItem(Ef);if(e){const t=JSON.parse(e);for(const e of t)e.packet_hash&&this.packets.set(e.packet_hash,e)}if(this.meta.lastUpdated>0&&Date.now()-this.meta.lastUpdated>Lf)return void this.clear();this.meta.backgroundLoadComplete=!1,this.meta.threeDayLoadComplete=!1,this.meta.sevenDayLoadComplete=!1,this.meta.fourteenDayLoadComplete=!1,this.meta.dataTier="24h";const n=37500;this.meta.topologyLoadComplete&&this.packets.size<n&&(this.meta.topologyLoadComplete=!1),"deepLoadComplete"in this.meta&&delete this.meta.deepLoadComplete}catch(t){this.clear()}}saveToStorage(){if("undefined"!=typeof window)try{localStorage.setItem(jf,JSON.stringify(this.meta));const t=this.getPackets(),e=t.length>3e3?t.slice(-3e3):t;localStorage.setItem(Ef,JSON.stringify(e))}catch(t){if(t instanceof DOMException&&"QuotaExceededError"===t.name)try{localStorage.removeItem(Ef),localStorage.setItem(jf,JSON.stringify(this.meta))}catch{}}}clearStorage(){if("undefined"!=typeof window)try{localStorage.removeItem(Ef),localStorage.removeItem(jf)}catch(t){}}async fetchRecentPackets(t=1e3,e=!1){const n=`/api/recent_packets?limit=${t}`,{getToken:s}=await g(async()=>{const{getToken:t}=await Promise.resolve().then(()=>af);return{getToken:t}},void 0),i=s(),o={};i&&(o.Authorization=`Bearer ${i}`);const r=await fetch(n,{headers:o});if(401===r.status&&!e){const{refreshToken:e}=await g(async()=>{const{refreshToken:t}=await Promise.resolve().then(()=>af);return{refreshToken:t}},void 0);if(await e())return this.fetchRecentPackets(t,!0)}if(!r.ok)throw new Error(`API error: ${r.status}`);return r.json()}async fetchFilteredPackets(t,e=5e3,n=!1,s){const i=new URLSearchParams;i.set("limit",String(e)),void 0!==t&&i.set("end_timestamp",String(t-.001)),void 0!==s&&i.set("start_timestamp",String(s));const o=`/api/filtered_packets?${i}`,{getToken:r}=await g(async()=>{const{getToken:t}=await Promise.resolve().then(()=>af);return{getToken:t}},void 0),a=r(),l={};a&&(l.Authorization=`Bearer ${a}`);const c=new AbortController,u=setTimeout(()=>c.abort(),3e4);try{const s=await fetch(o,{headers:l,signal:c.signal});if(401===s.status&&!n){const{refreshToken:n}=await g(async()=>{const{refreshToken:t}=await Promise.resolve().then(()=>af);return{refreshToken:t}},void 0);if(await n())return this.fetchFilteredPackets(t,e,!0)}if(!s.ok)throw new Error(`API error: ${s.status}`);return s.json()}finally{clearTimeout(u)}}};function _f(t){return{paths:t.paths,byEndpoints:new Map(t.byEndpointsEntries),canonicalPaths:new Map(t.canonicalPathsEntries),totalObservations:t.totalObservations,uniquePathCount:t.uniquePathCount}}function Bf(){return{paths:[],byEndpoints:new Map,canonicalPaths:new Map,totalObservations:0,uniquePathCount:0}}const Vf=new class{constructor(){e(this,"worker",null),e(this,"listeners",new Set),e(this,"currentTopology",{edges:[],validatedEdges:[],weakEdges:[],certainEdges:[],uncertainEdges:[],edgeMap:new Map,maxPacketCount:0,maxCertainCount:0,neighborAffinity:new Map,fullAffinity:new Map,localPrefix:null,centrality:new Map,hubNodes:[],gatewayNodes:[],loops:[],loopEdgeKeys:new Set,txDelayRecommendations:new Map,pathRegistry:Bf(),edgeBetweenness:new Map,backboneEdges:[],nodeMobility:new Map,mobileNodes:[],pathHealth:[],lastHopNeighbors:[],disambiguationStats:{totalPrefixes:0,unambiguousPrefixes:0,collisionPrefixes:0,collisionRate:0,avgConfidence:0,lowConfidencePrefixes:[],highCollisionPrefixes:[],totalResolutions:0},discoveredNodes:[],viterbiStats:{totalPaths:0,pathsWithGhosts:0,avgPathCost:0,avgPathConfidence:0,observationOverrideCount:0,tracePacketsProcessed:0,pathPacketsProcessed:0,distantEdgesDiscovered:0,duplicateGroupsFound:0,duplicatePathsUnique:0,echolocationEdgesInferred:0},nodeMetrics:new Map,communityCount:0,backboneNodes:[]}),e(this,"isComputing",!1),e(this,"pendingRequest",null),e(this,"debounceTimer",null),e(this,"debounceMs",100),this.initWorker()}initWorker(){if("undefined"!=typeof window)try{this.worker=new Worker(new URL("/assets/topology.worker-B6JO1dmH.js",import.meta.url),{type:"module"}),this.worker.onmessage=t=>{this.handleWorkerMessage(t.data)},this.worker.onerror=t=>{}}catch(t){}}handleWorkerMessage(t){if(this.isComputing=!1,"error"!==t.type){var e;this.currentTopology={edges:(e=t.payload).edges??[],validatedEdges:e.validatedEdges??[],weakEdges:e.weakEdges??[],certainEdges:e.certainEdges??[],uncertainEdges:e.uncertainEdges??[],maxPacketCount:e.maxPacketCount??0,maxCertainCount:e.maxCertainCount??0,localPrefix:e.localPrefix??null,hubNodes:e.hubNodes??[],gatewayNodes:e.gatewayNodes??[],edgeMap:new Map(e.edgeMapEntries??[]),neighborAffinity:new Map(e.neighborAffinityEntries??[]),fullAffinity:new Map(e.fullAffinityEntries??[]),centrality:new Map(e.centralityEntries??[]),loops:e.loops??[],loopEdgeKeys:new Set(e.loopEdgeKeyEntries??[]),txDelayRecommendations:new Map(e.txDelayRecommendationEntries??[]),pathRegistry:e.pathRegistry?_f(e.pathRegistry):Bf(),edgeBetweenness:new Map(e.edgeBetweennessEntries??[]),backboneEdges:e.backboneEdges??[],nodeMobility:new Map(e.nodeMobilityEntries??[]),mobileNodes:e.mobileNodes??[],pathHealth:e.pathHealth??[],lastHopNeighbors:e.lastHopNeighbors??[],disambiguationStats:e.disambiguationStats??{totalPrefixes:0,unambiguousPrefixes:0,collisionPrefixes:0,collisionRate:0,avgConfidence:0,lowConfidencePrefixes:[],highCollisionPrefixes:[],totalResolutions:0},discoveredNodes:e.discoveredNodes??[],viterbiStats:e.viterbiStats??{totalPaths:0,pathsWithGhosts:0,avgPathCost:0,avgPathConfidence:0,observationOverrideCount:0,tracePacketsProcessed:0,pathPacketsProcessed:0,distantEdgesDiscovered:0,duplicateGroupsFound:0,duplicatePathsUnique:0,echolocationEdgesInferred:0},nodeMetrics:new Map(e.nodeMetricsEntries??[]),communityCount:e.communityCount??0,backboneNodes:e.backboneNodes??[]};for(const e of this.listeners)try{e(this.currentTopology,t.computeTimeMs)}catch(n){}if(this.pendingRequest){const t=this.pendingRequest;this.pendingRequest=null,this.computeInternal(t)}}}computeInternal(t){if(!this.worker)return;this.isComputing=!0;const e={type:"compute",payload:t};this.worker.postMessage(e)}compute(t,e,n,s,i,o,r,a){const l={packets:t,neighbors:e,localHash:n,localLat:s,localLon:i,airtimeMs:o,zeroHopNeighbors:r,terrainGrid:a,enableTerrainAware:void 0!==a};this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.isComputing?this.pendingRequest=l:this.computeInternal(l)},this.debounceMs)}subscribe(t){return this.listeners.add(t),this.currentTopology.edges.length>0&&t(this.currentTopology,0),()=>{this.listeners.delete(t)}}getTopology(){return this.currentTopology}isWorking(){return this.isComputing}terminate(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.worker&&(this.worker.terminate(),this.worker=null),this.listeners.clear()}},Of=new class{constructor(){e(this,"worker",null),e(this,"listeners",new Set),e(this,"sparklines",new Map),e(this,"isComputing",!1),e(this,"lastComputeTimeMs",0),e(this,"pendingRequest",null),e(this,"debounceTimer",null),e(this,"debounceMs",150),this.initWorker()}initWorker(){if("undefined"!=typeof window)try{this.worker=new Worker(new URL("/assets/sparkline.worker-CmKhBAy5.js",import.meta.url),{type:"module"}),this.worker.onmessage=t=>{this.handleWorkerMessage(t.data)},this.worker.onerror=t=>{this.isComputing=!1,this.notifyListeners()}}catch(t){}}handleWorkerMessage(t){if(this.isComputing=!1,"error"!==t.type){if(this.sparklines=new Map(t.payload.sparklineEntries),this.lastComputeTimeMs=t.computeTimeMs,this.notifyListeners(),this.pendingRequest){const t=this.pendingRequest;this.pendingRequest=null,this.computeInternal(t.packets,t.nodeHashes)}}else this.notifyListeners()}computeInternal(t,e){if(!this.worker)return;if(0===e.length)return this.isComputing=!1,void this.notifyListeners();this.isComputing=!0,this.notifyListeners();const n={type:"compute",payload:{packets:t,nodeHashes:e}};this.worker.postMessage(n)}notifyListeners(){for(const e of this.listeners)try{e(this.sparklines,this.isComputing)}catch(t){}}compute(t,e){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.isComputing?this.pendingRequest={packets:t,nodeHashes:e}:this.computeInternal(t,e)},this.debounceMs)}getSparkline(t){return this.sparklines.get(t)??[]}getAllSparklines(){return this.sparklines}hasSparkline(t){return this.sparklines.has(t)}isWorking(){return this.isComputing}getLastComputeTime(){return this.lastComputeTimeMs}subscribe(t){return this.listeners.add(t),t(this.sparklines,this.isComputing),()=>{this.listeners.delete(t)}}clear(){this.sparklines.clear(),this.notifyListeners()}terminate(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.worker&&(this.worker.terminate(),this.worker=null),this.listeners.clear()}},zf=new class{constructor(){e(this,"worker",null),e(this,"isInitialized",!1),e(this,"statsListeners",new Set),e(this,"packetsListeners",new Set),e(this,"errorListeners",new Set),e(this,"readyResolve",null),e(this,"readyPromise",null),e(this,"unsubscribeTokenChange",null)}async init(t){if(!this.isInitialized&&"undefined"!=typeof window){this.readyPromise=new Promise(t=>{this.readyResolve=t});try{this.worker=new Worker(new URL("/assets/polling.worker-DFp1Qyu0.js",import.meta.url),{type:"module"}),this.worker.onmessage=this.handleMessage.bind(this),this.worker.onerror=t=>{};const e={type:"init",config:{apiBaseUrl:t.apiBaseUrl,authToken:t.authToken,statsIntervalMs:t.statsIntervalMs??3e3,packetsIntervalMs:t.packetsIntervalMs??3e3}};this.worker.postMessage(e),this.isInitialized=!0,this.unsubscribeTokenChange=Bm(t=>{this.setAuthToken(t)}),await this.readyPromise}catch(e){throw e}}}handleMessage(t){var e;const n=t.data;switch(n.type){case"ready":null==(e=this.readyResolve)||e.call(this);break;case"stats":for(const t of this.statsListeners)try{t(n.data,n.timestamp)}catch(s){}break;case"packets":for(const t of this.packetsListeners)try{t(n.newPackets,n.totalCount,n.newestTimestamp)}catch(s){}break;case"packetsReset":for(const t of this.packetsListeners)try{t([],0,n.newestTimestamp)}catch(s){}break;case"error":for(const t of this.errorListeners)try{t(n.source,n.error)}catch(s){}}}onStats(t){return this.statsListeners.add(t),()=>this.statsListeners.delete(t)}onPackets(t){return this.packetsListeners.add(t),()=>this.packetsListeners.delete(t)}onError(t){return this.errorListeners.add(t),()=>this.errorListeners.delete(t)}setAuthToken(t){if(!this.worker)return;const e={type:"setAuth",token:t};this.worker.postMessage(e)}setLiveMode(t){if(!this.worker)return;const e={type:"setLiveMode",enabled:t};this.worker.postMessage(e)}forceRefresh(){this.worker&&this.worker.postMessage({type:"forceRefresh"})}clearCache(){this.worker&&this.worker.postMessage({type:"clearCache"})}setTimeWindow(t){if(!this.worker)return;const e={type:"setTimeWindow",hours:t};this.worker.postMessage(e)}terminate(){if(this.unsubscribeTokenChange&&(this.unsubscribeTokenChange(),this.unsubscribeTokenChange=null),this.worker){const t={type:"stop"};this.worker.postMessage(t),this.worker.terminate(),this.worker=null}this.isInitialized=!1,this.statsListeners.clear(),this.packetsListeners.clear(),this.errorListeners.clear()}isReady(){return this.isInitialized}},$f=new class{constructor(){e(this,"ws",null),e(this,"connectionState","disconnected"),e(this,"reconnectAttempts",0),e(this,"pingIntervalId",null),e(this,"lastPongTime",Date.now()),e(this,"reconnectTimeoutId",null),e(this,"packetListeners",new Set),e(this,"statsListeners",new Set),e(this,"systemStatsListeners",new Set),e(this,"packetStatsListeners",new Set),e(this,"connectionListeners",new Set),e(this,"unsubscribeTokenChange",null),e(this,"wsSupported",!0)}buildWsUrl(){const t=Um(),e=Om(),n=new URLSearchParams;t&&n.set("token",t),e&&n.set("client_id",e);const s=n.toString()?`?${n.toString()}`:"";return`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}/ws/packets${s}`}connect(){var t,e;if((null==(t=this.ws)?void 0:t.readyState)!==WebSocket.OPEN&&(null==(e=this.ws)?void 0:e.readyState)!==WebSocket.CONNECTING&&this.wsSupported){this.setConnectionState("connecting");try{const t=this.buildWsUrl();this.ws=new WebSocket(t),this.ws.onopen=this.handleOpen.bind(this),this.ws.onmessage=this.handleMessage.bind(this),this.ws.onerror=this.handleError.bind(this),this.ws.onclose=this.handleClose.bind(this),this.unsubscribeTokenChange||(this.unsubscribeTokenChange=Bm(t=>{t&&"connected"===this.connectionState&&(this.disconnect(),this.connect())}))}catch(n){this.wsSupported=!1,this.setConnectionState("disconnected")}}}disconnect(){this.clearPingInterval(),this.clearReconnectTimeout(),this.ws&&(this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.readyState!==WebSocket.OPEN&&this.ws.readyState!==WebSocket.CONNECTING||this.ws.close(1e3,"Client disconnect"),this.ws=null),this.setConnectionState("disconnected"),this.reconnectAttempts=0}isConnected(){var t;return(null==(t=this.ws)?void 0:t.readyState)===WebSocket.OPEN}getConnectionState(){return this.connectionState}isSupported(){return this.wsSupported}send(t){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return!1;try{return this.ws.send(JSON.stringify(t)),!0}catch(e){return!1}}onPacket(t){return this.packetListeners.add(t),()=>this.packetListeners.delete(t)}onStats(t){return this.statsListeners.add(t),()=>this.statsListeners.delete(t)}onSystemStats(t){return this.systemStatsListeners.add(t),()=>this.systemStatsListeners.delete(t)}onPacketStats(t){return this.packetStatsListeners.add(t),()=>this.packetStatsListeners.delete(t)}onConnectionChange(t){return this.connectionListeners.add(t),t(this.connectionState,this.reconnectAttempts),()=>this.connectionListeners.delete(t)}handleOpen(){this.setConnectionState("connected"),this.reconnectAttempts=0,this.lastPongTime=Date.now();const t=Um();t&&this.ws&&this.ws.send(JSON.stringify({type:"auth",token:t})),this.startPingInterval()}handleMessage(t){try{const e=JSON.parse(t.data);switch(e.type){case"packet":this.notifyPacketListeners(e.data);break;case"stats":{const t=e.data;t&&"noise_floor_dbm"in t&&this.notifyStatsListeners(t),(null==t?void 0:t.packet_stats)&&this.notifyPacketStatsListeners(t.packet_stats),(null==t?void 0:t.system_stats)&&this.notifySystemStatsListeners(t.system_stats);break}case"packet_stats":{const t=e.data;this.notifyPacketStatsListeners(t);break}case"system_stats":this.notifySystemStatsListeners(e.data);break;case"ping":this.lastPongTime=Date.now(),this.send({type:"pong"});break;case"pong":this.lastPongTime=Date.now()}}catch(e){}}handleError(t){}handleClose(t){this.clearPingInterval(),1e3!==t.code?(1006===t.code&&this.reconnectAttempts,this.scheduleReconnect()):this.setConnectionState("disconnected")}setConnectionState(t){if(this.connectionState!==t){this.connectionState=t;for(const n of this.connectionListeners)try{n(t,this.reconnectAttempts)}catch(e){}}}notifyPacketListeners(t){for(const n of this.packetListeners)try{n(t)}catch(e){}}notifyStatsListeners(t){for(const n of this.statsListeners)try{n(t)}catch(e){}}notifySystemStatsListeners(t){for(const n of this.systemStatsListeners)try{n(t)}catch(e){}}notifyPacketStatsListeners(t){for(const n of this.packetStatsListeners)try{n(t)}catch(e){}}startPingInterval(){this.clearPingInterval(),this.pingIntervalId=setInterval(()=>{var t;(null==(t=this.ws)?void 0:t.readyState)===WebSocket.OPEN&&(this.send({type:"ping"}),Date.now()-this.lastPongTime>6e4&&(this.disconnect(),this.connect()))},3e4)}clearPingInterval(){this.pingIntervalId&&(clearInterval(this.pingIntervalId),this.pingIntervalId=null)}scheduleReconnect(){if(this.reconnectAttempts>=20)return this.wsSupported=!1,void this.setConnectionState("disconnected");this.setConnectionState("reconnecting");const t=Math.min(1e3*Math.pow(2,Math.min(this.reconnectAttempts,5)),3e4);this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.reconnectTimeoutId=null,this.connect()},t)}clearReconnectTimeout(){this.reconnectTimeoutId&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=null)}terminate(){this.disconnect(),this.unsubscribeTokenChange&&(this.unsubscribeTokenChange(),this.unsubscribeTokenChange=null),this.packetListeners.clear(),this.statsListeners.clear(),this.systemStatsListeners.clear(),this.packetStatsListeners.clear(),this.connectionListeners.clear()}},Wf=3e4,Uf=new class{constructor(){e(this,"staged",new Map),e(this,"recentlyConfirmed",new Map),e(this,"listeners",new Set),e(this,"pruneIntervalId",null),this.startPruneInterval()}stage(t){const e=t.packet_hash;if(!e)return;if(this.staged.has(e))return;const n=this.recentlyConfirmed.get(e);n&&Date.now()-n<Wf||(this.staged.size>=100&&this.removeOldest(),this.staged.set(e,{packet:t,stagedAt:Date.now()}),this.notifyListeners())}confirm(t){this.staged.delete(t)&&this.notifyListeners()}confirmBatch(t){let e=!1;const n=Date.now();for(const s of t)this.recentlyConfirmed.set(s,n),this.staged.delete(s)&&(e=!0);if(this.recentlyConfirmed.size>200){const t=n-Wf;for(const[e,n]of this.recentlyConfirmed)n<t&&this.recentlyConfirmed.delete(e)}e&&this.notifyListeners()}getPendingPackets(){return Array.from(this.staged.values()).sort((t,e)=>(e.packet.timestamp??0)-(t.packet.timestamp??0))}isPending(t){return!!t&&this.staged.has(t)}getPendingCount(){return this.staged.size}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}clear(){this.staged.size>0&&(this.staged.clear(),this.notifyListeners())}terminate(){this.stopPruneInterval(),this.staged.clear(),this.listeners.clear()}notifyListeners(){const t=this.getPendingPackets();for(const n of this.listeners)try{n(t)}catch(e){}}pruneExpired(){const t=Date.now();let e=!1;for(const[n,s]of this.staged)t-s.stagedAt>Wf&&(this.staged.delete(n),e=!0);e&&this.notifyListeners()}removeOldest(){let t=null,e=1/0;for(const[n,s]of this.staged)s.stagedAt<e&&(e=s.stagedAt,t=n);t&&this.staged.delete(t)}startPruneInterval(){this.pruneIntervalId||(this.pruneIntervalId=setInterval(()=>this.pruneExpired(),1e4))}stopPruneInterval(){this.pruneIntervalId&&(clearInterval(this.pruneIntervalId),this.pruneIntervalId=null)}},Hf=v(t=>({connectionState:"disconnected",isSupported:!0,reconnectAttempt:0,lastConnected:null,initialize:()=>{$f.onConnectionChange((e,n)=>{t(t=>({connectionState:e,reconnectAttempt:n??0,isSupported:$f.isSupported(),lastConnected:"connected"===e?Date.now():t.lastConnected}))}),$f.connect()}})),Yf=.05,qf=1e3,Gf="terrarium";function Xf(t,e,n){try{return t.queryTerrainElevation({lng:e,lat:n})??0}catch{return 0}}const Kf=v((t,e)=>({terrainGrid:null,isLoading:!1,error:null,lastLoadedAt:null,cachedBounds:null,terrainDisambiguationEnabled:!0,loadTerrain:async(n,s)=>{const i=e();if(!(i.isLoading||(o=i.cachedBounds,r=n,o&&o.minLat<=r.minLat&&o.maxLat>=r.maxLat&&o.minLng<=r.minLng&&o.maxLng>=r.maxLng))){var o,r;t({isLoading:!0,error:null});try{s.getTerrain()||(s.getSource(Gf)||(s.addSource(Gf,{type:"raster-dem",tiles:["https://s3.amazonaws.com/elevation-tiles-prod/terrarium/{z}/{x}/{y}.png"],encoding:"terrarium",tileSize:256}),await new Promise((t,e)=>{const n=setTimeout(()=>e(new Error("Terrain source load timeout")),1e4),i=e=>{e.sourceId===Gf&&e.isSourceLoaded&&(clearTimeout(n),s.off("sourcedata",i),t())};s.on("sourcedata",i)})),s.setTerrain({source:Gf}),await new Promise(t=>setTimeout(t,500)));const e=await async function(t,e){const{minLat:n,maxLat:s,minLng:i,maxLng:o}=e;let r=Math.ceil((o-i)/.001),a=Math.ceil((s-n)/.001);r>qf&&(r=qf),a>qf&&(a=qf);const l=(o-i)/r,c=(s-n)/a,u=Math.max(l,c),d=new Float32Array(r*a);let h=0;for(let p=0;p<a;p++){const e=n+(p+.5)*c;for(let n=0;n<r;n++){const s=i+(n+.5)*l;d[h]=Xf(t,s,e),h++,h%100==0&&await new Promise(t=>setTimeout(t,0))}}return{origin:[n,i],cellSize:u,width:r,height:a,elevations:d}}(s,n);t({terrainGrid:e,isLoading:!1,lastLoadedAt:Date.now(),cachedBounds:n})}catch(a){const e=a instanceof Error?a.message:"Unknown error loading terrain";t({isLoading:!1,error:e})}}},preloadFromNodes:async(t,n)=>{const s=function(t){const e=t.filter(t=>void 0!==t.latitude&&void 0!==t.longitude&&(0!==t.latitude||0!==t.longitude));if(0===e.length)return null;let n=1/0,s=-1/0,i=1/0,o=-1/0;for(const r of e)n=Math.min(n,r.latitude),s=Math.max(s,r.latitude),i=Math.min(i,r.longitude),o=Math.max(o,r.longitude);return{minLat:n-Yf,maxLat:s+Yf,minLng:i-Yf,maxLng:o+Yf}}(t);s&&await e().loadTerrain(s,n)},clearTerrain:()=>{t({terrainGrid:null,cachedBounds:null,lastLoadedAt:null,error:null})},setTerrainDisambiguationEnabled:e=>{t({terrainDisambiguationEnabled:e})},getTerrainGridForDisambiguation:()=>{const t=e();return t.terrainDisambiguationEnabled?t.terrainGrid:null}})),Jf="pymc-stealth-location";function Zf(t){if("undefined"!=typeof window)try{localStorage.setItem(Jf,JSON.stringify(t))}catch{}}function Qf(t){return!isNaN(t)&&t>=-90&&t<=90}function tg(t){return!isNaN(t)&&t>=-180&&t<=180}const eg=function(){if("undefined"==typeof window)return{};try{const t=localStorage.getItem(Jf);if(!t)return{};const e=JSON.parse(t);if("number"==typeof e.latitude&&"number"==typeof e.longitude&&"boolean"==typeof e.enabled&&Qf(e.latitude)&&tg(e.longitude))return e}catch{}return{}}(),ng=v((t,e)=>({latitude:eg.latitude??null,longitude:eg.longitude??null,enabled:eg.enabled??!1,setLocation:(n,s)=>{Qf(n)&&tg(s)&&(t({latitude:n,longitude:s}),Zf({latitude:n,longitude:s,enabled:e().enabled}))},enable:()=>{const{latitude:n,longitude:s}=e();null!==n&&null!==s&&(t({enabled:!0}),Zf({latitude:n,longitude:s,enabled:!0}))},disable:()=>{t({enabled:!1});const{latitude:n,longitude:s}=e();null!==n&&null!==s&&Zf({latitude:n,longitude:s,enabled:!1})},clear:()=>{t({latitude:null,longitude:null,enabled:!1}),function(){if("undefined"!=typeof window)try{localStorage.removeItem(Jf)}catch{}}()},getEffectiveLocation:()=>{const{latitude:t,longitude:n,enabled:s}=e();return s&&null!==t&&null!==n?{latitude:t,longitude:n}:null},isActive:()=>{const{latitude:t,longitude:n,enabled:s}=e();return s&&null!==t&&null!==n}}));function sg(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2,4).toUpperCase():t.slice(0,2).toUpperCase()}function ig(t,e){let n=t.forwarded_path??t.original_path;if("string"==typeof n)try{n=JSON.parse(n)}catch{return null}if(!n||!Array.isArray(n)||0===n.length)return null;const s=n.map(t=>String(t).toUpperCase()),i=e?sg(e):null,o=s[s.length-1],r=null!==i&&o===i,a=r?s.slice(0,-1):[...s];return{effective:a,original:s,hadLocal:r,effectiveLength:a.length}}function og(t,e){const n=t.toUpperCase();return e.startsWith("0x")||e.startsWith("0X")?e.slice(2).toUpperCase().startsWith(n):e.toUpperCase().startsWith(n)}const rg=[{label:"20m",minutes:20,buckets:80},{label:"1h",minutes:60,buckets:80},{label:"3h",minutes:180,buckets:80},{label:"12h",minutes:720,buckets:80},{label:"24h",minutes:1440,buckets:80},{label:"3d",minutes:4320,buckets:80},{label:"7d",minutes:10080,buckets:80},{label:"14d",minutes:20160,buckets:80}],ag=[{label:"1h",hours:1},{label:"3h",hours:3},{label:"12h",hours:12},{label:"24h",hours:24},{label:"3d",hours:72},{label:"7d",hours:168},{label:"14d",hours:336}];function lg(t,e=12){return Math.max(e,Math.round(t/15))}const cg={hero:lg(1200),statsCard:lg(380)};function ug(t){switch(t){case 1:return 3600;case 3:case 12:return 5400;case 24:return 8640;case 72:case 168:case 336:return 720;default:{const e=3600*t,n=Math.round(e/10);return Math.min(Math.max(360,n),720)}}}const dg="'JetBrains Mono', 'SF Mono', Monaco, monospace",hg={stats:3e3,packets:3e3,charts:3e4,logs:2e3,system:3e3},pg={DEBUG:"text-sys-brown",INFO:"text-sys-cyan",WARNING:"text-sys-amber",ERROR:"text-sys-red",CRITICAL:"text-sys-pink"};function mg(t){return pg[t]??"text-text-muted border-border-subtle"}const fg="pymc-resource-history",gg="pymc-resource-last-fetch",yg="pymc-hidden-contacts",vg="pymc-quick-neighbors",xg="pymc-local-hash",bg="pymc-global-time-range";let wg=null,kg=null;function Sg(t,e){const n=e-1e3*t;return n<=6048e5?"active":n<=12096e5?"stale":"expired"}function Tg(t){return 4===(t.type??t.payload_type)&&!0!==t.transmitted&&function(t){const e=function(t){if(Array.isArray(t))return t;if("string"==typeof t&&t.startsWith("["))try{const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch{return[]}return[]}(t.original_path),n=t.route??t.route_type;return 2===(s=n)||3===s?0===e.length:no(n)?e.length<=1:0===e.length;var s}(t)}function Cg(t,e,n,s){if(!t)return null;let i=t;if(t.length<=4){const s=t.replace(/^0x/i,"").toUpperCase();if(s===e)return null;const o=n.get(s);if(!o)return null;i=o}return s.has(i)?sg(i)===e?null:i:null}function Mg(t,e){t.count++,void 0!==e.rssi&&null!==e.rssi&&(t.rssiSum+=e.rssi,t.rssiCount++),void 0!==e.snr&&null!==e.snr&&(t.snrSum+=e.snr,t.snrCount++);const n=e.timestamp??0;n>t.lastSeen&&(t.lastSeen=n)}function Pg(t){return{hash:t,count:0,rssiSum:0,rssiCount:0,snrSum:0,snrCount:0,lastSeen:0}}function Eg(t,e){const n=Sg(t.lastSeen,e);return"expired"===n?null:{hash:t.hash,prefix:sg(t.hash),count:t.count,avgRssi:t.rssiCount>0?t.rssiSum/t.rssiCount:null,avgSnr:t.snrCount>0?t.snrSum/t.snrCount:null,lastSeen:t.lastSeen,status:n}}function jg(){if("undefined"==typeof window)return[];try{const t=localStorage.getItem(vg);if(t)return JSON.parse(t)}catch{}return[]}function Lg(t){"undefined"!=typeof window&&(kg&&clearTimeout(kg),kg=setTimeout(()=>{try{localStorage.setItem(vg,JSON.stringify(t))}catch{}kg=null},1e3))}function Ag(){if("undefined"!=typeof window)try{const t=localStorage.getItem(xg);if(t)return t}catch{}}function Dg(t){if("undefined"!=typeof window)try{localStorage.setItem(xg,t)}catch{}}function Ng(){if("undefined"==typeof window)return[];try{const t=localStorage.getItem(fg);if(t)return JSON.parse(t)}catch{}return[]}function Rg(){if("undefined"==typeof window)return new Set;try{const t=localStorage.getItem(yg);if(t)return new Set(JSON.parse(t))}catch{}return new Set}function Fg(){if("undefined"==typeof window)return 0;try{const t=localStorage.getItem(gg);if(t)return parseInt(t,10)||0}catch{}return 0}function Ig(){if("undefined"==typeof window)return 4;try{const t=localStorage.getItem(bg);if(t){const e=parseInt(t,10);if(!isNaN(e)&&e>=0&&e<=7)return e}}catch{}return 4}const _g=v((t,e)=>({stats:null,statsLoading:!1,statsError:null,packets:[],packetsLoading:!1,packetsError:null,lastPacketTimestamp:0,logs:[],logsLoading:!1,liveMode:!0,flashReceived:0,flashAdvert:0,pendingAdvertLocalHash:null,pendingAdvertTimestamp:null,resourceHistory:Ng(),lastResourceFetch:Fg(),hiddenContacts:Rg(),quickNeighbors:jg(),cachedLocalHash:Ag(),initialized:!1,packetCacheState:If.getState(),mutationsInFlight:new Set,globalTimeRangeIndex:Ig(),initializeApp:async()=>{const{initialized:n}=e();if(!n){t({initialized:!0,statsLoading:!0,packetsLoading:!0}),If.subscribe(e=>{t({packetCacheState:e})});try{const{hiddenContacts:n}=e(),s=await ff(),i=s.neighbors??{},o=Date.now(),r=[];for(const[t,e]of Object.entries(i)){if(n.has(t))continue;if(!e.zero_hop)continue;const s=Sg(e.last_seen??0,o);"expired"!==s&&r.push({hash:t,prefix:sg(t),count:e.advert_count??0,avgRssi:e.rssi??null,avgSnr:e.snr??null,lastSeen:e.last_seen??0,status:s})}r.sort((t,e)=>e.count!==t.count?e.count-t.count:e.lastSeen-t.lastSeen);const a=s.local_hash;t({stats:s,statsLoading:!1,quickNeighbors:r,cachedLocalHash:a}),Lg(r),a&&Dg(a);const l=()=>{const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>{const n=e.timestamp??0;return n>t?n:t},0);t({packets:[...n],lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}},c=await If.initialLoad(l);if(c.length>0){const n=c.reduce((t,e)=>{const n=e.timestamp??0;return n>t?n:t},0);t({packets:[...c],packetsLoading:!1,lastPacketTimestamp:n}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}else t({packetsLoading:!1})}catch(s){t({statsError:s instanceof Error?s.message:"Failed to initialize",statsLoading:!1,packetsLoading:!1})}Hf.getState().initialize(),$f.onPacket(n=>{const{lastPacketTimestamp:s,mutationsInFlight:i}=e();if(i.size>0)return;Uf.stage(n);const o=n.timestamp??0;o>s&&t({flashReceived:e().flashReceived+1,lastPacketTimestamp:o})}),$f.onStats(n=>{const{mutationsInFlight:s,hiddenContacts:i}=e();if(s.size>0)return;const o=n.neighbors??{},r=Date.now(),a=[];for(const[t,e]of Object.entries(o)){if(i.has(t))continue;if(!e.zero_hop)continue;const n=Sg(e.last_seen??0,r);"expired"!==n&&a.push({hash:t,prefix:sg(t),count:e.advert_count??0,avgRssi:e.rssi??null,avgSnr:e.snr??null,lastSeen:e.last_seen??0,status:n})}a.sort((t,e)=>e.count!==t.count?e.count-t.count:e.lastSeen-t.lastSeen);const l=n.local_hash;t({stats:n,statsLoading:!1,statsError:null,quickNeighbors:a,cachedLocalHash:l}),Lg(a),l&&Dg(l)}),$f.onPacketStats(n=>{const{stats:s,mutationsInFlight:i}=e();if(!s||i.size>0)return;const o={...s,rx_count:n.rx_count??s.rx_count,tx_count:n.tx_count??s.tx_count,forwarded_count:n.forwarded_count??s.forwarded_count,dropped_count:n.dropped_count??s.dropped_count};t({stats:o})});try{await zf.init({apiBaseUrl:"",authToken:Um()??void 0,statsIntervalMs:hg.stats,packetsIntervalMs:hg.packets}),zf.onStats((n,s)=>{const{mutationsInFlight:i,hiddenContacts:o}=e();if(i.size>0)return;const r=n.neighbors??{},a=Date.now(),l=[];for(const[t,e]of Object.entries(r)){if(o.has(t))continue;if(!e.zero_hop)continue;const n=Sg(e.last_seen??0,a);"expired"!==n&&l.push({hash:t,prefix:sg(t),count:e.advert_count??0,avgRssi:e.rssi??null,avgSnr:e.snr??null,lastSeen:e.last_seen??0,status:n})}l.sort((t,e)=>e.count!==t.count?e.count-t.count:e.lastSeen-t.lastSeen);const c=n.local_hash;t({stats:n,statsLoading:!1,statsError:null,quickNeighbors:l,cachedLocalHash:c}),Lg(l),c&&Dg(c)}),zf.onPackets((n,s,i)=>{if(0===n.length)return;const{lastPacketTimestamp:o}=e(),r=n.map(t=>t.packet_hash).filter(t=>!!t);Uf.confirmBatch(r),If.mergePacketsDirectly(n);const a=i>o;a&&xf();const l=If.getPackets();t({packets:l,packetsLoading:!1,packetsError:null,lastPacketTimestamp:i}),a&&e().triggerTopologyCompute()}),zf.onError((e,n)=>{t("stats"===e?{statsError:n}:{packetsError:n})}),"undefined"!=typeof document&&document.addEventListener("visibilitychange",()=>{document.hidden||zf.forceRefresh()})}catch(s){!function(t){setInterval(()=>{t().fetchStats()},hg.stats),setInterval(()=>{t().liveMode&&!If.isHeavyLoadInProgress()&&t().fetchPackets()},hg.packets)}(e)}}},prefetchForRoute:t=>{switch(t){case"/logs":gf().catch(()=>{});break;case"/system":wf().catch(()=>{});break;case"/statistics":(async function(t=24){return uf(`/api/packet_type_graph_data?hours=${t}`)})(3).catch(()=>{}),yf(3).catch(()=>{});break;case"/settings":(async function(){return uf("/api/radio_presets")})().catch(()=>{})}},fetchStats:async n=>{const{stats:s,mutationsInFlight:i,hiddenContacts:o}=e();if(!(i.size>0)||(null==n?void 0:n.force)){s||t({statsLoading:!0}),t({statsError:null});try{const e=await ff(),n=e.neighbors??{},s=Date.now(),i=[];for(const[t,a]of Object.entries(n)){if(o.has(t))continue;if(!a.zero_hop)continue;const e=Sg(a.last_seen??0,s);"expired"!==e&&i.push({hash:t,prefix:sg(t),count:a.advert_count??0,avgRssi:a.rssi??null,avgSnr:a.snr??null,lastSeen:a.last_seen??0,status:e})}i.sort((t,e)=>e.count!==t.count?e.count-t.count:e.lastSeen-t.lastSeen);const r=e.local_hash;t({stats:e,statsLoading:!1,quickNeighbors:i,cachedLocalHash:r}),Lg(i),r&&Dg(r)}catch(r){t({statsError:r instanceof Error?r.message:"Failed to fetch stats",statsLoading:!1})}}},fetchPackets:async n=>{const{packets:s,lastPacketTimestamp:i}=e();0===s.length&&t({packetsLoading:!0}),t({packetsError:null});try{const n=await If.poll(),o=n.length>0?n.reduce((t,e)=>Math.max(t,e.timestamp??0),0):0,r=o>i&&i>0,a=n.length!==s.length||r;r&&(t({flashReceived:e().flashReceived+1}),xf()),t(a?{packets:n,packetsLoading:!1,lastPacketTimestamp:o||i}:{packetsLoading:!1}),r&&e().triggerTopologyCompute()}catch(o){t({packetsError:o instanceof Error?o.message:"Failed to fetch packets",packetsLoading:!1})}},fetchLogs:async()=>{const{logs:n}=e();0===n.length&&t({logsLoading:!0});try{const e=await gf();t({logs:e.logs,logsLoading:!1})}catch{t({logsLoading:!1})}},setLiveMode:e=>{t({liveMode:e}),zf.isReady()&&zf.setLiveMode(e)},setMode:async n=>{const s="setMode",{mutationsInFlight:i}=e(),o=new Set(i);o.add(s),t({mutationsInFlight:o});try{if(!(await Cf(n)).success)throw new Error("Backend returned unsuccessful response");await e().fetchStats({force:!0})}catch(r){const{mutationsInFlight:n}=e(),i=new Set(n);throw i.delete(s),t({mutationsInFlight:i}),r}},clearModeMutation:()=>{const{mutationsInFlight:n}=e(),s=new Set(n);s.delete("setMode"),t({mutationsInFlight:s})},setDutyCycle:async n=>{const s="setDutyCycle",{mutationsInFlight:i}=e(),o=new Set(i);o.add(s),t({mutationsInFlight:o});try{if(!(await Mf(n)).success)throw new Error("Backend returned unsuccessful response");await e().fetchStats({force:!0})}finally{const{mutationsInFlight:n}=e(),i=new Set(n);i.delete(s),t({mutationsInFlight:i})}},setDutyCycleConfig:async n=>{var s;const i="setDutyCycleConfig",{mutationsInFlight:o}=e(),r=new Set(o);r.add(i),t({mutationsInFlight:r});try{const t=await async function(t){return uf("/api/update_duty_cycle_config",{method:"POST",body:JSON.stringify(t)})}(n);if(!t.success&&!(null==(s=t.data)?void 0:s.persisted))throw new Error("Backend returned unsuccessful response");await e().fetchStats({force:!0})}catch(a){const{mutationsInFlight:n}=e(),s=new Set(n);throw s.delete(i),t({mutationsInFlight:s}),a}},clearDutyCycleMutation:()=>{const{mutationsInFlight:n}=e(),s=new Set(n);s.delete("setDutyCycleConfig"),t({mutationsInFlight:s})},startMutation:n=>{const{mutationsInFlight:s}=e(),i=new Set(s);i.add(n),t({mutationsInFlight:i})},clearMutation:n=>{const{mutationsInFlight:s}=e(),i=new Set(s);i.delete(n),t({mutationsInFlight:i})},sendAdvert:async()=>{try{const n=await Tf();return n.success?(t({flashAdvert:e().flashAdvert+1}),{success:!0}):{success:!1,error:n.error||"Failed to send advert"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},triggerFlashReceived:()=>{t({flashReceived:e().flashReceived+1})},triggerFlashAdvert:()=>{t({flashAdvert:e().flashAdvert+1})},addResourceDataPoint:(n,s,i)=>{const o=Date.now(),{lastResourceFetch:r,resourceHistory:a}=e();if(o-r<1e3)return;const l=[...a,{timestamp:o,time:new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),cpu:n,memory:s}],c=l.length>i?l.slice(-i):l;var u,d;t({resourceHistory:c,lastResourceFetch:o}),u=c,d=o,"undefined"!=typeof window&&(wg&&clearTimeout(wg),wg=setTimeout(()=>{try{localStorage.setItem(fg,JSON.stringify(u)),localStorage.setItem(gg,d.toString())}catch{}wg=null},1e3))},hideContact:n=>{const{hiddenContacts:s}=e(),i=new Set(s);i.add(n),t({hiddenContacts:i}),function(t){if("undefined"!=typeof window)try{localStorage.setItem(yg,JSON.stringify([...t]))}catch{}}(i)},clearPacketCache:()=>{If.clear(),t({packets:[],lastPacketTimestamp:0}),If.quickLoad().then(n=>{if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:n,lastPacketTimestamp:s}),e().triggerTopologyCompute()}})},triggerTopologyCompute:()=>{var t,n,s,i;const{packets:o,stats:r,hiddenContacts:a}=e();if(0===o.length||!r)return;const l=r.neighbors??{},c=Object.fromEntries(Object.entries(l).filter(([t])=>!a.has(t))),u=r.local_hash;let d=null==(n=null==(t=r.config)?void 0:t.repeater)?void 0:n.latitude,h=null==(i=null==(s=r.config)?void 0:s.repeater)?void 0:i.longitude;if(!d||!h||0===d&&0===h){const t=ng.getState().getEffectiveLocation();t&&(d=t.latitude,h=t.longitude)}const p=[];for(const[e,f]of Object.entries(c))f.zero_hop&&p.push({hash:e,advertCount:f.advert_count??1,avgRssi:f.rssi??null,avgSnr:f.snr??null,lastSeen:f.last_seen??0,latitude:f.latitude,longitude:f.longitude});const m=Kf.getState().getTerrainGridForDisambiguation();Vf.compute(o,c,u,d,h,void 0,p,m??void 0)},triggerDeepAnalysis:async()=>{await If.forceDeepLoad();const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:n,lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}},updateQuickNeighbors:()=>{const{packets:n,stats:s,hiddenContacts:i}=e();if(0===n.length||!s)return;const o=s.neighbors??{},r=function(t,e,n){if(!n||0===t.length||0===Object.keys(e).length)return[];const s=Date.now(),i=sg(n),o=new Set(Object.keys(e)),r=function(t){var e,n;const s=new Map;for(const i of Object.keys(t)){const o=sg(i),r=s.get(o);if(r){const a=null==(e=t[r])?void 0:e.zero_hop;(null==(n=t[i])?void 0:n.zero_hop)&&!a&&s.set(o,i)}else s.set(o,i)}return s}(e),a=new Map;for(const c of t){if(!Tg(c))continue;const t=Cg(c.src_hash,i,r,o);if(!t)continue;let e=a.get(t);e||(e=Pg(t),a.set(t,e)),Mg(e,c)}for(const[c,u]of Object.entries(e))sg(c)!==i&&u.zero_hop&&!a.has(c)&&a.set(c,{hash:c,count:u.advert_count??0,rssiSum:u.rssi??0,rssiCount:void 0!==u.rssi?1:0,snrSum:u.snr??0,snrCount:void 0!==u.snr?1:0,lastSeen:u.last_seen??0});const l=[];for(const c of a.values()){const t=Eg(c,s);t&&l.push(t)}return l.sort((t,e)=>e.count!==t.count?e.count-t.count:e.lastSeen-t.lastSeen),l}(n,Object.fromEntries(Object.entries(o).filter(([t])=>!i.has(t))),s.local_hash),a=e().quickNeighbors;(r.length!==a.length||r.some((t,e)=>{var n,s;return t.hash!==(null==(n=a[e])?void 0:n.hash)||t.count!==(null==(s=a[e])?void 0:s.count)}))&&(t({quickNeighbors:r}),Lg(r))},triggerSparklineCompute:()=>{const{packets:t,stats:n,hiddenContacts:s}=e();if(0===t.length||!n)return;const i=n.neighbors??{},o=Object.keys(i).filter(t=>!s.has(t));0!==o.length&&Of.compute(t,o)},requestSevenDayData:async()=>{await If.loadSevenDays(()=>{const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:[...n],lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}});const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:[...n],lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}},requestThreeDayData:async()=>{await If.loadThreeDays(()=>{const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:[...n],lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}});const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:[...n],lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}},requestFourteenDayData:async()=>{await If.loadFourteenDays(()=>{const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:[...n],lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}});const n=If.getPackets();if(n.length>0){const s=n.reduce((t,e)=>Math.max(t,e.timestamp??0),0);t({packets:[...n],lastPacketTimestamp:s}),e().triggerTopologyCompute(),e().triggerSparklineCompute()}},setGlobalTimeRange:n=>{t({globalTimeRangeIndex:n}),function(t){if("undefined"!=typeof window)try{localStorage.setItem(bg,t.toString())}catch{}}(n);const s={0:1,1:1,2:3,3:12,4:24,5:72,6:168,7:336}[n]??24;zf.setTimeWindow(s);const{packetCacheState:i,requestThreeDayData:o,requestSevenDayData:r,requestFourteenDayData:a,triggerTopologyCompute:l,triggerSparklineCompute:c}=e();let u=!1;5!==n||i.threeDayLoadComplete||i.isBackgroundLoading||(o(),u=!0),6!==n||i.sevenDayLoadComplete||i.isBackgroundLoading||(r(),u=!0),7!==n||i.fourteenDayLoadComplete||i.isBackgroundLoading||(a(),u=!0),!u&&n>=5&&(l(),c())}})),Bg=_g,Vg=()=>_g(t=>t.stats),Og=()=>_g(t=>t.statsError),zg=()=>_g(t=>t.packets),$g=()=>_g(t=>t.packetsLoading),Wg=()=>_g(t=>t.logs),Ug=()=>_g(t=>t.logsLoading),Hg=()=>_g(t=>t.liveMode),Yg=()=>_g(t=>t.fetchLogs),qg=()=>_g(t=>t.setLiveMode),Gg=()=>_g(t=>t.resourceHistory),Xg=()=>_g(t=>t.addResourceDataPoint),Kg=()=>_g(t=>t.hiddenContacts),Jg=()=>_g(t=>t.hideContact),Zg=()=>_g(t=>t.packetCacheState),Qg=()=>_g(t=>t.triggerDeepAnalysis),ty=()=>_g(t=>t.quickNeighbors),ey=()=>_g(t=>t.cachedLocalHash),ny=()=>_g(t=>t.lastPacketTimestamp),sy=()=>_g(t=>t.globalTimeRangeIndex),iy=()=>_g(t=>t.setGlobalTimeRange),oy=()=>_g(t=>null!==t.stats&&t.packetCacheState.backgroundLoadComplete);function ry(){const t=_g(t=>{var e,n,s;return null==(s=null==(n=null==(e=t.stats)?void 0:e.config)?void 0:n.repeater)?void 0:s.latitude}),e=_g(t=>{var e,n,s;return null==(s=null==(n=null==(e=t.stats)?void 0:e.config)?void 0:n.repeater)?void 0:s.longitude}),n=_g(t=>{var e,n,s;return(null==(n=null==(e=t.stats)?void 0:e.config)?void 0:n.node_name)||(null==(s=t.stats)?void 0:s.node_name)||"Local Node"}),s=ng(t=>t.latitude),i=ng(t=>t.longitude),o=ng(t=>t.enabled);return t&&e&&(0!==t||0!==e)?{latitude:t,longitude:e,name:n,isStealth:!1}:o&&null!==s&&null!==i?{latitude:s,longitude:i,name:n,isStealth:!0}:null}const ay={rx:{p3:"color(display-p3 0.2 1 0.4)",fallback:"#00FF66"},tx:{p3:"color(display-p3 1 0.9 0.2)",fallback:"#FFDD00"}};function ly({showLabel:t=!1,className:e}){var i;const r=_g(t=>t.flashReceived),a=_g(t=>t.flashAdvert),l=Hf(t=>"connected"===t.connectionState),[c,u]=n.useState("idle"),d=n.useRef(0),h=n.useRef(0);n.useEffect(()=>{if(r<=0)return;const t=Date.now();if(t-d.current<50)return;d.current=t,u("rx");const e=setTimeout(()=>u("idle"),100);return()=>clearTimeout(e)},[r]),n.useEffect(()=>{if(a<=0)return;const t=Date.now();if(t-h.current<50)return;h.current=t,u("tx");const e=setTimeout(()=>u("idle"),100);return()=>clearTimeout(e)},[a]);const p="rx"===c?ay.rx:"tx"===c?ay.tx:null;return s.jsxs("span",{className:o("inline-flex items-center gap-2",e),title:l?"Real-time (WebSocket)":"Database polling",children:[s.jsx("span",{className:"inline-flex rounded-full w-1.5 h-1.5",style:p?{backgroundColor:p.fallback,...(null==(i=CSS.supports)?void 0:i.call(CSS,"color","color(display-p3 1 1 1)"))&&{backgroundColor:p.p3}}:{backgroundColor:"var(--livedot-idle)"}}),t&&s.jsx("span",{className:"type-data-xs text-text-muted uppercase tracking-wide",children:l?"Live":"DB"})]})}function cy({borderRadius:t}){return s.jsx(Jp.div,{initial:{opacity:0},animate:{opacity:.8,backgroundPosition:["200% 0%","-200% 0%"]},exit:{opacity:0},transition:{opacity:{duration:.2},backgroundPosition:{duration:2,ease:"easeInOut",repeat:1/0}},style:{position:"absolute",inset:0,zIndex:1,pointerEvents:"none",borderRadius:t,padding:2,background:"linear-gradient(\n          90deg,\n          transparent 0%,\n          transparent 25%,\n          var(--accent-primary) 50%,\n          transparent 75%,\n          transparent 100%\n        )",backgroundSize:"200% 100%",mask:"\n          linear-gradient(#fff 0 0) content-box,\n          linear-gradient(#fff 0 0)\n        ",maskComposite:"exclude",WebkitMaskComposite:"xor"}})}function uy({children:t,isLoading:e=!0,className:n,borderRadius:i=12}){return s.jsxs("div",{className:o("relative overflow-hidden",n),style:{borderRadius:i},children:[s.jsx(_h,{children:e&&s.jsx(cy,{borderRadius:i})}),s.jsx("div",{className:"relative z-10",children:t})]})}function dy({className:t}){return s.jsx("div",{className:o("relative w-10 h-1 rounded-sm overflow-hidden","bg-bg-elevated",t),children:s.jsx(Jp.div,{animate:{backgroundPosition:["200% 0%","-200% 0%"]},transition:{duration:1.5,ease:"easeInOut",repeat:1/0},className:"absolute inset-0",style:{background:"linear-gradient(\n            90deg,\n            transparent 0%,\n            var(--accent-primary) 50%,\n            transparent 100%\n          )",backgroundSize:"200% 100%"}})})}const hy=v(t=>({sparklines:new Map,isComputing:!1,lastUpdated:0,nodeCount:0,setSparklines:e=>t({sparklines:e,lastUpdated:Date.now(),nodeCount:e.size,isComputing:!1}),setComputing:e=>t({isComputing:e})}));"undefined"!=typeof window&&setTimeout(()=>{Of.subscribe((t,e)=>{const n=hy.getState();e&&!n.isComputing?n.setComputing(!0):!e&&t.size>0?n.setSparklines(t):!e&&n.isComputing&&n.setComputing(!1)})},0);const py=()=>hy(t=>t.isComputing),my=[],fy=new Map;function gy(t){return hy(e=>{const n=e.sparklines.get(t);if(!n||0===n.length)return my;const s=fy.get(t);return s===n?s:(fy.set(t,n),n)})}const yy=v(t=>({topology:{edges:[],validatedEdges:[],weakEdges:[],certainEdges:[],uncertainEdges:[],edgeMap:new Map,maxPacketCount:0,maxCertainCount:0,neighborAffinity:new Map,fullAffinity:new Map,localPrefix:null,centrality:new Map,hubNodes:[],gatewayNodes:[],loops:[],loopEdgeKeys:new Set,txDelayRecommendations:new Map,pathRegistry:Bf(),edgeBetweenness:new Map,backboneEdges:[],nodeMobility:new Map,mobileNodes:[],pathHealth:[],lastHopNeighbors:[],disambiguationStats:{totalPrefixes:0,unambiguousPrefixes:0,collisionPrefixes:0,collisionRate:0,avgConfidence:0,lowConfidencePrefixes:[],highCollisionPrefixes:[],totalResolutions:0},discoveredNodes:[],viterbiStats:{totalPaths:0,pathsWithGhosts:0,avgPathCost:0,avgPathConfidence:0,observationOverrideCount:0,tracePacketsProcessed:0,pathPacketsProcessed:0,distantEdgesDiscovered:0,duplicateGroupsFound:0,duplicatePathsUnique:0,echolocationEdgesInferred:0},nodeMetrics:new Map,communityCount:0,backboneNodes:[]},isComputing:!1,lastComputeTimeMs:0,lastUpdated:0,setTopology:(e,n)=>t({topology:e,lastComputeTimeMs:n,lastUpdated:Date.now(),isComputing:!1}),setComputing:e=>t({isComputing:e})}));"undefined"!=typeof window&&Vf.subscribe((t,e)=>{yy.getState().setTopology(t,e)});const vy=()=>yy(t=>t.topology),xy=()=>yy(t=>t.topology.hubNodes),by=()=>yy(t=>t.topology.centrality),wy=()=>yy(t=>t.topology.fullAffinity);let ky=null,Sy=null,Ty=null,Cy=null;const My=()=>yy(t=>(t.topology.hubNodes!==Sy&&(Sy=t.topology.hubNodes,ky=new Set(t.topology.hubNodes)),ky)),Py=()=>yy(t=>t.topology.pathHealth),Ey=()=>yy(t=>t.topology.disambiguationStats),jy=()=>yy(t=>t.topology.disambiguationStats.highCollisionPrefixes),Ly=()=>yy(t=>t.topology.disambiguationStats.totalPrefixes>0),Ay=()=>yy(t=>t.topology.discoveredNodes),Dy=()=>yy(t=>t.topology.viterbiStats),Ny=()=>yy(t=>(t.topology.discoveredNodes!==Cy&&(Cy=t.topology.discoveredNodes,Ty=t.topology.discoveredNodes.filter(t=>t.isLikelyReal)),Ty)),Ry=()=>yy(t=>t.topology.nodeMetrics);function Fy(t){if(t<60)return`${Math.floor(t)}s`;const e=Math.floor(t/86400),n=Math.floor(t%86400/3600),s=Math.floor(t%3600/60),i=[];return e>0&&i.push(`${e}d`),n>0&&i.push(`${n}h`),(s>0||0===i.length)&&i.push(`${s}m`),i.join(" ")}function Iy(t){const e=Date.now()/1e3-t;return e<60?"just now":e<3600?`${Math.floor(e/60)}m ago`:e<86400?`${Math.floor(e/3600)}h ago`:`${Math.floor(e/86400)}d ago`}function _y(t){return new Date(1e3*t).toLocaleString()}function By(t){const e=new Date(1e3*t);return`${e.toLocaleString("en-US",{month:"short"})} ${e.getDate()}, ${e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}`}function Vy(t){return new Date(1e3*t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Oy(t){return`${(t/1e6).toFixed(3)} MHz`}function zy(t){return`${(t/1e3).toFixed(1)} kHz`}function $y(t){const e=t>1e12?t:1e3*t,n=Date.now(),s=Math.abs(n-e),i=Math.floor(s/1e3),o=Math.floor(i/60),r=Math.floor(o/60),a=Math.floor(r/24);return a>0?`${a} day${1!==a?"s":""}`:r>0?`${r} hour${1!==r?"s":""}`:o>0?`${o} minute${1!==o?"s":""}`:`${i} second${1!==i?"s":""}`}function Wy(t){t<0&&(t=0);const e=Math.floor(t/1e3),n=Math.floor(e/60),s=Math.floor(n/60);if(s>0){const t=n%60;return t>0?`${s}h ${t}m`:`${s}h`}if(n>0){const t=e%60;return t>0?`${n}m ${t}s`:`${n}m`}if(e>0){const n=t%1e3;return n>0?`${e}.${Math.floor(n/100)}s`:`${e}s`}return`${t}ms`}const Uy=[{name:"Dashboard",to:"/",icon:Do},{name:"Contacts",to:"/contacts",icon:Fo},{name:"Packets",to:"/packets",icon:No},{name:"Statistics",to:"/statistics",icon:Mo},{name:"MeshGraph",to:"/meshgraph",icon:Uo},{name:"System",to:"/system",icon:Lo},{name:"Logs",to:"/logs",icon:jo},{name:"Terminal",to:"/terminal",icon:Wo},{name:"Configuration",to:"/configuration",icon:zo}],Hy="pymc-controls-expanded",Yy=()=>{if("undefined"==typeof window)return!0;const t=localStorage.getItem(Hy);return null===t||"true"===t};function qy(){var t,e,i,r,a,l;const{pathname:c}=x(),{stats:u,setMode:d,setDutyCycle:h,sendAdvert:p}=Bg(),m=Zm(),f=_g(t=>t.prefetchForRoute),g=Zg(),y=_g(t=>t.packetCacheState.dataTier),v=py(),b=yy(t=>t.isComputing),w=Ny();let k=null;try{k=function(){const t=n.useContext(bm);if(!t)throw new Error("useSidebar must be used within a SidebarLayout");return t}()}catch{}const[S,T]=n.useState(!1),[C,M]=n.useState("idle"),[P,E]=n.useState(null),j=n.useRef(null),L=n.useCallback(t=>{t!==c&&(j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{f(t)},100))},[c,f]),A=n.useCallback(()=>{j.current&&(clearTimeout(j.current),j.current=null)},[]);n.useEffect(()=>{const t=new MutationObserver(()=>{const t=document.querySelector("[data-controls-disclosure]");if(t){const e="true"===t.getAttribute("aria-expanded");localStorage.setItem(Hy,String(e))}}),e=document.querySelector("[data-controls-disclosure]");return e&&t.observe(e,{attributes:!0,attributeFilter:["aria-expanded"]}),()=>t.disconnect()},[]);const D=null==u?void 0:u.noise_floor_dbm,N=(null==(e=null==(t=null==u?void 0:u.config)?void 0:t.repeater)?void 0:e.mode)??"forward",R=(null==(r=null==(i=null==u?void 0:u.config)?void 0:i.duty_cycle)?void 0:r.enforcement_enabled)??!1,F=(null==(l=null==(a=null==u?void 0:u.config)?void 0:a.duty_cycle)?void 0:l.max_airtime_percent)??10,I=g.isLoading||g.isBackgroundLoading||g.isTopologyLoading,_=I||v||b,B=g.loadProgress,V=()=>{null==k||k.close()};return s.jsxs(hm,{children:[s.jsxs(pm,{className:"px-5 py-6",children:[s.jsx("h1",{className:"sr-only",children:"pyMC Console"}),s.jsx(Nm,{responsive:!0,className:"block"}),s.jsxs("p",{className:"type-data-xs text-text-muted mt-1.5",children:["v",Am]})]}),s.jsxs(mm,{className:"py-4",children:[s.jsx(gm,{children:Uy.map(t=>{const e=c===t.to;return s.jsxs(ym,{href:t.to,current:e,onClick:V,onMouseEnter:()=>L(t.to),onMouseLeave:A,children:[s.jsx(t.icon,{}),s.jsx(vm,{children:t.name}),"/contacts"===t.to&&w.length>0&&s.jsxs(xm,{variant:"accent",children:[s.jsx(Ao,{className:"w-3 h-3"}),s.jsx("span",{children:w.length})]}),"/meshgraph"===t.to&&s.jsx(xm,{variant:"default",children:"Beta"})]},t.name)})}),_&&s.jsx("div",{className:"px-0 py-3",children:s.jsx(uy,{isLoading:I,borderRadius:12,children:s.jsxs("div",{className:"bg-glass-surface/50 rounded-xl p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-1 py-0.5",children:[s.jsxs("div",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-accent-primary"})]}),s.jsx("span",{className:"type-data-xs text-text-muted flex-1 truncate",children:g.isLoading&&B?"Loading 24h history...":g.isBackgroundLoading&&B?g.statusMessage||`Loading ${y} history...`:g.isTopologyLoading?"Loading topology data...":v?"Computing sparklines":b?"Building topology":"Analyzing database"}),null!==(null==B?void 0:B.percent)&&void 0!==(null==B?void 0:B.percent)&&I&&s.jsxs("span",{className:"type-data-xs text-text-muted tabular-nums",children:[B.percent,"%"]})]}),s.jsx("div",{className:"mt-1.5 h-1 bg-subtle-fill rounded-full overflow-hidden",children:null!==(null==B?void 0:B.percent)&&void 0!==(null==B?void 0:B.percent)&&I?s.jsx("div",{className:"h-full bg-accent-primary/60 rounded-full transition-all duration-300 ease-out",style:{width:`${B.percent}%`}}):s.jsx("div",{className:"h-full bg-accent-primary/40 rounded-full w-full"})}),!I&&s.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 px-1",children:[s.jsx("span",{className:"type-micro text-text-muted",children:"Data:"}),s.jsx("span",{className:"type-data-xs text-accent-primary",children:(t=>{switch(t){case"24h":return"24 hours";case"3d":return"3 days";case"7d":return"7 days";case"14d":return"14 days";default:return t}})(y)})]})]})})}),s.jsx("div",{className:"flex-1"}),s.jsx(Lm,{label:"Controls",icon:s.jsx($o,{className:"w-5 h-5 text-accent-primary"}),defaultOpen:Yy(),direction:"up",dataId:"controls",children:s.jsxs("div",{className:"flex flex-col gap-2 px-1",children:[s.jsx(xo,{color:"success"===C?"success":"error"===C?"danger":"primary",onClick:async()=>{T(!0),M("idle"),E(null);const t=await p();T(!1),t.success?(M("success"),setTimeout(()=>M("idle"),1500)):(M("error"),E(t.error||"Failed to send"),setTimeout(()=>{M("idle"),E(null)},3e3))},disabled:S,className:"w-full justify-center",children:S?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{"data-slot":"icon",className:"animate-spin",viewBox:"0 0 24 24",fill:"none",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"success"===C?s.jsxs(s.Fragment,{children:[s.jsx("svg",{"data-slot":"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:s.jsx("polyline",{points:"20 6 9 17 4 12"})}),"Sent!"]}):"error"===C?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{"data-slot":"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Failed"]}):s.jsxs(s.Fragment,{children:[s.jsx(Oo,{"data-slot":"icon"}),"Send Advert"]})}),P&&s.jsx("p",{className:"text-accent-danger text-xs text-center",children:P}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"text-xs text-text-muted",children:"Repeat"}),s.jsx("span",{className:o("text-xs font-medium","forward"===N?"text-accent-success":"text-accent-secondary"),children:"forward"===N?"ON":"OFF"})]}),s.jsx(xo,{color:"forward"===N?"success":"warning",onClick:()=>{d("forward"===N?"monitor":"forward")},className:"w-full justify-center",children:"forward"===N?s.jsxs(s.Fragment,{children:[s.jsx(Bo,{"data-slot":"icon"}),"Repeating"]}):s.jsxs(s.Fragment,{children:[s.jsx(_o,{"data-slot":"icon"}),"Monitor Only"]})}),s.jsxs("div",{className:"flex items-center justify-between gap-2 mt-1",children:[s.jsx("span",{className:"text-xs text-text-muted",children:"Duty Cycle"}),s.jsx("span",{className:o("text-xs font-medium tabular-nums",R?"text-accent-secondary":"text-text-muted"),children:R?`${F}%`:"OFF"})]}),s.jsxs(xo,{color:R?"warning":"muted",onClick:()=>{h(!R)},className:"w-full justify-center",children:[s.jsx(Lo,{"data-slot":"icon"}),R?`Limited to ${F}%`:"Disabled"]})]})})]}),s.jsxs(fm,{children:[void 0!==(null==u?void 0:u.uptime_seconds)&&s.jsxs("div",{className:"px-6 py-3 flex items-center gap-3",children:[s.jsx(Eo,{className:"w-5 h-5 text-text-muted flex-shrink-0"}),s.jsxs("span",{className:"type-data-xs text-text-secondary tabular-nums",children:[Fy(u.uptime_seconds)," uptime"]})]}),s.jsx("div",{className:"px-3 pb-3",children:s.jsx("div",{className:"bg-subtle-fill rounded-xl p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vo,{className:"w-4 h-4 text-accent-primary"}),s.jsx("span",{className:"type-data-xs text-text-muted",children:"Noise Floor"})]}),s.jsx("span",{className:"type-data text-text-primary tabular-nums",children:null!=D?`${D.toFixed(0)} dBm`:""})]})})}),s.jsxs("div",{className:"px-6 py-3 flex items-center gap-3 border-t border-border-subtle",children:[s.jsx(ly,{showLabel:!0}),(null==u?void 0:u.version)&&s.jsxs("span",{className:"type-data-xs text-text-muted truncate max-w-[140px]",title:`v${u.version}`,children:["v",u.version]})]}),s.jsx("div",{className:"px-3 pb-3",children:s.jsxs("button",{onClick:()=>{sf(),window.location.href="/login"},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-text-muted hover:text-accent-danger hover:bg-accent-danger/10 transition-all duration-150",children:[s.jsx(Ro,{className:"w-4 h-4"}),s.jsx("span",{className:"type-body-sm",children:"Sign Out"}),m&&s.jsxs("span",{className:"ml-auto type-data-xs text-text-muted",children:["(",m,")"]})]})})]})]})}function Gy(){const t=Zg(),e=t.isLoading||t.isBackgroundLoading||t.isTopologyLoading;return s.jsxs(Tm,{children:[s.jsxs(Cm,{children:[s.jsx("h1",{className:"sr-only",children:"pyMC Console"}),s.jsx(Nm,{height:26,className:"block"}),e&&s.jsx(dy,{className:"ml-2"})]}),s.jsx(Mm,{}),s.jsxs(Cm,{children:[s.jsxs("p",{className:"type-data-xs text-text-muted",children:["v",Am]}),s.jsx(ly,{})]})]})}const Xy=n.memo(function(){const{theme:t}=Ji(),{backgroundImage:e,brightness:n,colorScheme:i}=t,o=gt(i),r=(null==o?void 0:o.meta.backgroundImage)||null==o?void 0:o.meta.backgroundColor,a=(100-n)/100;return s.jsxs(s.Fragment,{children:[e?s.jsx("div",{className:"fixed inset-0 -z-20",style:{contain:"paint"},"aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-opacity duration-300 ease-out",style:{backgroundImage:`url(${e})`}})}):r?s.jsx("div",{className:"fixed inset-0 -z-20 transition-colors duration-300 ease-out",style:{backgroundColor:r,contain:"paint"},"aria-hidden":"true"}):null,s.jsx("div",{className:"fixed inset-0 -z-10 bg-black pointer-events-none transition-opacity duration-200 ease-out",style:{opacity:a,contain:"paint"},"aria-hidden":"true"})]})}),Ky=20,Jy=12,Zy=n.createContext(null);function Qy({children:t}){const[e,i]=n.useState({content:null,mouseX:0,mouseY:0,visible:!1}),o=n.useRef(null),[r,a]=n.useState({x:0,y:0}),l=n.useCallback((t,e,n)=>{i({content:t,mouseX:e,mouseY:n,visible:!0})},[]),c=n.useCallback(()=>{i(t=>({...t,visible:!1}))},[]),u=n.useCallback((t,e)=>{i(n=>n.visible?{...n,mouseX:t,mouseY:e}:n)},[]);n.useEffect(()=>{if(!e.visible||!o.current)return;const t=o.current.getBoundingClientRect(),{mouseX:n,mouseY:s}=e,i=window.innerWidth,r=window.innerHeight;let l,c;l=n+Ky+t.width+Jy>i?n-Ky-t.width:n+Ky,l=Math.max(Jy,Math.min(l,i-t.width-Jy)),c=s-Ky-t.height<Jy?s+Ky:s-Ky-t.height,c=Math.max(Jy,Math.min(c,r-t.height-Jy)),a({x:l,y:c})},[e.visible,e.mouseX,e.mouseY]);const d={show:l,hide:c,updatePosition:u};return s.jsxs(Zy.Provider,{value:d,children:[t,m.createPortal(s.jsx("div",{ref:o,role:"tooltip",className:`\n            fixed z-[9999] pointer-events-none\n            px-3 py-2 rounded-lg\n            bg-bg-elevated border border-border-subtle shadow-lg\n            text-xs text-text-primary leading-relaxed\n            transition-opacity duration-150\n            ${e.visible?"opacity-100":"opacity-0"}\n          `,style:{left:r.x,top:r.y,visibility:e.visible?"visible":"hidden"},children:e.content}),document.body)]})}function tv({content:t,children:e,delay:i=150}){const{show:o,hide:r,updatePosition:a}=function(){const t=n.useContext(Zy);if(!t)throw new Error("useTooltipContext must be used within TooltipProvider");return t}(),l=n.useRef(null),c=n.useRef(null),u=n.useRef(!1),d=()=>{c.current&&(clearTimeout(c.current),c.current=null)},h=n.useCallback(e=>{d(),c.current=setTimeout(()=>{u.current=!0,o(t,e.clientX,e.clientY)},i)},[o,t,i]),p=n.useCallback(t=>{u.current&&a(t.clientX,t.clientY)},[a]),m=n.useCallback(()=>{d(),u.current=!1,r()},[r]),f=n.useCallback(()=>{if(d(),!l.current)return;const e=l.current.getBoundingClientRect();c.current=setTimeout(()=>{u.current=!0,o(t,e.left+e.width/2,e.top)},i)},[o,t,i]),g=n.useCallback(()=>{d(),u.current=!1,r()},[r]);return n.useEffect(()=>()=>{d(),u.current&&(u.current=!1,r())},[r]),n.useEffect(()=>{const t=()=>{u.current&&(d(),u.current=!1,r())};return document.addEventListener("click",t,!0),()=>document.removeEventListener("click",t,!0)},[r]),s.jsx("span",{ref:l,onMouseEnter:h,onMouseMove:p,onMouseLeave:m,onFocus:f,onBlur:g,className:"contents",children:e})}function ev({className:t=""}){return s.jsx("div",{className:`bg-white/5 animate-pulse rounded-lg ${t}`,"aria-hidden":"true"})}function nv(){return s.jsxs("div",{className:"section-gap","aria-label":"Loading dashboard",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ev,{className:"h-8 w-48"}),s.jsx(ev,{className:"h-8 w-32"})]}),s.jsx(ev,{className:"h-72"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:Array.from({length:8}).map((t,e)=>s.jsx(ev,{className:"h-24"},e))}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Array.from({length:4}).map((t,e)=>s.jsx(ev,{className:"h-44"},e))}),s.jsx(ev,{className:"h-96"})]})}function sv(){return s.jsxs("div",{className:"section-gap","aria-label":"Loading list",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ev,{className:"h-8 w-40"}),s.jsx(ev,{className:"h-8 w-24"})]}),s.jsx(ev,{className:"h-20"}),s.jsxs("div",{className:"glass-card overflow-hidden",children:[s.jsx(ev,{className:"h-10 rounded-none"}),s.jsx("div",{className:"divide-y divide-border-subtle/30",children:Array.from({length:10}).map((t,e)=>s.jsx("div",{className:"px-4 py-3",children:s.jsx(ev,{className:"h-6"})},e))})]})]})}function iv(){return s.jsxs("div",{className:"section-gap","aria-label":"Loading map",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ev,{className:"h-8 w-32"}),s.jsx(ev,{className:"h-6 w-48"})]}),s.jsx(ev,{className:"h-[500px]"}),s.jsx(ev,{className:"h-64"})]})}function ov(){return s.jsxs("div",{className:"section-gap","aria-label":"Loading charts",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ev,{className:"h-8 w-36"}),s.jsx(ev,{className:"h-8 w-40"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx(ev,{className:"h-80"}),s.jsx(ev,{className:"h-80"})]}),s.jsx(ev,{className:"h-64"})]})}function rv(){return s.jsxs("div",{className:"section-gap","aria-label":"Loading settings",children:[s.jsx(ev,{className:"h-8 w-32"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ev,{className:"h-48"}),s.jsx(ev,{className:"h-64"}),s.jsx(ev,{className:"h-32"})]})]})}function av(){return s.jsxs("div",{className:"section-gap","aria-label":"Loading system info",children:[s.jsx(ev,{className:"h-8 w-28"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Array.from({length:4}).map((t,e)=>s.jsx(ev,{className:"h-28"},e))}),s.jsx(ev,{className:"h-64"}),s.jsx(ev,{className:"h-48"})]})}const lv={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:400,damping:15}},exit:{opacity:0,scale:.9,transition:{duration:.15}}},cv={hidden:{opacity:0,y:"100%"},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:400,damping:30}},exit:{opacity:0,y:"100%",transition:{duration:.3,ease:um.easeIn}}},uv={initial:{opacity:0,y:8},animate:{opacity:1,y:0,transition:{duration:.3,ease:um.cubicInOut}},exit:{opacity:0,y:-8,transition:{duration:.15,ease:um.easeIn}}};function dv({children:t,layoutKey:e}){return function(){!iu.current&&ru();const[t]=n.useState(su.current);return t}()?s.jsx(s.Fragment,{children:t}):s.jsx(Jp.div,{initial:"initial",animate:"animate",exit:"exit",variants:uv,children:t},e)}const hv=n.lazy(()=>g(()=>import("./Login-DXjt9Iqr.js"),__vite__mapDeps([0,1,2]))),pv=n.lazy(()=>g(()=>import("./Dashboard-BMu2lsmE.js"),__vite__mapDeps([3,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,2,21,22,23,24,25]))),mv=n.lazy(()=>g(()=>import("./Packets-BckQF_j_.js"),__vite__mapDeps([26,1,10,6,7,8,9,11,12,13,14,15,16,17,18,19,4,27,5,28,24,2]))),fv=n.lazy(()=>g(()=>import("./Contacts-BpQYAdOo.js").then(t=>t.C),__vite__mapDeps([29,1,30,5,31,15,20,17,14,10,27,32,13,18,8,33,34,2,35,36,12,37]))),gv=n.lazy(()=>g(()=>import("./Statistics-DbSx_Aiw.js"),__vite__mapDeps([38,1,39,4,16,40,21,5,10,33,34,2,15,13,24,41,31,25,36,37]))),yv=n.lazy(()=>g(()=>import("./MeshGraph-CEdJeDV3.js"),__vite__mapDeps([42,1,43,10,31,19,12,35,14,36,2]))),vv=n.lazy(()=>g(()=>import("./MeshGraphLabelTest-9eHpdChw.js"),__vite__mapDeps([44,1,12,2]))),xv=n.lazy(()=>g(()=>import("./System-mWTlAbJe.js"),__vite__mapDeps([45,1,4,5,28,25,24,17,9,36,15,2]))),bv=n.lazy(()=>g(()=>import("./Logs-CFyrpacO.js"),__vite__mapDeps([46,1,39,5,24,2]))),wv=n.lazy(()=>g(()=>import("./Terminal-BNIQsspb.js"),__vite__mapDeps([47,1,30,2,7,5]))),kv=n.lazy(()=>g(()=>import("./Configuration-CYWjfUSY.js"),__vite__mapDeps([48,1,32,15,49,23,5,10,24,12,41,25,18,28,11,2])));function Sv({children:t}){const e=x();return qm()?s.jsx(s.Fragment,{children:t}):s.jsx(k,{to:"/login",state:{from:e},replace:!0})}class Tv extends n.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){var t;return this.state.hasError?s.jsxs("div",{className:"glass-card p-8 text-center",children:[s.jsx("p",{className:"type-subheading text-accent-red mb-2",children:"Page failed to render"}),s.jsx("p",{className:"type-body text-white/50 mb-4",children:(null==(t=this.state.error)?void 0:t.message)||"Unknown error"}),s.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-accent-primary/20 text-accent-primary rounded-lg hover:bg-accent-primary/30 transition-colors",children:"Try Again"})]}):this.props.children}}function Cv(){const t=_g(t=>t.initializeApp),e=qm();return n.useEffect(()=>{if(!e)return;t();const n=setInterval(()=>{nf()},3e4);return nf(),rf(),()=>clearInterval(n)},[t,e]),s.jsxs(Qy,{children:[s.jsx(Xy,{}),s.jsxs(b,{children:[s.jsx(w,{path:"/login",element:s.jsx(n.Suspense,{fallback:s.jsx("div",{className:"min-h-screen bg-bg-body"}),children:s.jsx(hv,{})})}),s.jsx(w,{path:"/meshgraph-label-test",element:s.jsx(n.Suspense,{fallback:s.jsx("div",{className:"min-h-screen bg-black"}),children:s.jsx(vv,{})})}),s.jsx(w,{path:"/*",element:s.jsx(Sv,{children:s.jsx(Sm,{sidebar:s.jsx(qy,{}),navbar:s.jsx(Gy,{}),children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pt-5 pb-4 sm:pb-6 lg:pb-8 max-w-7xl mx-auto",children:s.jsx(Tv,{children:s.jsxs(b,{children:[s.jsx(w,{path:"/",element:s.jsx(n.Suspense,{fallback:s.jsx(nv,{}),children:s.jsx(dv,{children:s.jsx(pv,{})})})}),s.jsx(w,{path:"/packets",element:s.jsx(n.Suspense,{fallback:s.jsx(sv,{}),children:s.jsx(dv,{children:s.jsx(mv,{})})})}),s.jsx(w,{path:"/contacts",element:s.jsx(n.Suspense,{fallback:s.jsx(iv,{}),children:s.jsx(dv,{children:s.jsx(fv,{})})})}),s.jsx(w,{path:"/statistics",element:s.jsx(n.Suspense,{fallback:s.jsx(ov,{}),children:s.jsx(dv,{children:s.jsx(gv,{})})})}),s.jsx(w,{path:"/meshgraph",element:s.jsx(n.Suspense,{fallback:s.jsx(ov,{}),children:s.jsx(dv,{children:s.jsx(yv,{})})})}),s.jsx(w,{path:"/system",element:s.jsx(n.Suspense,{fallback:s.jsx(av,{}),children:s.jsx(dv,{children:s.jsx(xv,{})})})}),s.jsx(w,{path:"/logs",element:s.jsx(n.Suspense,{fallback:s.jsx(sv,{}),children:s.jsx(dv,{children:s.jsx(bv,{})})})}),s.jsx(w,{path:"/terminal",element:s.jsx(n.Suspense,{fallback:s.jsx(sv,{}),children:s.jsx(dv,{children:s.jsx(wv,{})})})}),s.jsx(w,{path:"/configuration",element:s.jsx(n.Suspense,{fallback:s.jsx(rv,{}),children:s.jsx(dv,{children:s.jsx(kv,{})})})})]})})})})})})]})]})}const Mv=console.warn;console.warn=(...t)=>{const e=t[0];if("string"==typeof e){if(e.includes("width")&&e.includes("height")&&e.includes("chart should be greater than 0"))return;if(e.includes("Unable to load glyph range"))return}Mv.apply(console,t)},f.createRoot(document.getElementById("root")).render(s.jsx(n.StrictMode,{children:s.jsx(Ki,{children:s.jsx(S,{children:s.jsx(Cv,{})})})}));export{Va as $,_h as A,po as B,Po as C,rg as D,to as E,dg as F,xo as G,Pr as H,nu as I,Gh as J,qo as K,ly as L,Ph as M,lc as N,wc as O,Nm as P,hc as Q,Vo as R,cg as S,tv as T,_c as U,yu as V,Sa as W,Ho as X,Zo as Y,pc as Z,Qa as _,dm as a,Mo as a$,Za as a0,Vl as a1,ur as a2,lr as a3,Qc as a4,tu as a5,ed as a6,qu as a7,au as a8,zd as a9,Py as aA,Dy as aB,Ao as aC,$y as aD,gy as aE,py as aF,jy as aG,Bg as aH,Jg as aI,xy as aJ,by as aK,ry as aL,Iy as aM,P as aN,M as aO,gt as aP,Ui as aQ,hf as aR,pf as aS,qi as aT,Ji as aU,Ey as aV,Ly as aW,Ny as aX,Uo as aY,ag as aZ,ug as a_,xc as aa,Ka as ab,Xo as ac,ao as ad,Vy as ae,so as af,io as ag,og as ah,nm as ai,Oh as aj,_y as ak,Eo as al,Oo as am,My as an,wy as ao,Ay as ap,im as aq,am as ar,mo as as,Uu as at,Rh as au,Cr as av,Hd as aw,Wy as ax,By as ay,eo as az,cm as b,Qg as b0,vy as b1,Ry as b2,_o as b3,Bo as b4,cv as b5,Gg as b6,Xg as b7,wf as b8,kf as b9,ig as bA,no as bB,ey as bC,Kf as bD,uy as bE,lv as bF,hg as ba,Fy as bb,Wg as bc,Ug as bd,Yg as be,jo as bf,mg as bg,Am as bh,ff as bi,Tf as bj,Cf as bk,Mf as bl,Sf as bm,Pf as bn,Wo as bo,uf as bp,Pt as bq,Nt as br,ng as bs,zo as bt,$o as bu,Oy as bv,zy as bw,rm as bx,lm as by,If as bz,Co as c,$g as d,Hg as e,Vg as f,zm as g,ty as h,qm as i,Kg as j,sy as k,Qm as l,Jp as m,yf as n,ny as o,sg as p,Og as q,oy as r,$m as s,iy as t,zg as u,Zg as v,Uf as w,bf as x,qg as y,Qi as z};
