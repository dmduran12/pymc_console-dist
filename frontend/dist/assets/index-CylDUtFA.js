const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-qkMQrXs8.js","assets/recharts-CGff6_7g.js","assets/maplibre-gl-DsiI67my.js","assets/TimeRangeSelector-COWpqZUO.js","assets/PacketDetailModal-CyODg2k8.js","assets/SignalIndicator-BjDxWf6l.js","assets/HashBadge-CTAxN-Gl.js","assets/triangle-alert-BFXHkJUa.js","assets/circle-D-zPvD77.js","assets/trending-up-Crl55Pcw.js","assets/zap-CBQbQNHy.js","assets/PageLayout-Com69Ajh.js","assets/house-CqfQQFQV.js","assets/Packets-DmDlJKBx.js","assets/usePolling-9BR4yMYM.js","assets/users-Dq_Md6JI.js","assets/refresh-cw-O6setgEB.js","assets/Contacts-MBZsEaUa.js","assets/activity-BjSGn1T6.js","assets/Statistics-CTKpbczO.js","assets/info-CqYfnuqu.js","assets/System-C64dU0Df.js","assets/Logs-Ie0JKnoJ.js","assets/loader-circle-BeVz0YM3.js","assets/Terminal-Cxgo-Id7.js","assets/Settings-C1vzdsku.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);import{r as n,a,b as r,R as i,c as o}from"./recharts-CGff6_7g.js";import"./maplibre-gl-DsiI67my.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var s,l,c,u={exports:{}},d={},h=(l||(l=1,u.exports=function(){if(s)return d;s=1;var e=n(),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.t.ReactCurrentOwner,o={key:!0,ref:!0,i:!0,o:!0};function l(e,n,a){var s,l={},c=null,u=null;for(s in void 0!==a&&(c=""+a),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)r.call(n,s)&&!o.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:t,type:e,key:c,ref:u,props:l,l:i.current}}return d.Fragment=a,d.jsx=l,d.jsxs=l,d}()),u.exports),m={},f=function(){if(c)return m;c=1;var e=a();return m.createRoot=e.createRoot,m.hydrateRoot=e.hydrateRoot,m}(),p="popstate";function g(e,t){if(!1===e||null==e)throw new Error(t)}function y(e,t){if(!e)try{throw new Error(t)}catch(n){}}function v(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t,n=null,a){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?k(t):t,state:n,key:t&&t.key||a||Math.random().toString(36).substring(2,10)}}function w({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function x(e,t,n="/"){return function(e,t,n){let a=j(("string"==typeof t?k(t):t).pathname||"/",n);if(null==a)return null;let r=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let i=null;for(let o=0;null==i&&o<r.length;++o){let e=D(a);i=P(r[o],e,false)}return i}(e,t,n)}function N(e,t=[],n=[],a="",r=!1){let i=(e,i,o=r,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(a)&&o)return;g(l.relativePath.startsWith(a),`Absolute route path "${l.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(a.length)}let c=H([a,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(g(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),N(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:E(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let a of S(e.path))i(e,t,!0,a);else i(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===a.length)return r?[i,""]:[i];let o=S(a.join("/")),s=[];return s.push(...o.map(e=>""===e?i:[i,e].join("/"))),r&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var M=/^:[\w-]+$/,C=3,R=2,$=1,T=10,_=-2,L=e=>"*"===e;function E(e,t){let n=e.split("/"),a=n.length;return n.some(L)&&(a+=_),t&&(a+=R),n.filter(e=>!L(e)).reduce((e,t)=>e+(M.test(t)?C:""===t?$:T),a)}function P(e,t,n=!1){let{routesMeta:a}=e,r={},i="/",o=[];for(let s=0;s<a.length;++s){let e=a[s],l=s===a.length-1,c="/"===i?t:t.slice(i.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!a[a.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:H([i,u.pathname]),pathnameBase:B(H([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=H([i,u.pathnameBase]))}return o}function O(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t=!1,n=!0){y("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:a.reduce((e,{paramName:t,isOptional:n},a)=>{if("*"===t){let e=s[a]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const r=s[a];return e[t]=n&&!r?void 0:(r||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:o,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}var A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function F(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function I(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function z(e,t,n,a=!1){let r;"string"==typeof e?r=k(e):(r={...e},g(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),g(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),g(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let i,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!a&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t="/"){let n,{pathname:a,search:r="",hash:i=""}="string"==typeof e?k(e):e;if(a)if(o=a,A.test(o))n=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),y(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${a}`)}n=a.startsWith("/")?F(a.substring(1),"/"):F(a,t)}else n=t;var o;return{pathname:n,search:J(r),hash:q(i)}}(r,i),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var H=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function W(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V=["POST","PUT","PATCH","DELETE"];new Set(V);var Y=["GET",...V];new Set(Y);var K=r.createContext(null);K.displayName="DataRouter";var G=r.createContext(null);G.displayName="DataRouterState",r.createContext(!1);var Z=r.createContext({isTransitioning:!1});Z.displayName="ViewTransition",r.createContext(new Map).displayName="Fetchers",r.createContext(null).displayName="Await";var X=r.createContext(null);X.displayName="Navigation";var Q=r.createContext(null);Q.displayName="Location";var ee=r.createContext({outlet:null,matches:[],isDataRoute:!1});ee.displayName="Route";var te=r.createContext(null);function ne(){return null!=r.useContext(Q)}function ae(){return g(ne(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(Q).location}te.displayName="RouteError";var re="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ie(e){r.useContext(X).static||r.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=r.useContext(ee);return e?function(){let{router:e}=function(){let e=r.useContext(K);return g(e,me("useNavigate")),e}(),t=fe("useNavigate"),n=r.useRef(!1);return ie(()=>{n.current=!0}),r.useCallback(async(a,r={})=>{y(n.current,re),n.current&&("number"==typeof a?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...r}))},[e,t])}():function(){g(ne(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(K),{basename:t,navigator:n}=r.useContext(X),{matches:a}=r.useContext(ee),{pathname:i}=ae(),o=JSON.stringify(U(a)),s=r.useRef(!1);return ie(()=>{s.current=!0}),r.useCallback((a,r={})=>{if(y(s.current,re),!s.current)return;if("number"==typeof a)return void n.go(a);let l=z(a,JSON.parse(o),i,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:H([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)},[t,n,o,i,e])}()}function se(e,{relative:t}={}){let{matches:n}=r.useContext(ee),{pathname:a}=ae(),i=JSON.stringify(U(n));return r.useMemo(()=>z(e,JSON.parse(i),a,"path"===t),[e,i,a,t])}function le(e,t,n,a,i){var o;g(ne(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(X),{matches:l}=r.useContext(ee),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ge(d,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,p=ae();if(t){let e="string"==typeof t?k(t):t;g("/"===h||(null==(o=e.pathname)?void 0:o.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=p;let v=f.pathname||"/",b=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=x(e,{pathname:b});y(m||null!=w,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),y(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=function(e,t=[],n=null,a=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null==n?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));g(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}let c=n&&a?(e,t)=>{var r,i;a(e,{location:n.location,params:(null==(i=null==(r=n.matches)?void 0:r[0])?void 0:i.params)??{},unstable_pattern:W(n.matches),errorInfo:t})}:void 0;return i.reduceRight((e,a,u)=>{let d,h=!1,m=null,f=null;n&&(d=o&&a.route.id?o[a.route.id]:void 0,m=a.route.errorElement||ue,s&&(l<0&&0===u?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=a.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,u+1)),g=()=>{let t;return t=d?m:h?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(he,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?r.createElement(de,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:c}):g()},null)}(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:H([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:H([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,n,a);return t&&N?r.createElement(Q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},N):N}function ce(){let e=function(){var e;let t=r.useContext(te),n=function(){let e=r.useContext(G);return g(e,me("useRouteError")),e}(),a=fe("useRouteError");return void 0!==t?t:null==(e=n.errors)?void 0:e[a]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return s=r.createElement(r.Fragment,null,r.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,s)}r.createContext(null);var ue=r.createElement(ce,null),de=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t)}render(){return void 0!==this.state.error?r.createElement(ee.Provider,{value:this.props.routeContext},r.createElement(te.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function he({routeContext:e,match:t,children:n}){let a=r.useContext(K);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext.u=t.route.id),r.createElement(ee.Provider,{value:e},n)}function me(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fe(e){let t=function(e){let t=r.useContext(ee);return g(t,me(e)),t}(e),n=t.matches[t.matches.length-1];return g(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var pe={};function ge(e,t,n){t||pe[e]||(pe[e]=!0,y(!1,n))}function ye(e){g(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){g(!ne(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[l,i,o,s]);"string"==typeof n&&(n=k(n));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:f="default"}=n,p=r.useMemo(()=>{let e=j(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:m,key:f},navigationType:a}},[l,u,d,h,m,f,a]);return y(null!=p,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:r.createElement(X.Provider,{value:c},r.createElement(Q.Provider,{children:t,value:p}))}function be({children:e,location:t}){return le(we(e),t)}function we(e,t=[]){let n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let i=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,we(e.props.children,i));g(e.type===ye,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),g(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,i)),n.push(o)}),n}r.memo(function({routes:e,future:t,state:n,unstable_onError:a}){return le(e,void 0,n,a)});var ke="get",xe="application/x-www-form-urlencoded";function Ne(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}var Se=null,Me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||Me.has(e)?e:(y(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xe}"`),null)}function Re(e,t){if(!1===e||null==e)throw new Error(t)}function $e(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Te(e,t,n,a,r,i){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var a;return n[t].pathname!==e.pathname||(null==(a=n[t].route.path)?void 0:a.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{var l;let c=a.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof a)return a}return!0}):[]}function _e(){let e=r.useContext(K);return Re(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Le=r.createContext(void 0);function Ee(){let e=r.useContext(Le);return Re(e,"You must render this element inside a <HydratedRouter> element"),e}function Pe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Oe({page:e,...t}){let{router:n}=_e(),a=r.useMemo(()=>x(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?r.createElement(De,{page:e,matches:a,...t}):null}function De({page:e,matches:t,...n}){let a=ae(),{manifest:i,routeModules:o}=Ee(),{basename:s}=_e(),{loaderData:l,matches:c}=function(){let e=r.useContext(G);return Re(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),u=r.useMemo(()=>Te(e,t,c,i,a,"data"),[e,t,c,i,a]),d=r.useMemo(()=>Te(e,t,c,i,a,"assets"),[e,t,c,i,a]),h=r.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let n=new Set,r=!1;if(t.forEach(e=>{var t;let a=i.routes[e.route.id];a&&a.hasLoader&&(!u.some(t=>t.route.id===e.route.id)&&e.route.id in l&&(null==(t=o[e.route.id])?void 0:t.shouldRevalidate)||a.hasClientLoader?r=!0:n.add(e.route.id))}),0===n.size)return[];let c=function(e,t,n){let a="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname=`_root.${n}`:t&&"/"===j(a.pathname,t)?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}(e,s,"data");return r&&n.size>0&&c.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[s,l,a,i,u,t,e,o]),m=r.useMemo(()=>function(e,t,{includeHydrateFallback:n}={}){return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1),[...new Set(a)];var a}(d,i),[d,i]),f=function(e){let{manifest:t,routeModules:n}=Ee(),[a,i]=r.useState([]);return r.useEffect(()=>{let a=!1;return async function(e,t,n){return function(e){let t=new Set;return new Set(void 0),e.reduce((e,n)=>{let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}(n));return t.has(a)||(t.add(a),e.push({key:a,link:n})),e},[])}((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(a,n);return e.links?e.links():[]}return[]}))).flat(1).filter($e).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{a||i(e)}),()=>{a=!0}},[e,t,n]),a}(d);return r.createElement(r.Fragment,null,h.map(e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),m.map(e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),f.map(({key:e,link:t})=>r.createElement("link",{key:e,nonce:n.nonce,...t})))}function je(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Le.displayName="FrameworkContext";var Ae="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Ae&&(window.__reactRouterVersion="7.10.1")}catch(Ua){}function Fe({basename:e,children:t,unstable_useTransitions:n,window:a}){let i=r.useRef();null==i.current&&(i.current=function(e={}){return function(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,s="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function h(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),g(n,"No window.location.(origin|href) available to create URL");let a="string"==typeof e?e:w(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}(e)}null==c&&(c=0,o.replaceState({...o.state,idx:c},""));let m={get action(){return s},get location(){return e(r,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(p,d),l=e,()=>{r.removeEventListener(p,d),l=null}},createHref:e=>t(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let n=b(m.location,e,t);c=u()+1;let a=v(n,c),d=m.createHref(n);try{o.pushState(a,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(d)}i&&l&&l({action:s,location:m.location,delta:1})},replace:function(e,t){s="REPLACE";let n=b(m.location,e,t);c=u();let a=v(n,c),r=m.createHref(n);o.replaceState(a,"",r),i&&l&&l({action:s,location:m.location,delta:0})},go:e=>o.go(e)};return m}(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return b("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:w(t)},0,e)}({window:a,v5Compat:!0}));let o=i.current,[s,l]=r.useState({action:o.action,location:o.location}),c=r.useCallback(e=>{!1===n?l(e):r.startTransition(()=>l(e))},[n]);return r.useLayoutEffect(()=>o.listen(c),[o,c]),r.createElement(ve,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:!0===n})}var Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=r.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},m){let f,{basename:p,unstable_useTransitions:v}=r.useContext(X),b="string"==typeof c&&Ie.test(c),k=!1;if("string"==typeof c&&b&&(f=c,Ae))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=j(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:k=!0}catch(Ua){y(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=function(e,{relative:t}={}){g(ne(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(X),{hash:i,pathname:o,search:s}=se(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:H([n,o])),a.createHref({pathname:l,search:s,hash:i})}(c,{relative:a}),[N,S,M]=function(e,t){let n=r.useContext(Le),[a,i]=r.useState(!1),[o,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,m=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let f=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?"intent"!==e?[o,m,{}]:[o,m,{onFocus:Pe(l,f),onBlur:Pe(c,p),onMouseEnter:Pe(u,f),onMouseLeave:Pe(d,p),onTouchStart:Pe(h,f)}]:[!1,m,{}]}(n,h),C=function(e,{target:t,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s,unstable_useTransitions:l}={}){let c=oe(),u=ae(),d=se(e,{relative:o});return r.useCallback(h=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(h,t)){h.preventDefault();let t=void 0!==n?n:w(u)===w(d),m=()=>c(e,{replace:t,state:a,preventScrollReset:i,relative:o,viewTransition:s});l?r.startTransition(()=>m()):m()}},[u,c,d,n,a,t,e,i,o,s,l])}(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:a,viewTransition:d,unstable_useTransitions:v}),R=r.createElement("a",{...h,...M,href:f||x,onClick:k||i?e:function(t){e&&e(t),t.defaultPrevented||C(t)},ref:je(m,S),target:l,"data-discover":b||"render"!==t?void 0:"true"});return N&&!b?r.createElement(r.Fragment,null,R,r.createElement(Oe,{page:x})):R});function ze(e){let t=r.useContext(K);return g(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Ue.displayName="Link",r.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:s,children:l,...c},u){let d=se(o,{relative:c.relative}),h=ae(),m=r.useContext(G),{navigator:f,basename:p}=r.useContext(X),y=null!=m&&function(e,{relative:t}={}){let n=r.useContext(Z);g(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ze("useViewTransitionState"),i=se(e,{relative:t});if(!n.isTransitioning)return!1;let o=j(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=j(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=O(i.pathname,s)||null!=O(i.pathname,o)}(d)&&!0===s,v=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,b=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(b=b.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&p&&(w=j(w,p)||w);const k="/"!==v&&v.endsWith("/")?v.length-1:v.length;let x,N=b===v||!a&&b.startsWith(v)&&"/"===b.charAt(k),S=null!=w&&(w===v||!a&&w.startsWith(v)&&"/"===w.charAt(v.length)),M={isActive:N,isPending:S,isTransitioning:y},C=N?e:void 0;x="function"==typeof n?n(M):[n,N?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R="function"==typeof i?i(M):i;return r.createElement(Ue,{...c,"aria-current":C,className:x,ref:u,style:R,to:o,viewTransition:s},"function"==typeof l?l(M):l)}).displayName="NavLink",r.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:i,state:o,method:s=ke,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...m},f)=>{let{unstable_useTransitions:p}=r.useContext(X),y=function(){let{router:e}=ze("useSubmit"),{basename:t}=r.useContext(X),n=fe("useRouteId"),a=e.fetch,i=e.navigate;return r.useCallback(async(e,r={})=>{let{action:o,method:s,encType:l,formData:c,body:u}=function(e,t){let n,a,r,i,o;if(Ne(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");a=o?j(o,t):null,n=e.getAttribute("method")||ke,r=Ce(e.getAttribute("enctype"))||xe,i=new FormData(e)}else if(function(e){return Ne(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ne(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(a=s?j(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||ke,r=Ce(e.getAttribute("formenctype"))||Ce(o.getAttribute("enctype"))||xe,i=new FormData(o,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(Ua){Se=!0}return Se}()){let{name:t,type:n,value:a}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,a)}}else{if(Ne(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ke,a=null,r=xe,o=e}var s;return i&&"text/plain"===r&&(o=i,i=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:i,body:o}}(e,t);if(!1===r.navigate){let e=r.fetcherKey||Be();await a(e,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await i(r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,i,t,n])}(),v=function(e,{relative:t}={}){let{basename:n}=r.useContext(X),a=r.useContext(ee);g(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...se(e||".",{relative:t})},s=ae();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}return e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(o.pathname="/"===o.pathname?n:H([n,o.pathname])),w(o)}(l,{relative:u}),b="get"===s.toLowerCase()?"get":"post",k="string"==typeof l&&Ie.test(l);return r.createElement("form",{ref:f,method:b,action:v,onSubmit:a?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let a=e.nativeEvent.submitter,l=(null==a?void 0:a.getAttribute("formmethod"))||s,m=()=>y(a||e.currentTarget,{fetcherKey:t,method:l,navigate:n,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:h});p&&!1!==n?r.startTransition(()=>m()):m()},...m,"data-discover":k||"render"!==e?void 0:"true"})}).displayName="Form";var He=0,Be=()=>`__${String(++He)}__`;const Je=[{id:"default",name:"Lavender",dataTheme:null,previewColor:"#B49DFF"},{id:"amber",name:"Amber",dataTheme:"amber",previewColor:"#FFB347"},{id:"grey",name:"Steel",dataTheme:"grey",previewColor:"#8B9DC3"},{id:"black",name:"Neon",dataTheme:"black",previewColor:"#00D4FF"},{id:"flora",name:"Flora",dataTheme:"flora",previewColor:"#7DD3A8"}],qe=[{id:"default",src:"/assets/bg.jpg",suggestedScheme:"default"},{id:"amber",src:"/assets/bg-amber.jpg",suggestedScheme:"amber"},{id:"grey",src:"/assets/bg-grey.jpg",suggestedScheme:"grey"},{id:"black",src:"/assets/bg-black.jpg",suggestedScheme:"black"},{id:"flora",src:"/assets/bg-flora.jpg",suggestedScheme:"flora"}],We=[{id:"default",name:"Default",colorScheme:"default",backgroundImage:"/assets/bg.jpg"},{id:"amber",name:"Amber",colorScheme:"amber",backgroundImage:"/assets/bg-amber.jpg"},{id:"grey",name:"Steel",colorScheme:"grey",backgroundImage:"/assets/bg-grey.jpg"},{id:"black",name:"Neon",colorScheme:"black",backgroundImage:"/assets/bg-black.jpg"},{id:"flora",name:"Flora",colorScheme:"flora",backgroundImage:"/assets/bg-flora.jpg"}],Ve={colorScheme:"default",backgroundImage:"/assets/bg.jpg",brightness:80},Ye="pymc-color-scheme",Ke="pymc-background-image",Ge="pymc-bg-brightness",Ze="pymc-background";function Xe(e){(new Image).src=e}const Qe=r.createContext(null);function et({children:e}){const[t,n]=r.useState(()=>function(){if("undefined"==typeof window)return Ve;try{let t=localStorage.getItem(Ye),n=localStorage.getItem(Ke);const a=localStorage.getItem(Ge);if(!t&&!n){const e=localStorage.getItem(Ze);if(e){const a=We.find(t=>t.id===e);a&&(t=a.colorScheme,n=a.backgroundImage,localStorage.setItem(Ye,t),localStorage.setItem(Ke,n),localStorage.removeItem(Ze))}}const r="string"==typeof(e=t)&&Je.some(t=>t.id===e)?t:Ve.colorScheme,i=n||Ve.backgroundImage;let o=Ve.brightness;if(a){const e=parseInt(a,10);!isNaN(e)&&e>=0&&e<=100&&(o=e)}return{colorScheme:r,backgroundImage:i,brightness:o}}catch{return Ve}var e}());r.useEffect(()=>{!function(e){const t=(n=e,Je.find(e=>e.id===n)??Je[0]);var n;t.dataTheme?document.documentElement.setAttribute("data-theme",t.dataTheme):document.documentElement.removeAttribute("data-theme")}(t.colorScheme)},[t.colorScheme]),r.useEffect(()=>{!function(e){if("undefined"!=typeof window)try{localStorage.setItem(Ye,e.colorScheme),localStorage.setItem(Ke,e.backgroundImage),localStorage.setItem(Ge,String(e.brightness))}catch{}}(t)},[t]),r.useEffect(()=>{qe.forEach(e=>{(new Image).src=e.src})},[]);const a=r.useCallback(e=>{n(t=>({...t,colorScheme:e}))},[]),i=r.useCallback(e=>{n(t=>({...t,backgroundImage:e}))},[]),o=r.useCallback(e=>{const t=Math.max(0,Math.min(100,Math.round(e)));n(e=>({...e,brightness:t}))},[]),s=r.useCallback(e=>{const t=We.find(t=>t.id===e);t&&n(e=>({...e,colorScheme:t.colorScheme,backgroundImage:t.backgroundImage}))},[]),l=r.useMemo(()=>({theme:t,setColorScheme:a,setBackgroundImage:i,setBrightness:o,setThemePreset:s}),[t,a,i,o,s]);return h.jsx(Qe.Provider,{value:l,children:e})}function tt(){const e=r.useContext(Qe);if(!e)throw new Error("useTheme must be used within a ThemeProvider. Wrap your app with <ThemeProvider> in App.tsx.");return e}const nt={},at=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));a=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in nt)return;nt[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},rt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},it=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),ot=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var st={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lt=r.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:s,...l},c)=>r.createElement("svg",{ref:c,...st,width:t,height:t,stroke:e,strokeWidth:a?24*Number(n)/Number(t):n,className:it("lucide",i),...!o&&!ot(l)&&{"aria-hidden":"true"},...l},[...s.map(([e,t])=>r.createElement(e,t)),...Array.isArray(o)?o:[o]])),ct=(e,t)=>{const n=r.forwardRef(({className:n,...a},i)=>{return r.createElement(lt,{ref:i,iconNode:t,className:it(`lucide-${o=rt(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...a});var o});return n.displayName=rt(e),n},ut=ct("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),dt=ct("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ht=ct("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),mt=ct("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ft=ct("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),pt=ct("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),gt=ct("layout-list",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),yt=ct("map-pin-plus",[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]]),vt=ct("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),bt=ct("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),wt=ct("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),kt=ct("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xt=ct("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Nt=ct("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),St=ct("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]),Mt=ct("square-terminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]),Ct=ct("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rt="0.6.79",$t="/assets/WCM_Waves-CI2kWZFp.gif",Tt=e=>{let t;const n=new Set,a=(e,a)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,i={setState:a,getState:r,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(a,r,i);return i},_t=e=>e,Lt=e=>{const t=(e=>e?Tt(e):Tt)(e),n=e=>function(e,t=_t){const n=i.useSyncExternalStore(e.subscribe,i.useCallback(()=>t(e.getState()),[e,t]),i.useCallback(()=>t(e.getInitialState()),[e,t]));return i.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},Et=e=>e?Lt(e):Lt,Pt=125e3;function Ot(e,t={}){const n=t.spreadingFactor??7,a=t.bandwidthHz??Pt,r=t.codingRate??5,i=t.preambleLength??8??8,o=t.crcEnabled??true?1:0,s=t.explicitHeader??true?0:1,l=n>=11&&a<=125e3?1:0,c=a/1e3,u=Math.pow(2,n)/c,d=(i+4.25)*u,h=Math.max(8*e-4*n+28+16*o-20*s,0),m=4*(n-2*l);return d+(8+Math.ceil(h/m)*r)*u}const Dt=new Map,jt=new Map,At={"/api/stats":2e3,"/api/logs":1e3,"/api/recent_packets":2e3,"/api/hardware_stats":3e3,"/api/packet_type_graph_data":3e4,"/api/metrics_graph_data":3e4,"/api/noise_floor_history":3e4,"/api/radio_presets":6e4,default:5e3};async function Ft(e,t){const n=`${e}`,a={};if(null==t?void 0:t.headers){const e=t.headers;e instanceof Headers?e.forEach((e,t)=>{a[t]=e}):Array.isArray(e)?e.forEach(([e,t])=>{a[e]=t}):Object.assign(a,e)}(null==t?void 0:t.body)&&(a["Content-Type"]="application/json");const r=await fetch(n,{...t,headers:a});if(!r.ok)throw new Error(`API error: ${r.status} ${r.statusText}`);return r.json()}async function It(e,t){const n=function(e,t){return(null==t?void 0:t.method)&&"GET"!==t.method?"":e}(e,t),a=function(e){for(const[t,n]of Object.entries(At))if("default"!==t&&e.startsWith(t))return n;return At.default}(e);if(!n)return Ft(e,t);const r=function(e){if(!e)return null;const t=Dt.get(e);if(!t)return null;const n=Date.now()-t.timestamp>t.ttl;return{data:t.data,isStale:n}}(n);if(r&&!r.isStale)return r.data;const i=jt.get(n);if(i)return r?r.data:i;const o=Ft(e,t).then(e=>(function(e,t,n){e&&(Dt.set(e,{data:t,timestamp:Date.now(),ttl:n}),function(){const e=Date.now();for(const[t,n]of Dt.entries())e-n.timestamp>3e5&&Dt.delete(t);if(Dt.size>50){const e=Array.from(Dt.entries());e.sort((e,t)=>e[1].timestamp-t[1].timestamp);const t=e.slice(0,e.length-50);for(const[n]of t)Dt.delete(n)}}())}(n,e,a),jt.delete(n),e)).catch(e=>{throw jt.delete(n),e});return jt.set(n,o),r?(o.catch(()=>{}),r.data):o}function Ut(e){return e&&"chat node"===e.toLowerCase()?"Companion":e}async function zt(){return function(e){if(e.neighbors)for(const t of Object.values(e.neighbors))t.contact_type=Ut(t.contact_type);return e}(await It("/api/stats"))}async function Ht(){return It("/api/logs")}async function Bt(e=100){return It(`/api/recent_packets?limit=${e}`)}async function Jt(e){const t=Math.max(e.limit||1e3,5e3),n=await Bt(t);if(!n.success||!n.data)return n;let a=n.data;return void 0!==e.type&&(a=a.filter(t=>(t.type??t.payload_type)===e.type)),void 0!==e.route&&(a=a.filter(t=>(t.route??t.route_type)===e.route)),e.start_timestamp&&(a=a.filter(t=>t.timestamp>=e.start_timestamp)),e.end_timestamp&&(a=a.filter(t=>t.timestamp<=e.end_timestamp)),e.limit&&a.length>e.limit&&(a=a.slice(0,e.limit)),{success:!0,data:a,count:a.length}}async function qt(e=24){return It(`/api/packet_type_graph_data?hours=${e}`)}async function Wt(e=24){return It(`/api/noise_floor_history?hours=${e}`)}async function Vt(){return It("/api/hardware_stats")}async function Yt(){return It("/api/send_advert",{method:"POST",body:"{}"})}async function Kt(e){return It("/api/set_mode",{method:"POST",body:JSON.stringify({mode:e})})}async function Gt(e){return It("/api/set_duty_cycle",{method:"POST",body:JSON.stringify({enabled:e})})}async function Zt(e=20,t=20){try{const n=Math.floor(Date.now()/1e3),a=n-60*e,r=60*e/t,i=Math.ceil(e/60*1e3),o=Math.max(5e3,Math.min(i,5e4)),[s,l]=await Promise.all([Jt({start_timestamp:a,end_timestamp:n,limit:o}),zt()]);if(!s.success||!s.data)return{success:!1,error:s.error||"Failed to fetch packets"};const c=s.data,u=function(e){var t;const n=null==(t=null==e?void 0:e.config)?void 0:t.radio;return{spreadingFactor:(null==n?void 0:n.spreading_factor)??7,bandwidthHz:(null==n?void 0:n.bandwidth)??Pt,codingRate:(null==n?void 0:n.coding_rate)??5,preambleLength:(null==n?void 0:n.preamble_length)??8,crcEnabled:!0,explicitHeader:!0}}(l),d=()=>{const e=[];for(let n=0;n<t;n++)e.push({bucket:n,start:a+n*r,end:a+(n+1)*r,count:0,airtime_ms:0,avg_snr:0,avg_rssi:0});return e},h=d(),m=d(),f=d(),p=d(),g=h.map(()=>({snr:0,rssi:0,count:0}));for(const e of c){const n=Math.floor((e.timestamp-a)/r);if(n<0||n>=t)continue;const i=Ot(e.length||e.payload_length||32,u),o=e.packet_origin;"tx_local"===o?(m[n].count++,m[n].airtime_ms+=i):"tx_forward"===o||e.transmitted?(f[n].count++,f[n].airtime_ms+=i):e.drop_reason&&(p[n].count++,p[n].airtime_ms+=i),"tx_local"!==o&&(h[n].count++,h[n].airtime_ms+=i,g[n].snr+=e.snr||0,g[n].rssi+=e.rssi||0,g[n].count++)}for(let e=0;e<t;e++)g[e].count>0&&(h[e].avg_snr=g[e].snr/g[e].count,h[e].avg_rssi=g[e].rssi/g[e].count);return{success:!0,data:{time_range_minutes:e,bucket_count:t,bucket_duration_seconds:r,start_time:a,end_time:n,received:h,transmitted:m,forwarded:f,dropped:p}}}catch(n){return{success:!1,error:String(n)}}}async function Xt(e){return It("/api/update_radio_config",{method:"POST",body:JSON.stringify(e)})}async function Qt(e){return It("/api/set_log_level",{method:"POST",body:JSON.stringify({level:e})})}"undefined"!=typeof document&&document.addEventListener("visibilitychange",()=>{if("visible"===document.visibilityState)for(const e of Dt.values())e.timestamp=0});const en="pymc-packet-cache",tn="pymc-packet-cache-meta",nn=36e5,an=new class{constructor(){t(this,"packets",new Map),t(this,"sortedPackets",[]),t(this,"sortedDirty",!0),t(this,"meta",{oldestTimestamp:0,newestTimestamp:0,lastUpdated:0,packetCount:0,backgroundLoadComplete:!1,deepLoadComplete:!1}),t(this,"isLoading",!1),t(this,"isBackgroundLoading",!1),t(this,"isDeepLoading",!1),t(this,"listeners",new Set),t(this,"statusMessage",""),this.loadFromStorage()}subscribe(e){return this.listeners.add(e),e(this.getState()),()=>this.listeners.delete(e)}getState(){return{isLoading:this.isLoading,isBackgroundLoading:this.isBackgroundLoading,isDeepLoading:this.isDeepLoading,backgroundLoadComplete:this.meta.backgroundLoadComplete,packetCount:this.packets.size,statusMessage:this.statusMessage}}getPackets(){return this.sortedDirty&&(this.sortedPackets=Array.from(this.packets.values()).sort((e,t)=>(e.timestamp??0)-(t.timestamp??0)),this.sortedDirty=!1),this.sortedPackets}isStale(){return 0===this.packets.size||Date.now()-this.meta.lastUpdated>nn}async quickLoad(){if(this.isStale()&&this.packets.size>0&&this.clear(),this.packets.size>0)return this.meta.backgroundLoadComplete||this.backgroundLoad(),this.getPackets();this.isLoading=!0,this.statusMessage="Fetching recent packets...",this.notifyListeners();try{const e=await this.fetchRecentPackets(1e3);e.success&&e.data&&(this.statusMessage=`Processing ${e.data.length} packets...`,this.notifyListeners(),this.mergePackets(e.data),this.saveToStorage())}catch(e){this.statusMessage="Load failed"}finally{this.isLoading=!1,this.statusMessage="",this.notifyListeners()}return this.backgroundLoad(),this.getPackets()}async backgroundLoad(){if(!this.meta.backgroundLoadComplete&&!this.isBackgroundLoading){this.isBackgroundLoading=!0,this.statusMessage="Loading database...",this.notifyListeners();try{const e=setInterval(()=>{this.isBackgroundLoading&&(this.statusMessage=`Loading ${3e4.toLocaleString()} packets...`,this.notifyListeners())},500),t=await this.fetchRecentPackets(3e4);clearInterval(e),t.success&&t.data&&(this.statusMessage=`Processing ${t.data.length.toLocaleString()} packets...`,this.notifyListeners(),this.mergePackets(t.data),this.meta.backgroundLoadComplete=!0,this.saveToStorage())}catch(e){this.statusMessage="Background load failed"}finally{this.isBackgroundLoading=!1,this.statusMessage="",this.notifyListeners()}}}async deepLoad(){if(!this.meta.deepLoadComplete&&!this.isDeepLoading)return this.doDeepLoad()}async forceDeepLoad(){if(!this.isDeepLoading)return this.meta.deepLoadComplete=!1,this.doDeepLoad()}async doDeepLoad(){this.isDeepLoading=!0,this.statusMessage="Fetching topology data...",this.notifyListeners();try{const e=setInterval(()=>{this.isDeepLoading&&(this.statusMessage=`Loading ${5e4.toLocaleString()} packets...`,this.notifyListeners())},500),t=await this.fetchRecentPackets(5e4);clearInterval(e),t.success&&t.data&&(this.statusMessage=`Processing ${t.data.length.toLocaleString()} packets...`,this.notifyListeners(),this.mergePackets(t.data),this.meta.deepLoadComplete=!0,this.saveToStorage())}catch(e){this.statusMessage="Deep load failed"}finally{this.isDeepLoading=!1,this.statusMessage="",this.notifyListeners()}}async poll(){try{const e=await this.fetchRecentPackets(500);if(e.success&&e.data){const t=this.packets.size;this.mergePackets(e.data),this.packets.size>t&&(this.saveToStorage(),this.notifyListeners())}}catch(e){}return this.getPackets()}clear(){this.packets.clear(),this.sortedPackets=[],this.sortedDirty=!0,this.meta={oldestTimestamp:0,newestTimestamp:0,lastUpdated:0,packetCount:0,backgroundLoadComplete:!1,deepLoadComplete:!1},this.clearStorage(),this.notifyListeners()}mergePackets(e){let t=!1;for(const n of e){const e=n.packet_hash;if(e&&!this.packets.has(e)){this.packets.set(e,n),t=!0;const a=n.timestamp??0;(0===this.meta.oldestTimestamp||a<this.meta.oldestTimestamp)&&(this.meta.oldestTimestamp=a),a>this.meta.newestTimestamp&&(this.meta.newestTimestamp=a)}}t&&(this.sortedDirty=!0),this.meta.lastUpdated=Date.now(),this.meta.packetCount=this.packets.size}notifyListeners(){const e=this.getState();for(const t of this.listeners)t(e)}loadFromStorage(){if("undefined"!=typeof window)try{const e=localStorage.getItem(tn);e&&(this.meta=JSON.parse(e));const t=localStorage.getItem(en);if(t){const e=JSON.parse(t);for(const t of e)t.packet_hash&&this.packets.set(t.packet_hash,t)}if(this.meta.lastUpdated>0&&Date.now()-this.meta.lastUpdated>nn)return void this.clear();const n=15e3;this.meta.backgroundLoadComplete&&this.packets.size<n&&(this.meta.backgroundLoadComplete=!1);const a=25e3;this.meta.deepLoadComplete&&this.packets.size<a&&(this.meta.deepLoadComplete=!1)}catch(e){this.clear()}}saveToStorage(){if("undefined"!=typeof window)try{localStorage.setItem(tn,JSON.stringify(this.meta)),localStorage.setItem(en,JSON.stringify(Array.from(this.packets.values())))}catch(e){}}clearStorage(){if("undefined"!=typeof window)try{localStorage.removeItem(en),localStorage.removeItem(tn)}catch(e){}}async fetchRecentPackets(e=1e3){const t=`/api/recent_packets?limit=${e}`,n=await fetch(t);if(!n.ok)throw new Error(`API error: ${n.status}`);return n.json()}};function rn(e){return{paths:e.paths,byEndpoints:new Map(e.byEndpointsEntries),canonicalPaths:new Map(e.canonicalPathsEntries),totalObservations:e.totalObservations,uniquePathCount:e.uniquePathCount}}function on(){return{paths:[],byEndpoints:new Map,canonicalPaths:new Map,totalObservations:0,uniquePathCount:0}}const sn=new class{constructor(){t(this,"worker",null),t(this,"listeners",new Set),t(this,"currentTopology",{edges:[],validatedEdges:[],weakEdges:[],certainEdges:[],uncertainEdges:[],edgeMap:new Map,maxPacketCount:0,maxCertainCount:0,neighborAffinity:new Map,fullAffinity:new Map,localPrefix:null,centrality:new Map,hubNodes:[],loops:[],loopEdgeKeys:new Set,txDelayRecommendations:new Map,pathRegistry:on(),edgeBetweenness:new Map,backboneEdges:[],nodeMobility:new Map,mobileNodes:[],pathHealth:[],lastHopNeighbors:[],disambiguationStats:{totalPrefixes:0,unambiguousPrefixes:0,collisionPrefixes:0,collisionRate:0,avgConfidence:0,lowConfidencePrefixes:[],highCollisionPrefixes:[],totalResolutions:0}}),t(this,"isComputing",!1),t(this,"pendingRequest",null),t(this,"debounceTimer",null),t(this,"debounceMs",100),this.initWorker()}initWorker(){if("undefined"!=typeof window)try{this.worker=new Worker(new URL("/assets/topology.worker-CVZSTP75.js",import.meta.url),{type:"module"}),this.worker.onmessage=e=>{this.handleWorkerMessage(e.data)},this.worker.onerror=e=>{}}catch(e){}}handleWorkerMessage(e){if(this.isComputing=!1,"error"!==e.type){var t;this.currentTopology={edges:(t=e.payload).edges??[],validatedEdges:t.validatedEdges??[],weakEdges:t.weakEdges??[],certainEdges:t.certainEdges??[],uncertainEdges:t.uncertainEdges??[],maxPacketCount:t.maxPacketCount??0,maxCertainCount:t.maxCertainCount??0,localPrefix:t.localPrefix??null,hubNodes:t.hubNodes??[],edgeMap:new Map(t.edgeMapEntries??[]),neighborAffinity:new Map(t.neighborAffinityEntries??[]),fullAffinity:new Map(t.fullAffinityEntries??[]),centrality:new Map(t.centralityEntries??[]),loops:t.loops??[],loopEdgeKeys:new Set(t.loopEdgeKeyEntries??[]),txDelayRecommendations:new Map(t.txDelayRecommendationEntries??[]),pathRegistry:t.pathRegistry?rn(t.pathRegistry):on(),edgeBetweenness:new Map(t.edgeBetweennessEntries??[]),backboneEdges:t.backboneEdges??[],nodeMobility:new Map(t.nodeMobilityEntries??[]),mobileNodes:t.mobileNodes??[],pathHealth:t.pathHealth??[],lastHopNeighbors:t.lastHopNeighbors??[],disambiguationStats:t.disambiguationStats??{totalPrefixes:0,unambiguousPrefixes:0,collisionPrefixes:0,collisionRate:0,avgConfidence:0,lowConfidencePrefixes:[],highCollisionPrefixes:[],totalResolutions:0}};for(const t of this.listeners)try{t(this.currentTopology,e.computeTimeMs)}catch(n){}if(this.pendingRequest){const e=this.pendingRequest;this.pendingRequest=null,this.computeInternal(e)}}}computeInternal(e){if(!this.worker)return;this.isComputing=!0;const t={type:"compute",payload:e};this.worker.postMessage(t)}compute(e,t,n,a,r,i){const o={packets:e,neighbors:t,localHash:n,localLat:a,localLon:r,airtimeMs:i};this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.isComputing?this.pendingRequest=o:this.computeInternal(o)},this.debounceMs)}subscribe(e){return this.listeners.add(e),this.currentTopology.edges.length>0&&e(this.currentTopology,0),()=>{this.listeners.delete(e)}}getTopology(){return this.currentTopology}isWorking(){return this.isComputing}terminate(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.worker&&(this.worker.terminate(),this.worker=null),this.listeners.clear()}},ln=new class{constructor(){t(this,"worker",null),t(this,"listeners",new Set),t(this,"sparklines",new Map),t(this,"isComputing",!1),t(this,"lastComputeTimeMs",0),t(this,"pendingRequest",null),t(this,"debounceTimer",null),t(this,"debounceMs",150),this.initWorker()}initWorker(){if("undefined"!=typeof window)try{this.worker=new Worker(new URL("/assets/sparkline.worker-DYe5lgJ2.js",import.meta.url),{type:"module"}),this.worker.onmessage=e=>{this.handleWorkerMessage(e.data)},this.worker.onerror=e=>{this.isComputing=!1,this.notifyListeners()}}catch(e){}}handleWorkerMessage(e){if(this.isComputing=!1,"error"!==e.type){if(this.sparklines=new Map(e.payload.sparklineEntries),this.lastComputeTimeMs=e.computeTimeMs,this.notifyListeners(),this.pendingRequest){const e=this.pendingRequest;this.pendingRequest=null,this.computeInternal(e.packets,e.nodeHashes)}}else this.notifyListeners()}computeInternal(e,t){if(!this.worker)return;if(0===t.length)return this.isComputing=!1,void this.notifyListeners();this.isComputing=!0,this.notifyListeners();const n={type:"compute",payload:{packets:e,nodeHashes:t}};this.worker.postMessage(n)}notifyListeners(){for(const t of this.listeners)try{t(this.sparklines,this.isComputing)}catch(e){}}compute(e,t){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.isComputing?this.pendingRequest={packets:e,nodeHashes:t}:this.computeInternal(e,t)},this.debounceMs)}getSparkline(e){return this.sparklines.get(e)??[]}getAllSparklines(){return this.sparklines}hasSparkline(e){return this.sparklines.has(e)}isWorking(){return this.isComputing}getLastComputeTime(){return this.lastComputeTimeMs}subscribe(e){return this.listeners.add(e),e(this.sparklines,this.isComputing),()=>{this.listeners.delete(e)}}clear(){this.sparklines.clear(),this.notifyListeners()}terminate(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.worker&&(this.worker.terminate(),this.worker=null),this.listeners.clear()}};function cn(e){return e.startsWith("0x")||e.startsWith("0X")?e.slice(2,4).toUpperCase():e.slice(0,2).toUpperCase()}function un(e,t){const n=e.toUpperCase();return t.startsWith("0x")||t.startsWith("0X")?t.slice(2).toUpperCase().startsWith(n):t.toUpperCase().startsWith(n)}const dn=[{label:"20m",minutes:20,buckets:40},{label:"1h",minutes:60,buckets:60},{label:"3h",minutes:180,buckets:90},{label:"12h",minutes:720,buckets:72},{label:"24h",minutes:1440,buckets:96},{label:"3d",minutes:4320,buckets:72},{label:"7d",minutes:10080,buckets:84}],hn=[{label:"1h",hours:1},{label:"3h",hours:3},{label:"12h",hours:12},{label:"24h",hours:24},{label:"3d",hours:72},{label:"7d",hours:168}],mn={received:"#39D98A"},fn={stats:3e3,packets:3e3,charts:3e4,logs:2e3,system:3e3},pn={DEBUG:"text-[var(--log-debug)] border-[var(--log-debug)]/30",INFO:"text-[var(--log-info)] border-[var(--log-info)]/30",WARNING:"text-[var(--log-warning)] border-[var(--log-warning)]/30",ERROR:"text-[var(--log-error)] border-[var(--log-error)]/30",CRITICAL:"text-[var(--log-critical)] border-[var(--log-critical)]/50 bg-[var(--log-critical)]/10"};function gn(e){return pn[e]||"text-text-muted border-border-subtle"}const yn="pymc-resource-history",vn="pymc-resource-last-fetch",bn="pymc-hidden-contacts",wn="pymc-quick-neighbors";function kn(e){return 4===(e.type??e.payload_type)&&(!0!==e.transmitted&&0===function(e){if(Array.isArray(e))return e;if("string"==typeof e&&e.startsWith("["))try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}return[]}(e.original_path).length)}function xn(e,t,n,a,r){if(!e)return null;let i=e;if(e.length<=4){const a=e.replace(/^0x/i,"").toUpperCase();if(a===t)return null;const r=n.get(a);if(!r)return null;i=r}return a.has(i)?i===r?null:i:null}function Nn(e,t){e.count++,void 0!==t.rssi&&null!==t.rssi&&(e.rssiSum+=t.rssi,e.rssiCount++),void 0!==t.snr&&null!==t.snr&&(e.snrSum+=t.snr,e.snrCount++);const n=t.timestamp??0;n>e.lastSeen&&(e.lastSeen=n)}function Sn(e){return{hash:e,count:0,rssiSum:0,rssiCount:0,snrSum:0,snrCount:0,lastSeen:0}}function Mn(e,t){const n=function(e,t){const n=t-1e3*e;return n<=6048e5?"active":n<=12096e5?"stale":"expired"}(e.lastSeen,t);return"expired"===n?null:{hash:e.hash,prefix:cn(e.hash),count:e.count,avgRssi:e.rssiCount>0?e.rssiSum/e.rssiCount:null,avgSnr:e.snrCount>0?e.snrSum/e.snrCount:null,lastSeen:e.lastSeen,status:n}}function Cn(){if("undefined"==typeof window)return[];try{const e=localStorage.getItem(wn);if(e)return JSON.parse(e)}catch{}return[]}function Rn(){if("undefined"==typeof window)return[];try{const e=localStorage.getItem(yn);if(e)return JSON.parse(e)}catch{}return[]}function $n(){if("undefined"==typeof window)return new Set;try{const e=localStorage.getItem(bn);if(e)return new Set(JSON.parse(e))}catch{}return new Set}function Tn(){if("undefined"==typeof window)return 0;try{const e=localStorage.getItem(vn);if(e)return parseInt(e,10)||0}catch{}return 0}const _n=Et((e,t)=>({stats:null,statsLoading:!1,statsError:null,packets:[],packetsLoading:!1,packetsError:null,lastPacketTimestamp:0,logs:[],logsLoading:!1,liveMode:!0,flashReceived:0,flashAdvert:0,resourceHistory:Rn(),lastResourceFetch:Tn(),hiddenContacts:$n(),quickNeighbors:Cn(),initialized:!1,packetCacheState:an.getState(),initializeApp:async()=>{const{initialized:n}=t();if(n)return;e({initialized:!0,statsLoading:!0,packetsLoading:!0});let a=!1,r=!1;an.subscribe(n=>{if(e({packetCacheState:n}),a&&!n.isBackgroundLoading){const n=an.getPackets();n.length>0&&(e({packets:n}),t().triggerTopologyCompute(),t().updateQuickNeighbors(),t().triggerSparklineCompute())}if(a=n.isBackgroundLoading,r&&!n.isDeepLoading){const n=an.getPackets();n.length>0&&(e({packets:n}),t().triggerTopologyCompute(),t().updateQuickNeighbors(),t().triggerSparklineCompute())}r=n.isDeepLoading});try{const[n,a]=await Promise.all([zt(),an.quickLoad()]);if(e({stats:n,statsLoading:!1}),a.length>0){const n=Math.max(...a.map(e=>e.timestamp??0));e({packets:a,packetsLoading:!1,lastPacketTimestamp:n}),t().triggerTopologyCompute(),t().updateQuickNeighbors(),t().triggerSparklineCompute()}else e({packetsLoading:!1})}catch(i){e({statsError:i instanceof Error?i.message:"Failed to initialize",statsLoading:!1,packetsLoading:!1})}setInterval(()=>{t().fetchStats()},fn.stats),setInterval(()=>{t().liveMode&&t().fetchPackets()},fn.packets),setTimeout(()=>{t().sendAdvert().catch(()=>{})},3e3)},prefetchForRoute:e=>{switch(e){case"/logs":Ht().catch(()=>{});break;case"/system":Vt().catch(()=>{});break;case"/statistics":qt(3).catch(()=>{}),Wt(3).catch(()=>{});break;case"/settings":(async function(){return It("/api/radio_presets")})().catch(()=>{})}},fetchStats:async()=>{const{stats:n}=t();n||e({statsLoading:!0}),e({statsError:null});try{const t=await zt();e({stats:t,statsLoading:!1})}catch(a){e({statsError:a instanceof Error?a.message:"Failed to fetch stats",statsLoading:!1})}},fetchPackets:async n=>{const{packets:a}=t();0===a.length&&e({packetsLoading:!0}),e({packetsError:null});try{const n=await an.poll(),{lastPacketTimestamp:a}=t(),r=n.length>0?Math.max(...n.map(e=>e.timestamp??0)):0;r>a&&a>0&&e({flashReceived:t().flashReceived+1}),e({packets:n,packetsLoading:!1,lastPacketTimestamp:r||a}),t().triggerTopologyCompute(),t().updateQuickNeighbors()}catch(r){e({packetsError:r instanceof Error?r.message:"Failed to fetch packets",packetsLoading:!1})}},fetchLogs:async()=>{const{logs:n}=t();0===n.length&&e({logsLoading:!0});try{const t=await Ht();e({logs:t.logs,logsLoading:!1})}catch{e({logsLoading:!1})}},setLiveMode:t=>{e({liveMode:t})},setMode:async e=>{try{(await Kt(e)).success&&await t().fetchStats()}catch(n){}},setDutyCycle:async e=>{try{(await Gt(e)).success&&t().fetchStats()}catch(n){}},sendAdvert:async()=>{try{const n=await Yt();return n.success&&e({flashAdvert:t().flashAdvert+1}),n.success}catch(n){return!1}},triggerFlashReceived:()=>{e({flashReceived:t().flashReceived+1})},triggerFlashAdvert:()=>{e({flashAdvert:t().flashAdvert+1})},addResourceDataPoint:(n,a,r)=>{const i=Date.now(),{lastResourceFetch:o,resourceHistory:s}=t();if(i-o<1e3)return;const l=[...s,{timestamp:i,time:new Date(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),cpu:n,memory:a}],c=l.length>r?l.slice(-r):l;e({resourceHistory:c,lastResourceFetch:i}),function(e,t){if("undefined"!=typeof window)try{localStorage.setItem(yn,JSON.stringify(e)),localStorage.setItem(vn,t.toString())}catch{}}(c,i)},hideContact:n=>{const{hiddenContacts:a}=t(),r=new Set(a);r.add(n),e({hiddenContacts:r}),function(e){if("undefined"!=typeof window)try{localStorage.setItem(bn,JSON.stringify([...e]))}catch{}}(r)},clearPacketCache:()=>{an.clear(),e({packets:[],lastPacketTimestamp:0}),an.quickLoad().then(n=>{if(n.length>0){const a=Math.max(...n.map(e=>e.timestamp??0));e({packets:n,lastPacketTimestamp:a}),t().triggerTopologyCompute()}})},triggerTopologyCompute:()=>{var e,n,a,r;const{packets:i,stats:o,hiddenContacts:s}=t();if(0===i.length||!o)return;const l=o.neighbors??{},c=Object.fromEntries(Object.entries(l).filter(([e])=>!s.has(e))),u=o.local_hash,d=null==(n=null==(e=o.config)?void 0:e.repeater)?void 0:n.latitude,h=null==(r=null==(a=o.config)?void 0:a.repeater)?void 0:r.longitude;sn.compute(i,c,u,d,h)},triggerDeepAnalysis:async()=>{await an.forceDeepLoad()},updateQuickNeighbors:()=>{const{packets:n,stats:a,hiddenContacts:r}=t();if(0===n.length||!a)return;const i=a.neighbors??{},o=function(e,t,n){if(!n||0===e.length||0===Object.keys(t).length)return[];const a=Date.now(),r=cn(n),i=new Set(Object.keys(t)),o=function(e){var t,n;const a=new Map;for(const r of Object.keys(e)){const i=cn(r),o=a.get(i);if(o){const s=null==(t=e[o])?void 0:t.zero_hop;(null==(n=e[r])?void 0:n.zero_hop)&&!s&&a.set(i,r)}else a.set(i,r)}return a}(t),s=new Map;for(const c of e){if(!kn(c))continue;const e=xn(c.src_hash,r,o,i,n);if(!e)continue;let t=s.get(e);t||(t=Sn(e),s.set(e,t)),Nn(t,c)}for(const[c,u]of Object.entries(t))u.zero_hop&&!s.has(c)&&s.set(c,{hash:c,count:u.advert_count??0,rssiSum:u.rssi??0,rssiCount:void 0!==u.rssi?1:0,snrSum:u.snr??0,snrCount:void 0!==u.snr?1:0,lastSeen:u.last_seen??0});const l=[];for(const c of s.values()){const e=Mn(c,a);e&&l.push(e)}return l.sort((e,t)=>t.count!==e.count?t.count-e.count:t.lastSeen-e.lastSeen),l}(n,Object.fromEntries(Object.entries(i).filter(([e])=>!r.has(e))),a.local_hash),s=t().quickNeighbors;(o.length!==s.length||o.some((e,t)=>{var n,a;return e.hash!==(null==(n=s[t])?void 0:n.hash)||e.count!==(null==(a=s[t])?void 0:a.count)}))&&(e({quickNeighbors:o}),function(e){if("undefined"!=typeof window)try{localStorage.setItem(wn,JSON.stringify(e))}catch{}}(o))},triggerSparklineCompute:()=>{const{packets:e,stats:n,hiddenContacts:a}=t();if(0===e.length||!n)return;const r=n.neighbors??{},i=Object.keys(r).filter(e=>!a.has(e));0!==i.length&&ln.compute(e,i)}})),Ln=_n,En=()=>_n(e=>e.stats),Pn=()=>_n(e=>e.statsError),On=()=>_n(e=>e.packets),Dn=()=>_n(e=>e.packetsLoading),jn=()=>_n(e=>e.logs),An=()=>_n(e=>e.logsLoading),Fn=()=>_n(e=>e.liveMode),In=()=>_n(e=>e.flashReceived),Un=()=>_n(e=>e.flashAdvert),zn=()=>_n(e=>e.fetchLogs),Hn=()=>_n(e=>e.setLiveMode),Bn=()=>_n(e=>e.resourceHistory),Jn=()=>_n(e=>e.addResourceDataPoint),qn=()=>_n(e=>e.hiddenContacts),Wn=()=>_n(e=>e.hideContact),Vn=()=>_n(e=>e.packetCacheState),Yn=()=>_n(e=>e.triggerDeepAnalysis),Kn=()=>_n(e=>e.quickNeighbors),Gn=Et(e=>({sparklines:new Map,isComputing:!1,lastUpdated:0,nodeCount:0,setSparklines:t=>e({sparklines:t,lastUpdated:Date.now(),nodeCount:t.size,isComputing:!1}),setComputing:t=>e({isComputing:t})}));"undefined"!=typeof window&&setTimeout(()=>{ln.subscribe((e,t)=>{const n=Gn.getState();t&&!n.isComputing?n.setComputing(!0):!t&&e.size>0?n.setSparklines(e):!t&&n.isComputing&&n.setComputing(!1)})},0);const Zn=()=>Gn(e=>e.isComputing),Xn=[],Qn=new Map;function ea(e){return Gn(t=>{const n=t.sparklines.get(e);if(!n||0===n.length)return Xn;const a=Qn.get(e);return a===n?a:(Qn.set(e,n),n)})}const ta=Et(e=>({topology:{edges:[],validatedEdges:[],weakEdges:[],certainEdges:[],uncertainEdges:[],edgeMap:new Map,maxPacketCount:0,maxCertainCount:0,neighborAffinity:new Map,fullAffinity:new Map,localPrefix:null,centrality:new Map,hubNodes:[],loops:[],loopEdgeKeys:new Set,txDelayRecommendations:new Map,pathRegistry:on(),edgeBetweenness:new Map,backboneEdges:[],nodeMobility:new Map,mobileNodes:[],pathHealth:[],lastHopNeighbors:[],disambiguationStats:{totalPrefixes:0,unambiguousPrefixes:0,collisionPrefixes:0,collisionRate:0,avgConfidence:0,lowConfidencePrefixes:[],highCollisionPrefixes:[],totalResolutions:0}},isComputing:!1,lastComputeTimeMs:0,lastUpdated:0,setTopology:(t,n)=>e({topology:t,lastComputeTimeMs:n,lastUpdated:Date.now(),isComputing:!1}),setComputing:t=>e({isComputing:t})}));"undefined"!=typeof window&&sn.subscribe((e,t)=>{ta.getState().setTopology(e,t)});const na=()=>ta(e=>e.topology),aa=()=>ta(e=>e.topology.hubNodes),ra=()=>ta(e=>e.topology.centrality),ia=()=>ta(e=>e.topology.fullAffinity);let oa=null,sa=null;const la=()=>ta(e=>(e.topology.hubNodes!==sa&&(sa=e.topology.hubNodes,oa=new Set(e.topology.hubNodes)),oa)),ca=()=>ta(e=>e.topology.pathHealth),ua=()=>ta(e=>e.topology.disambiguationStats),da=()=>ta(e=>e.topology.disambiguationStats.totalPrefixes>0);function ha(e){if(e<60)return`${Math.floor(e)}s`;const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=[];return t>0&&r.push(`${t}d`),n>0&&r.push(`${n}h`),(a>0||0===r.length)&&r.push(`${a}m`),r.join(" ")}function ma(e){const t=Date.now()/1e3-e;return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}function fa(e){const t=Date.now()/1e3-e;return t<60?`${Math.floor(t)}s`:t<3600?`${Math.floor(t/60)}m`:t<86400?`${Math.floor(t/3600)}h`:`${Math.floor(t/86400)}d`}function pa(e){return new Date(1e3*e).toLocaleString()}function ga(e){const t=new Date(1e3*e);return`${t.toLocaleString("en-US",{month:"short"})} ${t.getDate()}, ${t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}`}function ya(e){return`${(e/1e6).toFixed(3)} MHz`}function va(e){return`${(e/1e3).toFixed(1)} kHz`}const ba=[{name:"Dashboard",to:"/",icon:pt},{name:"Contacts",to:"/contacts",icon:yt},{name:"Packets",to:"/packets",icon:gt},{name:"Statistics",to:"/statistics",icon:ut},{name:"System",to:"/system",icon:ft},{name:"Logs",to:"/logs",icon:mt},{name:"Terminal",to:"/terminal",icon:Mt},{name:"Settings",to:"/settings",icon:Nt}],wa="pymc-controls-expanded";function ka(){var e,t,n,a;const{pathname:i}=ae(),{stats:s,setMode:l,setDutyCycle:c,sendAdvert:u}=Ln(),d=_n(e=>e.prefetchForRoute),m=Vn(),f=Zn(),p=ta(e=>e.isComputing),[g,y]=r.useState(!1),[v,b]=r.useState(!0),[w,k]=r.useState(!1),x=r.useRef(null),N=r.useCallback(e=>{e!==i&&(x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{d(e)},100))},[i,d]),S=r.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null)},[]);r.useEffect(()=>{const e=localStorage.getItem(wa);null!==e&&queueMicrotask(()=>b("true"===e))},[]);const M=()=>{const e=!v;b(e),localStorage.setItem(wa,String(e))};r.useEffect(()=>{queueMicrotask(()=>y(!1))},[i]),r.useEffect(()=>(document.body.style.overflow=g?"hidden":"",()=>{document.body.style.overflow=""}),[g]);const C=null==s?void 0:s.noise_floor_dbm,R=(null==(t=null==(e=null==s?void 0:s.config)?void 0:e.repeater)?void 0:t.mode)??"forward",$=(null==(a=null==(n=null==s?void 0:s.config)?void 0:n.duty_cycle)?void 0:a.enforcement_enabled)??!1,T=async()=>{k(!0),await u(),setTimeout(()=>k(!1),1e3)},_=()=>{l("forward"===R?"monitor":"forward")},L=()=>{c(!$)},E=m.isBackgroundLoading||m.isDeepLoading||f||p,P=()=>E?h.jsxs("div",{className:"px-3 pb-2",children:[h.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5",children:[h.jsxs("div",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent-primary opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-accent-primary"})]}),h.jsx("span",{className:"type-data-xs text-text-muted",children:"Analyzing database"})]}),h.jsx("div",{className:"mx-2 h-0.5 bg-white/5 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-accent-primary/60 rounded-full animate-pulse",style:{width:"100%",animation:"shimmer 1.5s ease-in-out infinite"}})})]}):null,O=()=>h.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:ba.map(e=>{const t=i===e.to;return h.jsxs(Ue,{to:e.to,onClick:()=>y(!1),onMouseEnter:()=>N(e.to),onMouseLeave:S,className:o("flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-150 min-h-[44px]",t?"bg-accent-primary/15 text-accent-primary":"text-text-muted hover:text-text-primary hover:bg-white/5"),children:[h.jsx(e.icon,{className:o("w-5 h-5 flex-shrink-0",t&&"text-accent-primary")}),h.jsx("span",{className:"type-body-sm font-medium",children:e.name})]},e.name)})}),D=()=>h.jsxs("div",{className:"px-3 py-3",children:[h.jsxs("button",{onClick:M,className:"w-full flex items-center justify-between px-2 py-1.5 mb-2 rounded-lg hover:bg-white/5 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(St,{className:"w-4 h-4 text-accent-primary"}),h.jsx("span",{className:"type-data-xs text-text-muted uppercase tracking-wide",children:"Controls"})]}),h.jsx(dt,{className:o("w-4 h-4 text-text-muted transition-transform duration-200",v?"rotate-0":"-rotate-90")})]}),h.jsx("div",{className:o("overflow-hidden transition-all duration-300 ease-out",v?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:h.jsxs("div",{className:"control-panel-skeuo",children:[h.jsxs("button",{onClick:T,disabled:w,className:o("control-btn control-btn-primary w-full",w&&"opacity-70"),children:[h.jsx(xt,{className:o("w-4 h-4",w&&"animate-pulse")}),h.jsx("span",{children:w?"Sending...":"Send Advert"})]}),h.jsxs("div",{className:"control-toggle-group",children:[h.jsxs("div",{className:"control-toggle-label",children:[h.jsx("span",{children:"Mode"}),h.jsx("span",{className:o("control-toggle-status","forward"===R?"text-accent-success":"text-accent-secondary"),children:"forward"===R?"FWD":"MON"})]}),h.jsx("button",{onClick:_,className:o("control-btn w-full","forward"===R?"control-btn-success":"control-btn-warning"),children:"forward"===R?h.jsxs(h.Fragment,{children:[h.jsx(wt,{className:"w-4 h-4"}),h.jsx("span",{children:"Forward"})]}):h.jsxs(h.Fragment,{children:[h.jsx(bt,{className:"w-4 h-4"}),h.jsx("span",{children:"Monitor"})]})})]}),h.jsxs("div",{className:"control-toggle-group",children:[h.jsxs("div",{className:"control-toggle-label",children:[h.jsx("span",{children:"Duty Cycle"}),h.jsx("span",{className:o("control-toggle-status",$?"text-accent-success":"text-text-muted"),children:$?"ON":"OFF"})]}),h.jsxs("button",{onClick:L,className:o("control-btn w-full",$?"control-btn-success":"control-btn-neutral"),children:[h.jsx(ft,{className:"w-4 h-4"}),h.jsx("span",{children:$?"Enabled":"Disabled"})]})]})]})})]}),j=()=>h.jsxs("div",{className:"mt-auto border-t border-white/5",children:[void 0!==(null==s?void 0:s.uptime_seconds)&&h.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[h.jsx(ht,{className:"w-3.5 h-3.5 text-text-muted"}),h.jsxs("span",{className:"type-data-xs text-text-secondary tabular-nums",children:[ha(s.uptime_seconds)," uptime"]})]}),h.jsx("div",{className:"px-3 pb-3",children:h.jsx("div",{className:"bg-white/[0.03] rounded-xl p-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(kt,{className:"w-4 h-4 text-accent-primary"}),h.jsx("span",{className:"type-data-xs text-text-muted",children:"Noise Floor"})]}),h.jsx("span",{className:"type-data text-text-primary tabular-nums",children:null!=C?`${C.toFixed(0)} dBm`:"â€”"})]})})}),h.jsxs("div",{className:"px-4 py-3 flex items-center justify-between border-t border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent-success opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-accent-success"})]}),h.jsx("span",{className:"type-data-xs text-text-muted uppercase tracking-wide",children:"Live"})]}),(null==s?void 0:s.version)&&h.jsxs("span",{className:"type-data-xs text-text-muted",children:["v",s.version]})]})]});return h.jsxs(h.Fragment,{children:[h.jsx("header",{className:"lg:hidden fixed top-0 inset-x-0 z-[10001] h-14 bg-bg-body/70 backdrop-blur-xl border-b border-white/10",children:h.jsxs("div",{className:"flex items-center justify-between h-full px-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent-primary/20 flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:$t,alt:"",className:"w-5 h-5 object-contain"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-sm font-semibold text-text-primary",children:"pyMC Console"}),h.jsxs("p",{className:"type-data-xs text-text-muted",children:["v",Rt]})]})]}),h.jsx("button",{onClick:()=>y(!g),className:"w-10 h-10 flex items-center justify-center rounded-xl hover:bg-white/5 active:bg-white/10 transition-colors","aria-label":g?"Close menu":"Open menu",children:g?h.jsx(Ct,{className:"w-5 h-5 text-text-primary"}):h.jsx(vt,{className:"w-5 h-5 text-text-primary"})})]})}),h.jsx("div",{className:o("lg:hidden fixed inset-0 z-[10002] bg-black/60 backdrop-blur-sm transition-opacity duration-300",g?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>y(!1),"aria-hidden":"true"}),h.jsxs("aside",{className:o("lg:hidden fixed top-0 left-0 z-[10003] w-72 max-w-[85vw] h-full","bg-bg-surface/80 backdrop-blur-2xl border-r border-white/10","flex flex-col","transform transition-transform duration-300 ease-out",g?"translate-x-0":"-translate-x-full pointer-events-none"),children:[h.jsxs("div",{className:"flex items-center gap-3 px-4 py-5 border-b border-white/5",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-primary/20 flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:$t,alt:"",className:"w-6 h-6 object-contain"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-sm font-semibold text-text-primary",children:"pyMC Console"}),h.jsxs("p",{className:"type-data-xs text-text-muted",children:["v",Rt]})]})]}),O(),P(),D(),j()]}),h.jsxs("aside",{className:"hidden lg:flex flex-col w-64 flex-shrink-0 h-screen sticky top-0 bg-bg-surface/70 backdrop-blur-2xl border-r border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-3 px-5 py-6 border-b border-white/5",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-primary/15 flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:$t,alt:"",className:"w-6 h-6 object-contain"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-base font-semibold text-text-primary",children:"pyMC Console"}),h.jsxs("p",{className:"type-data-xs text-text-muted",children:["v",Rt]})]})]}),O(),P(),D(),j()]})]})}const xa=r.memo(function(){const{theme:e}=tt(),{backgroundImage:t,brightness:n}=e,[a,i]=r.useState(t),[o,s]=r.useState(!1);r.useEffect(()=>{if(t===a)return;const e=new Image;e.onload=()=>{s(!0),requestAnimationFrame(()=>{i(t),setTimeout(()=>s(!1),300)})},e.onerror=()=>{i(t)},e.src=t},[t,a]);const l=(100-n)/100;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 -z-20",style:{contain:"paint",willChange:o?"opacity":"auto"},"aria-hidden":"true",children:h.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-opacity duration-300 ease-out",style:{backgroundImage:`url(${a})`,opacity:o?.7:1}})}),h.jsx("div",{className:"fixed inset-0 -z-10 bg-black pointer-events-none transition-opacity duration-200 ease-out",style:{opacity:l,contain:"paint"},"aria-hidden":"true"})]})});function Na({className:e=""}){return h.jsx("div",{className:`bg-white/5 animate-pulse rounded-lg ${e}`,"aria-hidden":"true"})}function Sa(){return h.jsxs("div",{className:"section-gap","aria-label":"Loading dashboard",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Na,{className:"h-8 w-48"}),h.jsx(Na,{className:"h-8 w-32"})]}),h.jsx(Na,{className:"h-72"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:Array.from({length:8}).map((e,t)=>h.jsx(Na,{className:"h-24"},t))}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Array.from({length:4}).map((e,t)=>h.jsx(Na,{className:"h-44"},t))}),h.jsx(Na,{className:"h-96"})]})}function Ma(){return h.jsxs("div",{className:"section-gap","aria-label":"Loading list",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Na,{className:"h-8 w-40"}),h.jsx(Na,{className:"h-8 w-24"})]}),h.jsx(Na,{className:"h-20"}),h.jsxs("div",{className:"glass-card overflow-hidden",children:[h.jsx(Na,{className:"h-10 rounded-none"}),h.jsx("div",{className:"divide-y divide-border-subtle/30",children:Array.from({length:10}).map((e,t)=>h.jsx("div",{className:"px-4 py-3",children:h.jsx(Na,{className:"h-6"})},t))})]})]})}function Ca(){return h.jsxs("div",{className:"section-gap","aria-label":"Loading map",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Na,{className:"h-8 w-32"}),h.jsx(Na,{className:"h-6 w-48"})]}),h.jsx(Na,{className:"h-[500px]"}),h.jsx(Na,{className:"h-64"})]})}function Ra(){return h.jsxs("div",{className:"section-gap","aria-label":"Loading charts",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Na,{className:"h-8 w-36"}),h.jsx(Na,{className:"h-8 w-40"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[h.jsx(Na,{className:"h-80"}),h.jsx(Na,{className:"h-80"})]}),h.jsx(Na,{className:"h-64"})]})}function $a(){return h.jsxs("div",{className:"section-gap","aria-label":"Loading settings",children:[h.jsx(Na,{className:"h-8 w-32"}),h.jsxs("div",{className:"space-y-6",children:[h.jsx(Na,{className:"h-48"}),h.jsx(Na,{className:"h-64"}),h.jsx(Na,{className:"h-32"})]})]})}function Ta(){return h.jsxs("div",{className:"section-gap","aria-label":"Loading system info",children:[h.jsx(Na,{className:"h-8 w-28"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Array.from({length:4}).map((e,t)=>h.jsx(Na,{className:"h-28"},t))}),h.jsx(Na,{className:"h-64"}),h.jsx(Na,{className:"h-48"})]})}const _a=r.lazy(()=>at(()=>import("./Dashboard-qkMQrXs8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),La=r.lazy(()=>at(()=>import("./Packets-DmDlJKBx.js"),__vite__mapDeps([13,1,2,4,5,6,7,14,15,11,8,16]))),Ea=r.lazy(()=>at(()=>import("./Contacts-MBZsEaUa.js").then(e=>e.a),__vite__mapDeps([17,1,2,5,7,10,18,9,6,11,15]))),Pa=r.lazy(()=>at(()=>import("./Statistics-CTKpbczO.js"),__vite__mapDeps([19,1,2,3,14,11,20,7,9]))),Oa=r.lazy(()=>at(()=>import("./System-C64dU0Df.js"),__vite__mapDeps([21,1,2,11,16,18]))),Da=r.lazy(()=>at(()=>import("./Logs-Ie0JKnoJ.js"),__vite__mapDeps([22,1,2,14,11,8,16,20,23]))),ja=r.lazy(()=>at(()=>import("./Terminal-Cxgo-Id7.js"),__vite__mapDeps([24,1,2,11]))),Aa=r.lazy(()=>at(()=>import("./Settings-C1vzdsku.js"),__vite__mapDeps([25,1,2,6,11,23])));class Fa extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){var e;return this.state.hasError?h.jsxs("div",{className:"glass-card p-8 text-center",children:[h.jsx("p",{className:"type-subheading text-accent-red mb-2",children:"Page failed to render"}),h.jsx("p",{className:"type-body text-white/50 mb-4",children:(null==(e=this.state.error)?void 0:e.message)||"Unknown error"}),h.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-accent-primary/20 text-accent-primary rounded-lg hover:bg-accent-primary/30 transition-colors",children:"Try Again"})]}):this.props.children}}function Ia(){const e=_n(e=>e.initializeApp);return r.useEffect(()=>{e()},[e]),h.jsxs(h.Fragment,{children:[h.jsx(xa,{}),h.jsxs("div",{className:"flex min-h-screen",children:[h.jsx(ka,{}),h.jsx("main",{className:"flex-1 min-w-0 pt-14 lg:pt-0",children:h.jsx("div",{className:"h-full overflow-y-auto",children:h.jsx("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:h.jsx(Fa,{children:h.jsxs(be,{children:[h.jsx(ye,{path:"/",element:h.jsx(r.Suspense,{fallback:h.jsx(Sa,{}),children:h.jsx(_a,{})})}),h.jsx(ye,{path:"/packets",element:h.jsx(r.Suspense,{fallback:h.jsx(Ma,{}),children:h.jsx(La,{})})}),h.jsx(ye,{path:"/contacts",element:h.jsx(r.Suspense,{fallback:h.jsx(Ca,{}),children:h.jsx(Ea,{})})}),h.jsx(ye,{path:"/statistics",element:h.jsx(r.Suspense,{fallback:h.jsx(Ra,{}),children:h.jsx(Pa,{})})}),h.jsx(ye,{path:"/system",element:h.jsx(r.Suspense,{fallback:h.jsx(Ta,{}),children:h.jsx(Oa,{})})}),h.jsx(ye,{path:"/logs",element:h.jsx(r.Suspense,{fallback:h.jsx(Ma,{}),children:h.jsx(Da,{})})}),h.jsx(ye,{path:"/terminal",element:h.jsx(r.Suspense,{fallback:h.jsx(Ma,{}),children:h.jsx(ja,{})})}),h.jsx(ye,{path:"/settings",element:h.jsx(r.Suspense,{fallback:h.jsx($a,{}),children:h.jsx(Aa,{})})})]})})})})})]})]})}f.createRoot(document.getElementById("root")).render(h.jsx(r.StrictMode,{children:h.jsx(et,{children:h.jsx(Fe,{children:h.jsx(Ia,{})})})}));export{Qt as $,qn as A,Wn as B,ht as C,dn as D,aa as E,ra as F,ma as G,ua as H,da as I,qt as J,Wt as K,Ue as L,mn as M,ut as N,Bn as O,fn as P,Jn as Q,kt as R,hn as S,Vt as T,jn as U,An as V,zn as W,Ct as X,Hn as Y,mt as Z,at as _,Dn as a,gn as a0,Et as a1,zt as a2,Yt as a3,Kt as a4,Gt as a5,Xt as a6,Mt as a7,tt as a8,We as a9,Xe as aa,Nt as ab,ft as ac,ya as ad,va as ae,na as af,Yn as ag,Vn as ah,Fn as b,ct as c,Un as d,En as e,Kn as f,oe as g,Pn as h,In as i,h as j,Zt as k,ha as l,Bt as m,fa as n,ga as o,un as p,cn as q,la as r,ia as s,pa as t,On as u,dt as v,ca as w,ea as x,Zn as y,Ln as z};
