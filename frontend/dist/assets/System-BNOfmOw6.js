import{d as Y,d3 as A,cW as F,r as l,h as J,j as e,n as G,c as H,F as B,d4 as te,d5 as se,d6 as ne,d7 as re,d8 as ae,c0 as oe,B as le,d9 as ce,da as W}from"./index-Dn8tK98n.js";import{C as E,P as ie,a as de,B as me}from"./PageLayout-CEZyg7mo.js";import{T as ue}from"./triangle-alert-GEQT9B_t.js";import{a as xe,A as pe}from"./arrow-up-BrL8KyuV.js";import{N as fe}from"./network-BOgcz6ft.js";import{A as O}from"./activity-BvYhoSdv.js";import{R as he}from"./refresh-cw-Dl3vTS4a.js";import{R as $,C as L}from"./Grid-BLZ4_WAh.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ye=Y("cpu",ge);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],we=Y("hard-drive",je);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Ne=Y("thermometer",be),P=[{pos:0,color:A(F.purple)},{pos:.25,color:A(F.indigo)},{pos:.5,color:A(F.cyan)},{pos:.75,color:A(F.amber)},{pos:1,color:A(F.red)}];function ve(t,s,o){const r=.45454545454545453,n=Math.pow(t.r/255,2.2),i=Math.pow(t.g/255,2.2),x=Math.pow(t.b/255,2.2),d=Math.pow(s.r/255,2.2),m=Math.pow(s.g/255,2.2),c=Math.pow(s.b/255,2.2);return{r:Math.round(Math.pow(n+o*(d-n),r)*255),g:Math.round(Math.pow(i+o*(m-i),r)*255),b:Math.round(Math.pow(x+o*(c-x),r)*255)}}function Q(t){const s=Math.max(0,Math.min(1,t));let o=P[0],a=P[P.length-1];for(let i=0;i<P.length-1;i++)if(s>=P[i].pos&&s<=P[i+1].pos){o=P[i],a=P[i+1];break}const r=a.pos-o.pos,n=r>0?(s-o.pos)/r:0;return ve(o.color,a.color,n)}const V=G.hero,Me=36;function X(){const t=getComputedStyle(document.documentElement);return{fontFamily:t.getPropertyValue("--font-data").trim()||'"JetBrains Mono", ui-monospace, monospace',textPrimary:t.getPropertyValue("--text-primary").trim()||"#FFFFFF",textMuted:t.getPropertyValue("--text-muted").trim()||"#727272",gridColor:t.getPropertyValue("--chart-grid").trim()||"rgba(255, 255, 255, 0.06)"}}function Re(t){const s=[],o=Math.max(0,V-t.length);for(let r=0;r<o;r++)s.push({timestamp:r,time:"",cpu:null,memory:null});const a=t.slice(-V);for(let r=0;r<a.length;r++){const n=a[r];s.push({timestamp:o+r,time:n.time.slice(0,5),cpu:n.cpu,memory:n.memory})}return s}function ke(t,s,o,a,r){if(s.length===0)return;const n=t.ctx,{left:i,top:x,width:d,height:m}=t.bbox,c=window.devicePixelRatio||1;if(d<=0||m<=0)return;const g=s.length;if(g===0)return;const R=d/g,j=u=>i+(u+.5)*R,f=u=>{const y=Math.min(Math.max(u/100,0),1);return x+m*(1-y)};n.save(),n.strokeStyle=r.textPrimary,n.globalAlpha=.1,n.lineWidth=1*c,n.setLineDash([4*c,4*c]);for(const u of[25,50,75]){const y=Math.round(f(u))+.5;n.beginPath(),n.moveTo(Math.round(i),y),n.lineTo(Math.round(i+d),y),n.stroke()}n.restore(),n.save(),n.font=`bold ${10*c}px ${r.fontFamily}`,n.fillStyle=r.textMuted,n.textBaseline="middle",n.textAlign="left";const p=8*c;for(const u of[0,25,50,75,100]){const y=f(u),v=Math.max(x+p,Math.min(x+m-p,y));n.fillText(`${u}%`,4*c,v)}n.restore(),n.save();for(let u=0;u<g;u++){const y=s[u];if(!y||y.cpu===null)continue;const b=j(u)-R/2,M=f(y.cpu),S=x+m-M,_=Math.pow(y.cpu/100,.7),T=Q(_);n.fillStyle=`rgba(${T.r}, ${T.g}, ${T.b}, 0.85)`,n.fillRect(b,M,R,S)}n.restore(),n.save(),n.lineWidth=2.5*c,n.lineCap="round",n.lineJoin="round",n.strokeStyle=a;let h=!1,w=0;for(let u=0;u<g;u++){const y=s[u];if(!y||y.memory===null){h&&(n.stroke(),n.beginPath(),h=!1);continue}const v=j(u),b=f(y.memory);h?(n.lineTo(v,w),n.lineTo(v,b)):(n.beginPath(),n.moveTo(v,b),h=!0),w=b}h&&n.stroke(),n.restore(),n.save(),n.font=`${10*c}px ${r.fontFamily}`,n.fillStyle=r.textMuted,n.textBaseline="top",n.textAlign="center";const N=x+m+6*c,k=Math.max(1,Math.floor(g/4));for(let u=0;u<g;u+=k){const y=s[u];!y||!y.time||n.fillText(y.time,j(u),N)}if(g>0){const u=s[g-1];u!=null&&u.time&&(n.textAlign="right",n.fillText(u.time,j(g-1),N))}n.restore()}function Ce({data:t,cpuColor:s,memoryColor:o}){const a=l.useRef(null),r=l.useRef(null),n=l.useRef([]),i=l.useRef(s),x=l.useRef(o),d=l.useRef(null),m=l.useRef(t.length);l.useLayoutEffect(()=>{i.current=s,x.current=o}),l.useEffect(()=>{d.current=X()},[]);const c=l.useMemo(()=>Re(t),[t]);l.useLayoutEffect(()=>{n.current=c},[c]);const g=l.useMemo(()=>{const f=c.map(h=>h.timestamp),p=new Array(c.length).fill(1);return[f,p]},[c]),R=l.useMemo(()=>({hooks:{draw:f=>{const p=d.current||X();ke(f,n.current,i.current,x.current,p)}}}),[]),j=l.useMemo(()=>({width:400,height:240,padding:[4,8,4,Me],cursor:{show:!1,x:!1,y:!1,drag:{x:!1,y:!1},points:{show:!1}},scales:{x:{time:!1},y:{range:[0,100]}},axes:[{show:!1},{show:!1}],series:[{},{show:!1}],plugins:[R]}),[R]);return l.useEffect(()=>{const f=a.current;if(!f||c.length===0)return;const p=m.current,h=t.length,w=Math.abs(h-p);if(!(!r.current||w>50||p>0&&w/p>.2)&&r.current){r.current.setData(g),m.current=h;return}r.current&&r.current.destroy();const k=f.getBoundingClientRect(),u=Math.floor(k.width)||400,y=Math.floor(k.height)||240,v=new J({...j,width:u,height:y},g,f);return r.current=v,m.current=h,()=>{v.destroy(),r.current=null}},[j,g,c.length,t.length]),l.useEffect(()=>{const f=a.current;if(!f)return;const p=new ResizeObserver(h=>{const w=h[0];if(!w||!r.current)return;const{width:N,height:k}=w.contentRect;N>0&&k>0&&r.current.setSize({width:Math.floor(N),height:Math.floor(k)})});return p.observe(f),()=>{p.disconnect()}},[]),l.useEffect(()=>{r.current&&r.current.redraw()},[s,o,c]),t.length===0?e.jsx("div",{className:"flex-1 min-h-[180px] flex items-center justify-center text-fg-muted",children:"Collecting data..."}):e.jsx("div",{className:"relative flex-1 min-h-[180px]",children:e.jsx("div",{ref:a,className:"absolute inset-0 radius-inner overflow-hidden"})})}const Se=l.memo(Ce),_e=1024*1024;function Te(t,s,o,a,r){const n=t.ctx,{left:i,top:x,width:d,height:m}=t.bbox;if(d<=0||m<=0)return;const c=[...Array(Math.max(0,r-s.length)).fill(0),...s.slice(-r)],g=Math.max(...c,1),R=c.length,j=d/R,f=m*.03;n.save();for(let p=0;p<R;p++){const h=c[p],w=i+p*j;if(h<=0)continue;const N=Math.min(h/g,1),k=Math.max(N*m,f),u=Math.min(h/_e,1),y=Math.pow(u,.7),v=Q(y);n.fillStyle=`rgb(${v.r}, ${v.g}, ${v.b})`,a?n.fillRect(w,x,j,k):n.fillRect(w,x+m-k,j,k)}n.restore()}function Pe({data:t,color:s,flipped:o=!1,fixedSlots:a}){const r=l.useRef(null),n=l.useRef(null),i=l.useRef(t),x=l.useRef(s),d=l.useRef(o),m=l.useRef(a);l.useLayoutEffect(()=>{i.current=t,x.current=s,d.current=o,m.current=a});const c=l.useMemo(()=>{const j=Array.from({length:a},(p,h)=>h),f=new Array(a).fill(1);return[j,f]},[a]),g=l.useMemo(()=>({hooks:{draw:j=>{Te(j,i.current,x.current,d.current,m.current)}}}),[]),R=l.useMemo(()=>({width:400,height:40,padding:[0,0,0,0],legend:{show:!1},cursor:{show:!1,x:!1,y:!1,drag:{x:!1,y:!1},points:{show:!1}},scales:{x:{time:!1},y:{range:[0,1]}},axes:[{show:!1},{show:!1}],series:[{},{show:!1,label:""}],plugins:[g]}),[g]);return l.useEffect(()=>{const j=r.current;if(!j)return;n.current&&n.current.destroy();const f=j.getBoundingClientRect(),p=Math.floor(f.width)||400,h=Math.floor(f.height)||40,w=new J({...R,width:p,height:h},c,j);return n.current=w,()=>{w.destroy(),n.current=null}},[R,c]),l.useEffect(()=>{const j=r.current;if(!j)return;const f=new ResizeObserver(p=>{const h=p[0];if(!h||!n.current)return;const{width:w,height:N}=h.contentRect;w>0&&N>0&&n.current.setSize({width:Math.floor(w),height:Math.floor(N)})});return f.observe(j),()=>{f.disconnect()}},[]),l.useEffect(()=>{n.current&&n.current.redraw()},[t,s,o]),e.jsx("div",{ref:r,className:"w-full h-full"})}const K=l.memo(Pe),C={cold:30,normal:50,warm:65,hot:80},I={cpu:{warning:80,danger:95},memory:{warning:85,danger:95},temp:{warning:70,danger:85}},Ee=[{threshold:C.cold,color:"var(--sys-cyan)"},{threshold:C.normal,color:"var(--sys-blue)"},{threshold:C.warm,color:"var(--sys-indigo)"},{threshold:C.hot,color:"var(--signal-poor)"}];function Be(t){return t<C.cold?{text:"Cool",color:"text-sys-cyan"}:t<C.normal?{text:"Normal",color:"text-sys-blue"}:t<C.warm?{text:"Warm",color:"text-sys-indigo"}:t<C.hot?{text:"Hot",color:"text-signal-poor"}:{text:"Danger",color:"text-sys-red"}}function Ae(t,s,o){const a=o-s,r={cold:(C.cold-s)/a*100,normal:(C.normal-s)/a*100,warm:(C.warm-s)/a*100,hot:(C.hot-s)/a*100};return`linear-gradient(to right, ${[{pos:0,color:"var(--sys-cyan)"},{pos:r.cold,color:"var(--sys-cyan)"},{pos:r.cold,color:"var(--sys-blue)"},{pos:r.normal,color:"var(--sys-blue)"},{pos:r.normal,color:"var(--sys-indigo)"},{pos:r.warm,color:"var(--sys-indigo)"},{pos:r.warm,color:"var(--signal-poor)"},{pos:r.hot,color:"var(--signal-poor)"},{pos:r.hot,color:"var(--sys-red)"},{pos:100,color:"var(--sys-red)"}].map(x=>{const d=t>0?x.pos/t*100:0;return`${x.color} ${Math.min(d,100)}%`}).join(", ")})`}function U(t,s){return t>=s.danger?"danger":t>=s.warning?"warning":"none"}function Fe(t){let s="none";for(const o of Object.values(t)){const a=U(o,I.temp);if(a==="danger")return"danger";a==="warning"&&(s="warning")}return s}function Z(t){let s,o;t>=1024*1024*1024?(s=t/(1024*1024*1024),o="GB/s"):t>=1024*1024?(s=t/(1024*1024),o="MB/s"):t>=1024?(s=t/1024,o="KB/s"):(s=t,o="B/s");let a;return s>=100?a=s.toFixed(0):(s>=10,a=s.toFixed(1)),`${a} ${o}`}function D(t){return t>=1024*1024*1024?{value:(t/(1024*1024*1024)).toFixed(1),unit:"GiB"}:t>=1024*1024?{value:(t/(1024*1024)).toFixed(1),unit:"MiB"}:t>=1024?{value:(t/1024).toFixed(1),unit:"KiB"}:{value:String(t),unit:"B"}}const z=l.memo(function({level:s}){return s==="none"?null:e.jsxs("span",{className:H("inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium",s==="danger"&&"bg-sys-red/20 text-sys-red",s==="warning"&&"bg-sys-indigo/20 text-sys-indigo"),children:[e.jsx(ue,{className:"w-3 h-3"}),s==="danger"?"High":"Warn"]})}),ee=l.memo(function({value:s,max:o=100,width:a=10,color:r="primary"}){const n=Math.min(s/o,1),i=Math.round(n*a),x=a-i,d="■".repeat(i),m="·".repeat(x),c={primary:"text-sys-blue",secondary:"text-sys-indigo",success:"text-sys-green",danger:"text-sys-red"}[r];return e.jsxs("span",{className:"font-mono text-[10px] tracking-tight",children:[e.jsx("span",{className:c,children:d}),e.jsx("span",{className:"text-fg-muted/40",children:m})]})}),He=l.memo(function({index:s,usage:o}){const a=o>90?"danger":o>70?"secondary":"primary";return e.jsxs("div",{className:"flex items-center gap-1 type-data-xs",children:[e.jsxs("span",{className:"text-fg-muted w-5",children:["C",s]}),e.jsx(ee,{value:o,width:8,color:a}),e.jsxs("span",{className:H("w-7 text-right tabular-nums",o>90?"text-sys-red":o>70?"text-sys-indigo":"text-sys-green"),children:[o.toFixed(0),"%"]})]})}),$e=l.memo(function({pid:s,name:o,cpu:a,mem:r,isTopCpu:n=!1,isTopMem:i=!1}){return e.jsxs("div",{className:"flex items-center gap-2 py-1 type-data-sm hover:bg-subtle-fill -mx-1 px-1 rounded",children:[e.jsx("span",{className:"text-fg-muted w-10 sm:w-14 tabular-nums",children:s}),e.jsx("span",{className:"flex-1 truncate text-fg-primary",children:o}),e.jsx("span",{className:"hidden sm:inline-flex",children:e.jsx(ee,{value:a,max:100,width:6,color:a>50?"danger":a>20?"secondary":"success"})}),e.jsx("span",{className:H("w-10 sm:w-12 text-right tabular-nums",n?"text-fg-primary":a>50?"text-sys-red":a>20?"text-sys-indigo":"text-fg-muted"),children:a.toFixed(1)}),e.jsx("span",{className:H("w-10 sm:w-12 text-right tabular-nums",i?"text-fg-primary":r>50?"text-sys-red":r>20?"text-sys-indigo":"text-fg-muted"),children:r.toFixed(1)})]})}),q=l.memo(function({value:s,label:o,min:a=20,max:r=100}){const n=Math.min(Math.max((s-a)/(r-a)*100,0),100),i=Be(s),x=r-a;return e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"type-data-sm text-fg-muted",children:o}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"type-data-sm text-fg-muted",children:i.text}),e.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded type-data-sm",children:[e.jsx("span",{className:i.color,children:s.toFixed(1)}),e.jsx("span",{className:"text-fg-primary",children:"°C"})]})]})]}),e.jsxs("div",{className:"relative h-3 rounded-full bg-subtle-fill/80 depth-stroke-inset overflow-hidden",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-300 ease-out",style:{background:Ae(n,a,r),width:`${n}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center pointer-events-none",children:Ee.map(({threshold:d,color:m})=>{const c=(d-a)/x*100;return c<0||c>100?null:e.jsx("div",{className:"absolute w-px h-full",style:{left:`${c}%`,backgroundColor:m}},d)})})]})]})});l.memo(function({data:s,color:o,flipped:a=!1,fixedSlots:r}){const n=[...Array(Math.max(0,r-s.length)).fill(0),...s.slice(-r)],i=Math.max(...n,1),x=n.map(d=>d===0?0:Math.max(d/i*100,3));return e.jsx("div",{className:"w-full h-full flex items-end",style:{transform:a?"scaleY(-1)":void 0},children:x.map((d,m)=>e.jsx("div",{className:"flex-1 min-w-0",style:{height:d>0?`${d}%`:"0%",backgroundColor:d>0?o:"transparent"}},m))})});function Le({networkHistory:t,txRate:s,rxRate:o,totalBytesSent:a,totalBytesRecv:r,cpuColor:n,memoryColor:i,networkSlots:x}){return e.jsxs(E,{neomorphic:!0,className:"flex flex-col",children:[e.jsx(B,{icon:e.jsx(fe,{}),title:"Network",actions:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(xe,{className:"w-3.5 h-3.5",style:{color:i}}),e.jsx("span",{className:"type-data-xs",style:{color:i},children:"TX"}),e.jsx("span",{className:"px-2 py-1 bg-subtle-fill-strong rounded type-data-sm text-fg-primary",children:Z(s)})]})}),e.jsxs("div",{className:"flex flex-col h-[120px]",children:[e.jsx("div",{className:"h-[60px]",children:e.jsx(K,{data:t.map((d,m,c)=>{if(m===0)return 0;const g=(d.timestamp-c[m-1].timestamp)/1e3;return g>0?(d.bytesSent-c[m-1].bytesSent)/g:0}),color:i,fixedSlots:x})}),e.jsx("div",{className:"h-[60px]",children:e.jsx(K,{data:t.map((d,m,c)=>{if(m===0)return 0;const g=(d.timestamp-c[m-1].timestamp)/1e3;return g>0?(d.bytesRecv-c[m-1].bytesRecv)/g:0}),color:n,flipped:!0,fixedSlots:x})})]}),e.jsxs("div",{className:"pt-2 flex flex-wrap justify-between items-center gap-2 type-data-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-fg-muted",children:"Total"}),e.jsxs("span",{className:"px-1.5 sm:px-2 py-1 bg-subtle-fill-strong rounded tabular-nums",children:[e.jsx("span",{style:{color:i},children:D(a).value})," ",e.jsx("span",{className:"text-fg-muted",children:D(a).unit})]}),e.jsxs("span",{className:"px-1.5 sm:px-2 py-1 bg-subtle-fill-strong rounded tabular-nums",children:[e.jsx("span",{style:{color:n},children:D(r).value})," ",e.jsx("span",{className:"text-fg-muted",children:D(r).unit})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(pe,{className:"w-3.5 h-3.5",style:{color:n}}),e.jsx("span",{className:"type-data-xs",style:{color:n},children:"RX"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-1 bg-subtle-fill-strong rounded tabular-nums text-fg-primary",children:Z(o)})]})]})]})}const De=l.memo(Le);function Oe({temperatures:t}){return e.jsxs(E,{neomorphic:!0,className:"flex flex-col",children:[e.jsx(B,{icon:e.jsx(Ne,{}),title:"Temperature",actions:t&&e.jsx(z,{level:Fe(t)})}),e.jsx("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:t&&Object.keys(t).length>0?e.jsxs("div",{className:"space-y-3",children:[t.cpu_thermal!==void 0&&e.jsx(q,{value:t.cpu_thermal,label:"CPU",min:20,max:100}),Object.entries(t).filter(([s])=>s!=="cpu_thermal").slice(0,2).map(([s,o])=>e.jsx(q,{value:o,label:s.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()),min:20,max:100},s))]}):e.jsxs("div",{className:"flex items-center justify-center text-fg-muted text-sm",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"No sensors"]})})]})}const Ie=l.memo(Oe);function Ue({usagePercent:t,used:s,available:o,memoryColor:a}){return e.jsxs(E,{neomorphic:!0,className:"flex flex-col",children:[e.jsx(B,{icon:e.jsx(O,{}),title:"Memory",actions:e.jsxs("span",{className:"px-2 py-0.5 bg-subtle-fill-strong rounded type-data",style:{color:a},children:[t.toFixed(0),"%"]})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:[e.jsxs("div",{className:"flex gap-1 h-12 radius-inner bg-subtle-fill/80 depth-stroke-inset overflow-hidden",children:[e.jsx("div",{className:"h-full transition-all duration-300 bg-sys-blue",style:{width:`${t}%`}}),e.jsx("div",{className:"h-full transition-all duration-300 bg-subtle-fill/80",style:{width:`${100-t}%`}})]}),e.jsxs("div",{className:"flex items-center justify-between type-data-xs pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-sys-blue"}),e.jsx("span",{className:"text-fg-muted",children:"Used"}),e.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-primary",children:[(s/(1024*1024)).toFixed(0)," MB"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-subtle-fill-strong depth-stroke-raised"}),e.jsx("span",{className:"text-fg-muted",children:"Avail"}),e.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-muted",children:[(o/(1024*1024)).toFixed(0)," MB"]})]})]})]})]})}const ze=l.memo(Ue);function Ye({usagePercent:t,used:s,free:o,cpuColor:a}){return e.jsxs(E,{neomorphic:!0,className:"flex flex-col",children:[e.jsx(B,{icon:e.jsx(we,{}),title:"Disk",actions:e.jsxs("span",{className:"px-2 py-0.5 bg-subtle-fill-strong rounded type-data",style:{color:a},children:[t.toFixed(0),"%"]})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:[e.jsxs("div",{className:"flex gap-1 h-12 radius-inner bg-subtle-fill/80 depth-stroke-inset overflow-hidden",children:[e.jsx("div",{className:"h-full transition-all duration-300 bg-sys-blue",style:{width:`${t}%`}}),e.jsx("div",{className:"h-full transition-all duration-300 bg-subtle-fill/80",style:{width:`${100-t}%`}})]}),e.jsxs("div",{className:"flex items-center justify-between type-data-xs pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-sys-blue"}),e.jsx("span",{className:"text-fg-muted",children:"Used"}),e.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-primary",children:[(s/(1024*1024*1024)).toFixed(1)," GB"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-subtle-fill-strong depth-stroke-raised"}),e.jsx("span",{className:"text-fg-muted",children:"Free"}),e.jsxs("span",{className:"px-1.5 py-0.5 bg-subtle-fill-strong rounded tabular-nums text-fg-muted",children:[(o/(1024*1024*1024)).toFixed(1)," GB"]})]})]})]})]})}const Ge=l.memo(Ye);function We({processes:t}){if(t.length===0)return null;const s=t.slice(0,10),o=Math.max(...s.map(r=>r.cpu_percent)),a=Math.max(...s.map(r=>r.memory_percent));return e.jsx(E,{neomorphic:!0,noPadding:!0,children:e.jsxs("div",{className:"px-4 py-3",children:[e.jsx(B,{icon:e.jsx(O,{}),title:"Processes"}),e.jsxs("div",{className:"flex items-center gap-2 py-1.5 type-data-sm text-fg-muted",children:[e.jsx("span",{className:"w-10 sm:w-14",children:"PID"}),e.jsx("span",{className:"flex-1",children:"Program"}),e.jsx("span",{className:"hidden sm:block w-[52px]"}),e.jsx("span",{className:"w-10 sm:w-12 text-right",children:"CPU%"}),e.jsx("span",{className:"w-10 sm:w-12 text-right",children:"MEM%"})]}),s.map(r=>e.jsx($e,{pid:r.pid,name:r.name,cpu:r.cpu_percent,mem:r.memory_percent,isTopCpu:r.cpu_percent===o&&o>0,isTopMem:r.memory_percent===a&&a>0},r.pid))]})})}const Ve=l.memo(We),Xe=G.hero;function Ke(){const[t,s]=l.useState(typeof window<"u"?window.matchMedia("(max-width: 767px)").matches:!1);return l.useEffect(()=>{const o=window.matchMedia("(max-width: 767px)");s(o.matches);const a=r=>s(r.matches);return o.addEventListener("change",a),()=>o.removeEventListener("change",a)},[]),t?G.hero:40}function rt(){var v;const t=te(),s=se(),o=ne(),a=re(),r=ae(),[n,i]=l.useState([]),[x,d]=l.useState(!1),[m,c]=l.useState([]),[g,R]=l.useState(0),[j,f]=l.useState(0),p=l.useRef(null),h=oe(),w=h.blue,N=h.amber,k=Ke();l.useEffect(()=>{if(!t)return;const b=Date.now(),M={timestamp:b,bytesRecv:t.network.bytes_recv,bytesSent:t.network.bytes_sent};if(p.current){const S=(b-p.current.timestamp)/1e3;if(S>0){const _=(M.bytesRecv-p.current.bytesRecv)/S,T=(M.bytesSent-p.current.bytesSent)/S;_>=0&&T>=0&&(R(_),f(T))}}p.current=M,c(S=>[...S,M].slice(-Xe))},[t]);const u=5e3;l.useEffect(()=>{let b=!0;const M=async()=>{var T;const _=await W();b&&_.success&&((T=_.data)!=null&&T.processes)&&i(_.data.processes)};M();const S=setInterval(M,u);return()=>{b=!1,clearInterval(S)}},[]);const y=async()=>{var M;d(!0),await a();const b=await W();b.success&&((M=b.data)!=null&&M.processes)&&i(b.data.processes),d(!1)};return e.jsxs(ie,{children:[e.jsx(de,{title:"System Stats",icon:e.jsx(ye,{}),controls:e.jsxs(le,{color:"muted",onClick:y,disabled:x,children:[e.jsx(he,{"data-slot":"icon",className:H(x&&"animate-spin")}),"Refresh"]})}),e.jsxs(me,{children:[o&&e.jsx(E,{className:"border border-sys-red/50 bg-sys-red/10",children:e.jsx("p",{className:"text-sys-red",children:o})}),s?e.jsx(E,{neomorphic:!0,className:"p-12 text-center",children:e.jsx("div",{className:"animate-pulse text-fg-muted",children:"Loading system stats..."})}):t?e.jsxs(e.Fragment,{children:[e.jsx($,{template:"hero",children:e.jsxs(E,{neomorphic:!0,className:"pb-2 sm:pb-3",children:[e.jsx(B,{icon:e.jsx(O,{}),title:"System Resources",stackActionsOnMobile:!0,actions:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[((v=t.system)==null?void 0:v.uptime)&&e.jsx("span",{className:"px-2 py-0.5 bg-subtle-fill rounded type-data-sm text-fg-primary",children:ce(t.system.uptime)}),e.jsx(z,{level:U(t.cpu.usage_percent,I.cpu)}),e.jsx(z,{level:U(t.memory.usage_percent,I.memory)}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"type-data-sm text-fg-muted",children:"CPU"}),e.jsxs("span",{className:"text-sm sm:text-base font-mono font-semibold tabular-nums",style:{color:w},children:[t.cpu.usage_percent.toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"type-data-sm text-fg-muted",children:"MEM"}),e.jsxs("span",{className:"text-sm sm:text-base font-mono font-semibold tabular-nums",style:{color:N},children:[t.memory.usage_percent.toFixed(0),"%"]})]})]})}),e.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:e.jsx(Se,{data:r,cpuColor:w,memoryColor:N})}),t.cpu.per_core_percent&&t.cpu.per_core_percent.length>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-edge-subtle",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-x-3 gap-y-0.5",children:t.cpu.per_core_percent.map((b,M)=>e.jsx(He,{index:M,usage:b},M))})})]})}),e.jsxs($,{template:"compact",children:[e.jsx(L,{span:12,md:6,children:e.jsx(De,{networkHistory:m,txRate:j,rxRate:g,totalBytesSent:t.network.bytes_sent,totalBytesRecv:t.network.bytes_recv,cpuColor:w,memoryColor:N,networkSlots:k})}),e.jsx(L,{span:12,md:6,children:e.jsx(Ie,{temperatures:t.temperatures})})]}),e.jsxs($,{template:"compact",children:[e.jsx(L,{span:12,sm:6,children:e.jsx(ze,{usagePercent:t.memory.usage_percent,used:t.memory.used,available:t.memory.available,memoryColor:N})}),e.jsx(L,{span:12,sm:6,children:e.jsx(Ge,{usagePercent:t.disk.usage_percent,used:t.disk.used,free:t.disk.free,cpuColor:w})})]}),e.jsx($,{template:"auto",children:e.jsx(Ve,{processes:n})})]}):null]})]})}export{rt as default};
