import{ap as Ge,aM as be,ao as Le,ck as $e,ar as He,aq as q,r as l,au as Ke,av as ee,az as z,ay as U,aj as k,aC as K,cl as se,cm as Be,aH as We,aI as Ye,aN as Ve,aJ as re,aO as Xe,aK as me,cn as _e,co as W,cp as M,cq as he,cr as A,cs as xe,aL as le,aX as g,ct as ye,cu as Pe,aP as we,an as Qe,aQ as Fe,aR as Oe,aT as Ze,aU as qe,aW as Ee,cv as ze,cw as Te,aY as Ue,cx as Je,cy as et,aZ as Ie,cz as tt,cA as nt,cB as at,ak as ot,b3 as st,aS as J,cC as je,b5 as rt,b7 as ie,cD as lt,cE as ut,cF as ct,d as it,j as I,c as H,A as pt,m as dt,cj as ft}from"./index-CdwYueSG.js";import{C as vt}from"./chevron-right-Clx_OSXY.js";import{F as bt,y as mt,R as ht,T as yt,w as Pt,A as $t}from"./map-pin-BTzarosW.js";var xt=Object.defineProperty,gt=(e,n,t)=>n in e?xt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ke=(e,n,t)=>(gt(e,typeof n!="symbol"?n+"":n,t),t),$=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($||{}),St=(e=>(e[e.OpenPopover=0]="OpenPopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(St||{});let Ct={0:e=>e.popoverState===0?e:{...e,popoverState:0,__demoMode:!1},1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,n){return e.button===n.button?e:{...e,button:n.button}},3(e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},4(e,n){return e.panel===n.panel?e:{...e,panel:n.panel}},5(e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}};class ge extends Ge{constructor(n){super(n),ke(this,"actions",{close:()=>this.send({type:1}),refocusableClose:t=>{this.actions.close();let v=t?be(t)?t:"current"in t&&be(t.current)?t.current:this.state.button:this.state.button;v==null||v.focus()},open:()=>this.send({type:0}),setButtonId:t=>this.send({type:3,buttonId:t}),setButton:t=>this.send({type:2,button:t}),setPanelId:t=>this.send({type:5,panelId:t}),setPanel:t=>this.send({type:4,panel:t})}),ke(this,"selectors",{isPortalled:t=>{var v;if(!t.button||!t.panel)return!1;let h=(v=Le(t.button))!=null?v:document;for(let x of h.querySelectorAll("body > *"))if(Number(x==null?void 0:x.contains(t.button))^Number(x==null?void 0:x.contains(t.panel)))return!0;let b=$e(h),r=b.indexOf(t.button),a=(r+b.length-1)%b.length,C=(r+1)%b.length,y=b[a],s=b[C];return!t.panel.contains(y)&&!t.panel.contains(s)}});{let t=this.state.id,v=He.get(null);this.on(0,()=>v.actions.push(t)),this.on(1,()=>v.actions.pop(t))}}static new({id:n,__demoMode:t=!1}){return new ge({id:n,__demoMode:t,popoverState:t?0:1,buttons:{current:[]},button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:{current:null},afterPanelSentinel:{current:null},afterButtonSentinel:{current:null}})}reduce(n,t){return q(t.type,Ct,n,t)}}const Ne=l.createContext(null);function pe(e){let n=l.useContext(Ne);if(n===null){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pe),t}return n}function wt({id:e,__demoMode:n=!1}){let t=l.useMemo(()=>ge.new({id:e,__demoMode:n}),[]);return Ke(()=>t.dispose()),t}let Se=l.createContext(null);Se.displayName="PopoverGroupContext";function De(){return l.useContext(Se)}let de=l.createContext(null);de.displayName="PopoverPanelContext";function It(){return l.useContext(de)}let kt="div";function Bt(e,n){var t;let v=l.useId(),{__demoMode:h=!1,...b}=e,r=wt({id:v,__demoMode:h}),a=l.useRef(null),C=U(n,Je(u=>{a.current=u})),[y,s,x,S,B]=z(r,l.useCallback(u=>[u.popoverState,u.button,u.panel,u.buttonId,u.panelId],[])),w=et((t=a.current)!=null?t:s),d=Ie(S),p=Ie(B),f=l.useMemo(()=>({buttonId:d,panelId:p,close:r.actions.close}),[d,p,r]),P=De(),c=P==null?void 0:P.registerPopover,_=k(()=>{var u,F;let E=se((u=a.current)!=null?u:s);return(F=P==null?void 0:P.isFocusWithinPopoverGroup())!=null?F:E&&((s==null?void 0:s.contains(E))||(x==null?void 0:x.contains(E)))});l.useEffect(()=>c==null?void 0:c(f),[c,f]);let[te,ne]=tt(),G=nt(s),D=at({mainTreeNode:G,portals:te,defaultContainers:[{get current(){return r.state.button}},{get current(){return r.state.panel}}]});ot(w,"focus",u=>{var F,E,j,Q,N,Z;u.target!==window&&lt(u.target)&&r.state.popoverState===$.Open&&(_()||r.state.button&&r.state.panel&&(D.contains(u.target)||(E=(F=r.state.beforePanelSentinel.current)==null?void 0:F.contains)!=null&&E.call(F,u.target)||(Q=(j=r.state.afterPanelSentinel.current)==null?void 0:j.contains)!=null&&Q.call(j,u.target)||(Z=(N=r.state.afterButtonSentinel.current)==null?void 0:N.contains)!=null&&Z.call(N,u.target)||r.actions.close()))},!0);let Y=y===$.Open;st(Y,D.resolveContainers,(u,F)=>{r.actions.close(),ut(F,ct.Loose)||(u.preventDefault(),s==null||s.focus())});let ae=re({open:y===$.Open,close:r.actions.refocusableClose}),oe=z(r,l.useCallback(u=>q(u.popoverState,{[$.Open]:J.Open,[$.Closed]:J.Closed}),[])),V={ref:C},X=le();return g.createElement(je,{node:G},g.createElement($t,null,g.createElement(de.Provider,{value:null},g.createElement(Ne.Provider,{value:r},g.createElement(Te,{value:r.actions.refocusableClose},g.createElement(rt,{value:oe},g.createElement(ne,null,X({ourProps:V,theirProps:b,slot:ae,defaultTag:kt,name:"Popover"}))))))))}let _t="button";function Ft(e,n){let t=l.useId(),{id:v=`headlessui-popover-button-${t}`,disabled:h=!1,autoFocus:b=!1,...r}=e,a=pe("Popover.Button"),[C,y,s,x,S,B,w]=z(a,l.useCallback(o=>[o.popoverState,a.selectors.isPortalled(o),o.button,o.buttonId,o.panel,o.panelId,o.afterButtonSentinel],[])),d=l.useRef(null),p=`headlessui-focus-sentinel-${l.useId()}`,f=De(),P=f==null?void 0:f.closeOthers,c=It()!==null;l.useEffect(()=>{if(!c)return a.actions.setButtonId(v),()=>a.actions.setButtonId(null)},[c,v,a]);let[_]=l.useState(()=>Symbol()),te=U(d,n,bt(),k(o=>{if(!c){if(o)a.state.buttons.current.push(_);else{let i=a.state.buttons.current.indexOf(_);i!==-1&&a.state.buttons.current.splice(i,1)}a.state.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),o&&a.actions.setButton(o)}})),ne=U(d,n),G=k(o=>{var i,O,T;if(c){if(a.state.popoverState===$.Closed)return;switch(o.key){case K.Space:case K.Enter:o.preventDefault(),(O=(i=o.target).click)==null||O.call(i),a.actions.close(),(T=a.state.button)==null||T.focus();break}}else switch(o.key){case K.Space:case K.Enter:o.preventDefault(),o.stopPropagation(),a.state.popoverState===$.Closed?(P==null||P(a.state.buttonId),a.actions.open()):a.actions.close();break;case K.Escape:if(a.state.popoverState!==$.Open)return P==null?void 0:P(a.state.buttonId);if(!d.current)return;let R=se(d.current);if(R&&!d.current.contains(R))return;o.preventDefault(),o.stopPropagation(),a.actions.close();break}}),D=k(o=>{c||o.key===K.Space&&o.preventDefault()}),Y=k(o=>{var i,O;Be(o.currentTarget)||h||(c?(a.actions.close(),(i=a.state.button)==null||i.focus()):(o.preventDefault(),o.stopPropagation(),a.state.popoverState===$.Closed?(P==null||P(a.state.buttonId),a.actions.open()):a.actions.close(),(O=a.state.button)==null||O.focus()))}),ae=k(o=>{o.preventDefault(),o.stopPropagation()}),{isFocusVisible:oe,focusProps:V}=We({autoFocus:b}),{isHovered:X,hoverProps:u}=Ye({isDisabled:h}),{pressed:F,pressProps:E}=Ve({disabled:h}),j=C===$.Open,Q=re({open:j,active:F||j,disabled:h,hover:X,focus:oe,autofocus:b}),N=Xe(e,s),Z=c?me({ref:ne,type:N,onKeyDown:G,onClick:Y,disabled:h||void 0,autoFocus:b},V,u,E):me({ref:te,id:x,type:N,"aria-expanded":C===$.Open,"aria-controls":S?B:void 0,disabled:h||void 0,autoFocus:b,onKeyDown:G,onKeyUp:D,onClick:Y,onMouseDown:ae},V,u,E),ue=_e(),fe=k(()=>{if(!be(a.state.panel))return;let o=a.state.panel;function i(){q(ue.current,{[M.Forwards]:()=>W(o,A.First),[M.Backwards]:()=>W(o,A.Last)})===he.Error&&W($e(xe(a.state.button)).filter(O=>O.dataset.headlessuiFocusGuard!=="true"),q(ue.current,{[M.Forwards]:A.Next,[M.Backwards]:A.Previous}),{relativeTo:a.state.button})}i()}),m=le();return g.createElement(g.Fragment,null,m({ourProps:Z,theirProps:r,slot:Q,defaultTag:_t,name:"Popover.Button"}),j&&!c&&y&&g.createElement(ye,{id:p,ref:w,features:Pe.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:fe}))}let Ot="div",Et=ie.RenderStrategy|ie.Static;function Re(e,n){let t=l.useId(),{id:v=`headlessui-popover-backdrop-${t}`,transition:h=!1,...b}=e,r=pe("Popover.Backdrop"),a=z(r,l.useCallback(f=>f.popoverState,[])),[C,y]=l.useState(null),s=U(n,y),x=Fe(),[S,B]=Oe(h,C,x!==null?(x&J.Open)===J.Open:a===$.Open),w=k(f=>{if(Be(f.currentTarget))return f.preventDefault();r.actions.close()}),d=re({open:a===$.Open}),p={ref:s,id:v,"aria-hidden":!0,onClick:w,...Ee(B)};return le()({ourProps:p,theirProps:b,slot:d,defaultTag:Ot,features:Et,visible:S,name:"Popover.Backdrop"})}let Tt="div",jt=ie.RenderStrategy|ie.Static;function Nt(e,n){let t=l.useId(),{id:v=`headlessui-popover-panel-${t}`,focus:h=!1,anchor:b,portal:r=!1,modal:a=!1,transition:C=!1,...y}=e,s=pe("Popover.Panel"),x=z(s,s.selectors.isPortalled),[S,B,w,d,p]=z(s,l.useCallback(m=>[m.popoverState,m.button,m.__demoMode,m.beforePanelSentinel,m.afterPanelSentinel],[])),f=`headlessui-focus-sentinel-before-${t}`,P=`headlessui-focus-sentinel-after-${t}`,c=l.useRef(null),_=mt(b),[te,ne]=ht(_),G=yt();_&&(r=!0);let[D,Y]=l.useState(null),ae=U(c,n,_?te:null,s.actions.setPanel,Y),oe=we(B),V=we(c.current);Qe(()=>(s.actions.setPanelId(v),()=>s.actions.setPanelId(null)),[v,s]);let X=Fe(),[u,F]=Oe(C,D,X!==null?(X&J.Open)===J.Open:S===$.Open);Ze(u,B,s.actions.close),qe(w?!1:a&&u,V);let E=k(m=>{var o;switch(m.key){case K.Escape:if(s.state.popoverState!==$.Open||!c.current)return;let i=se(c.current);if(i&&!c.current.contains(i))return;m.preventDefault(),m.stopPropagation(),s.actions.close(),(o=s.state.button)==null||o.focus();break}});l.useEffect(()=>{var m;e.static||S===$.Closed&&((m=e.unmount)==null||m)&&s.actions.setPanel(null)},[S,e.unmount,e.static,s]),l.useEffect(()=>{if(w||!h||S!==$.Open||!c.current)return;let m=se(c.current);c.current.contains(m)||W(c.current,A.First)},[w,h,c.current,S]);let j=re({open:S===$.Open,close:s.actions.refocusableClose}),Q=me(_?G():{},{ref:ae,id:v,onKeyDown:E,onBlur:h&&S===$.Open?m=>{var o,i,O,T,R;let L=m.relatedTarget;L&&c.current&&((o=c.current)!=null&&o.contains(L)||(s.actions.close(),((O=(i=d.current)==null?void 0:i.contains)!=null&&O.call(i,L)||(R=(T=p.current)==null?void 0:T.contains)!=null&&R.call(T,L))&&L.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...y.style,...ne,"--button-width":Pt(u,B,!0).width},...Ee(F)}),N=_e(),Z=k(()=>{let m=c.current;if(!m)return;function o(){q(N.current,{[M.Forwards]:()=>{var i;W(m,A.First)===he.Error&&((i=s.state.afterPanelSentinel.current)==null||i.focus())},[M.Backwards]:()=>{var i;(i=s.state.button)==null||i.focus({preventScroll:!0})}})}o()}),ue=k(()=>{let m=c.current;if(!m)return;function o(){q(N.current,{[M.Forwards]:()=>{var i;if(!s.state.button)return;let O=(i=xe(s.state.button))!=null?i:document.body,T=$e(O),R=T.indexOf(s.state.button),L=T.slice(0,R+1),ce=[...T.slice(R+1),...L];for(let ve of ce.slice())if(ve.dataset.headlessuiFocusGuard==="true"||D!=null&&D.contains(ve)){let Ce=ce.indexOf(ve);Ce!==-1&&ce.splice(Ce,1)}W(ce,A.First,{sorted:!1})},[M.Backwards]:()=>{var i;W(m,A.Previous)===he.Error&&((i=s.state.button)==null||i.focus())}})}o()}),fe=le();return g.createElement(ze,null,g.createElement(de.Provider,{value:v},g.createElement(Te,{value:s.actions.refocusableClose},g.createElement(Ue,{enabled:r?e.static||u:!1,ownerDocument:oe},u&&x&&g.createElement(ye,{id:f,ref:d,features:Pe.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:Z}),fe({ourProps:Q,theirProps:y,slot:j,defaultTag:Tt,features:jt,visible:u,name:"Popover.Panel"}),u&&x&&g.createElement(ye,{id:P,ref:p,features:Pe.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:ue})))))}let Dt="div";function Rt(e,n){let t=l.useRef(null),v=U(t,n),[h,b]=l.useState([]),r=k(d=>{b(p=>{let f=p.indexOf(d);if(f!==-1){let P=p.slice();return P.splice(f,1),P}return p})}),a=k(d=>(b(p=>[...p,d]),()=>r(d))),C=k(()=>{var d;let p=xe(t.current);if(!p)return!1;let f=se(t.current);return(d=t.current)!=null&&d.contains(f)?!0:h.some(P=>{var c,_;return((c=p.getElementById(P.buttonId.current))==null?void 0:c.contains(f))||((_=p.getElementById(P.panelId.current))==null?void 0:_.contains(f))})}),y=k(d=>{for(let p of h)p.buttonId.current!==d&&p.close()}),s=l.useMemo(()=>({registerPopover:a,unregisterPopover:r,isFocusWithinPopoverGroup:C,closeOthers:y}),[a,r,C,y]),x=re({}),S=e,B={ref:v},w=le();return g.createElement(je,null,g.createElement(Se.Provider,{value:s},w({ourProps:B,theirProps:S,slot:x,defaultTag:Dt,name:"Popover.Group"})))}let Mt=ee(Bt),Me=ee(Ft),At=ee(Re),Gt=ee(Re),Ae=ee(Nt),Lt=ee(Rt),Ht=Object.assign(Mt,{Button:Me,Backdrop:Gt,Overlay:At,Panel:Ae,Group:Lt});/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wt=it("chevron-left",Kt);function Yt({ranges:e,selectedIndex:n,onSelect:t,isPending:v,size:h="default"}){var B;const b=l.useRef(null),r=n>0,a=n<e.length-1,C=((B=e[n])==null?void 0:B.label)??"â€”",y=h==="sm",s=(w,d)=>{var f;const p=w==="left"?6:-6;(f=b.current)==null||f.animate([{opacity:1,transform:"translateX(0)"},{opacity:0,transform:`translateX(${p}px)`}],{duration:80,easing:"ease-out"}),setTimeout(()=>{var P;d(),(P=b.current)==null||P.animate([{opacity:0,transform:`translateX(${-p}px)`},{opacity:1,transform:"translateX(0)"}],{duration:80,easing:"ease-out"})},80)},x=()=>r&&s("left",()=>t(n-1)),S=()=>a&&s("right",()=>t(n+1));return I.jsx(Ht,{className:"relative inline-flex",children:({open:w,close:d})=>I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:H("inline-flex items-center rounded-full bg-surface","shadow-[var(--neo-outer-sm)]",y?"gap-0.5 p-0.5":"gap-0.5 p-1",v&&"opacity-70"),children:[I.jsx("button",{type:"button",onClick:x,disabled:!r,"aria-label":"Previous",className:H("flex items-center justify-center rounded-full transition-all duration-100","text-fg-muted hover:text-fg-primary active:scale-90","disabled:opacity-25 disabled:pointer-events-none",y?"w-5 h-5":"w-6 h-6"),children:I.jsx(Wt,{className:y?"w-3 h-3":"w-3.5 h-3.5"})}),I.jsx(Me,{className:H("rounded-full cursor-pointer transition-all","bg-surface shadow-[inset_0_0_0_1.5px_var(--sys-blue)]",y?"px-2.5 py-1":"px-3 py-1.5"),children:I.jsx("span",{ref:b,className:H("block font-semibold text-fg-primary tabular-nums select-none",y?"min-w-[1.5rem] text-[11px]":"min-w-[2rem] text-xs","text-center"),children:C})}),I.jsx("button",{type:"button",onClick:S,disabled:!a,"aria-label":"Next",className:H("flex items-center justify-center rounded-full transition-all duration-100","text-fg-muted hover:text-fg-primary active:scale-90","disabled:opacity-25 disabled:pointer-events-none",y?"w-5 h-5":"w-6 h-6"),children:I.jsx(vt,{className:y?"w-3 h-3":"w-3.5 h-3.5"})})]}),I.jsx(pt,{children:w&&I.jsx(Ae,{static:!0,anchor:"bottom",className:"z-50 mt-2",children:I.jsx(dt.div,{initial:{opacity:0,y:-4,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.98},transition:ft.dropdown,className:H("surface-elevated radius-inset p-1","shadow-[var(--neo-outer)]"),children:I.jsx("div",{className:"grid grid-cols-4 gap-0.5",children:e.map((p,f)=>I.jsx("button",{type:"button",onClick:()=>{f!==n&&t(f),d()},className:H("px-2.5 py-1.5 radius-control text-xs font-medium transition-colors",f===n?"shadow-[inset_0_0_0_1.5px_var(--sys-blue)] text-fg-primary":"text-fg-secondary hover:bg-overlay-soft"),children:p.label},p.label))})})})})]})})}const Zt=l.memo(Yt);export{Wt as C,Zt as T};
