import{r as s,j as e,c as a}from"./vendor-react-Co0R0q1H.js";import{c as t,bL as l,bM as r,v as c,bN as n,bO as i,bP as o,bQ as m,B as d,bA as x,bR as p}from"./index-DqKbxKNs.js";import{P as h,b as g,B as j,a as u,L as y}from"./PageLayout-BsguBtK-.js";import{C as f}from"./Card-CP0taT8c.js";import"./maplibre-gl-b91ci4Kr.js";import"./vendor-core-B_fdKJ1g.js";const b=t("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),v=t("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),N=s.memo(function({log:s}){return e.jsx("div",{className:"p-3 radius-card bg-subtle-fill hover:bg-subtle-fill-strong transition-base",children:e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx("span",{className:a("type-data-sm w-14 shrink-0",p(s.level)),children:s.level}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"type-data-sm text-fg-primary break-words whitespace-pre-wrap",children:s.message}),e.jsx("p",{className:"type-data-xs text-fg-muted mt-1",children:new Date(s.timestamp).toLocaleString()})]})]})})});function w({showDebug:s,onToggle:t}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:a("type-data-sm",s?"text-sys-orange":"text-sys-cyan"),children:s?"DEBUG":"INFO"}),e.jsx(x,{enabled:s,onChange:t,size:"sm"})]})}function k(){const t=l(),x=r(),p=c(),k=n(),L=i(),[C,D]=s.useState(!1),P=s.useCallback(()=>{D(s=>!s)},[]),B=C?t:t.filter(s=>"DEBUG"!==s.level),E=s.useRef(k);return E.current=k,s.useEffect(()=>{if(!p)return;E.current();const s=setInterval(()=>E.current(),o.logs);return()=>clearInterval(s)},[p]),e.jsxs(h,{children:[e.jsx(g,{title:"System Logs",icon:e.jsx(m,{}),controls:e.jsx(w,{showDebug:C,onToggle:P})}),e.jsx(j,{children:e.jsxs(u,{neomorphic:!0,noPadding:!0,children:[e.jsx(f,{listHeader:!0,icon:e.jsx(m,{className:"icon-sm"}),title:"Log Entries",actions:e.jsx(d,{plain:!0,color:p?"danger":"primary",onClick:()=>L(!p),title:p?"Pause":"Resume",className:a(!p&&"animate-pulse-slow"),children:p?e.jsx(v,{"data-slot":"icon",className:"!w-5 !h-5"}):e.jsx(b,{"data-slot":"icon",className:"!w-5 !h-5"})})}),e.jsx("div",{className:"space-y-2 max-h-[calc(100dvh-226px)] sm:max-h-[calc(100dvh-234px)] lg:max-h-[calc(100vh-194px)] overflow-y-auto p-4",children:x&&0===t.length?e.jsx(y,{count:10}):0===B.length?e.jsx("div",{className:"text-center py-12 text-fg-muted",children:0===t.length?"No logs available":"No logs match selected filters"}):B.map((s,a)=>e.jsx(N,{log:s},`${s.timestamp}-${a}`))})]})})]})}export{k as default};
