import{r as h,j as t}from"./vendor-react-CHg3w57L.js";import{c as i}from"./vendor-core-CgllfypI.js";import{aE as y,aF as S,aG as w}from"./index-B4woLUMa.js";import{ax as j,ay as N,az as A,aA as C,ab as _}from"./vendor-icons-rRVc_l7g.js";const v={excellent:"color(display-p3 0.00 1.00 0.00)",good:"color(display-p3 0.55 0.90 0.15)",fair:"color(display-p3 1.00 0.85 0.00)",weak:"color(display-p3 1.00 0.55 0.15)",poor:"color(display-p3 1.00 0.20 0.20)"},b={excellent:"#4ADE80",good:"#A3E635",fair:"#FACC15",weak:"#FB923C",poor:"#EF4444"};function u(e){return e>=-90?"excellent":e>=-100?"good":e>=-110?"fair":e>=-120?"weak":"poor"}function B(e,r,a,s=0){const n=w(r,e,a,s);return n?R(n.finalGrade):u(e)}function R(e){switch(e){case"excellent":return"excellent";case"good":return"good";case"fair":return"fair";case"poor":return"weak";case"critical":return"poor"}}function L(e){switch(e){case"excellent":return"text-signal-excellent";case"good":return"text-signal-good";case"fair":return"text-signal-fair";case"weak":return"text-signal-poor";case"poor":return"text-signal-critical";default:return"text-fg-muted"}}function x(e,r,a=!0){return r?a?{backgroundColor:b[e],"--p3-color":v[e]}:{backgroundColor:"rgba(255, 255, 255, 0.25)"}:{backgroundColor:"rgba(255, 255, 255, 0.1)"}}function d(e,r=!0){return e&&r?"signal-bar-active":""}function H({rssi:e,className:r="w-4 h-4"}){const a=u(e),s=L(a),n=i(s,r);switch(a){case"excellent":return t.jsx(_,{className:n});case"good":return t.jsx(C,{className:n});case"fair":return t.jsx(A,{className:n});case"weak":return t.jsx(N,{className:n});case"poor":default:return t.jsx(j,{className:n})}}function k({rssi:e,snr:r,compact:a=!1,showValues:s=!0,radioConfig:n,nfPenalty:p=0,validated:l=!0}){const f=r!==void 0?B(e,r,n,p):u(e),g=4,c={excellent:4,good:3,fair:2,weak:1,poor:0}[f];return a?t.jsxs("div",{className:"flex items-center gap-1.5",children:[s&&t.jsx("span",{className:i("type-data-xs w-[32px] text-left",l?"text-fg-secondary":"text-fg-muted"),children:e}),t.jsx("div",{className:"flex items-center gap-[2px] h-3 w-[14px]",children:Array.from({length:g}).map((m,o)=>t.jsx("div",{className:i("w-[3px] h-full rounded-[1px] transition-colors",d(o<c,l)),style:x(f,o<c,l)},o))})]}):t.jsxs("div",{className:"flex items-center gap-2",children:[s&&t.jsxs("div",{className:"flex flex-col items-start w-[52px]",children:[t.jsxs("span",{className:i("type-data-xs leading-tight",l?"text-fg-secondary":"text-fg-muted"),children:[e," dBm"]}),r!==void 0&&t.jsxs("span",{className:"type-data-xs text-fg-muted leading-tight",children:[r.toFixed(1)," dB"]})]}),t.jsx("div",{className:"flex items-center gap-[2px] h-3.5 w-[14px]",children:Array.from({length:g}).map((m,o)=>t.jsx("div",{className:i("w-[3px] h-full rounded-[1px] transition-colors",d(o<c,l)),style:x(f,o<c,l)},o))})]})}const Z=h.memo(k);function P(e){const r=u(e);return r.charAt(0).toUpperCase()+r.slice(1)}function E(e){if(Array.isArray(e))return e;if(typeof e=="string"&&e.startsWith("["))try{const r=JSON.parse(e);return Array.isArray(r)?r:[]}catch{return[]}return[]}function F(e){const r=E(e.original_path),a=e.route??e.route_type;return y(a)?r.length===0:S(a)?r.length<=1:r.length===0}function z(e){return e.packet_origin==="tx_local"||e.packet_origin==="tx_forward"?!1:e._isZeroHop!=null?e._isZeroHop:F(e)}export{Z as S,H as a,P as g,z as i};
