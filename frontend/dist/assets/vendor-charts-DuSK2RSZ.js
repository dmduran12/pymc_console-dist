const Js="uplot",Zs="u-hz",Qs="u-vt",Xs="u-title",er="u-wrap",tr="u-under",lr="u-over",nr="u-axis",Zt="u-off",ir="u-select",or="u-cursor-x",sr="u-cursor-y",rr="u-cursor-pt",fr="u-legend",ur="u-live",cr="u-inline",ar="u-series",pr="u-marker",ji="u-label",hr="u-value",Nl="width",Wl="height";const qi="bottom",yl="left",Wn="right",ni="#000",$i=ni+"0",Gn="mousemove",Ji="mousedown",In="mouseup",Zi="mouseenter",Qi="mouseleave",Xi="dblclick",mr="resize",gr="scroll",eo="change",sn="dppxchange",ii="--",Al=typeof window<"u",jn=Al?document:null,kl=Al?window:null,dr=Al?navigator:null;let se,tn;function qn(){let e=devicePixelRatio;se!=e&&(se=e,tn&&Jn(eo,tn,qn),tn=matchMedia(`(min-resolution: ${se-.001}dppx) and (max-resolution: ${se+.001}dppx)`),Qt(eo,tn,qn),kl.dispatchEvent(new CustomEvent(sn)))}function Xe(e,n){if(n!=null){let o=e.classList;!o.contains(n)&&o.add(n)}}function $n(e,n){let o=e.classList;o.contains(n)&&o.remove(n)}function de(e,n,o){e.style[n]=o+"px"}function gt(e,n,o,i){let s=jn.createElement(e);return n!=null&&Xe(s,n),o!=null&&o.insertBefore(s,i),s}function ft(e,n){return gt("div",e,n)}const to=new WeakMap;function bt(e,n,o,i,s){let a="translate("+n+"px,"+o+"px)",u=to.get(e);a!=u&&(e.style.transform=a,to.set(e,a),n<0||o<0||n>i||o>s?Xe(e,Zt):$n(e,Zt))}const lo=new WeakMap;function no(e,n,o){let i=n+o,s=lo.get(e);i!=s&&(lo.set(e,i),e.style.background=n,e.style.borderColor=o)}const io=new WeakMap;function oo(e,n,o,i){let s=n+""+o,a=io.get(e);s!=a&&(io.set(e,s),e.style.height=o+"px",e.style.width=n+"px",e.style.marginLeft=i?-n/2+"px":0,e.style.marginTop=i?-o/2+"px":0)}const oi={passive:!0},wr={...oi,capture:!0};function Qt(e,n,o,i){n.addEventListener(e,o,i?wr:oi)}function Jn(e,n,o,i){n.removeEventListener(e,o,oi)}Al&&qn();function dt(e,n,o,i){let s;o=o||0,i=i||n.length-1;let a=i<=2147483647;for(;i-o>1;)s=a?o+i>>1:et((o+i)/2),n[s]<e?o=s:i=s;return e-n[o]<=n[i]-e?o:i}function Ro(e){return(o,i,s)=>{let a=-1,u=-1;for(let h=i;h<=s;h++)if(e(o[h])){a=h;break}for(let h=s;h>=i;h--)if(e(o[h])){u=h;break}return[a,u]}}const zo=e=>e!=null,Fo=e=>e!=null&&e>0,un=Ro(zo),Sr=Ro(Fo);function _r(e,n,o,i=0,s=!1){let a=s?Sr:un,u=s?Fo:zo;[n,o]=a(e,n,o);let h=e[n],m=e[n];if(n>-1)if(i==1)h=e[n],m=e[o];else if(i==-1)h=e[o],m=e[n];else for(let g=n;g<=o;g++){let y=e[g];u(y)&&(y<h?h=y:y>m&&(m=y))}return[h??ce,m??-ce]}function cn(e,n,o,i){let s=fo(e),a=fo(n);e==n&&(s==-1?(e*=o,n/=o):(e/=o,n*=o));let u=o==10?Pt:Oo,h=s==1?et:ut,m=a==1?ut:et,g=h(u(Ee(e))),y=m(u(Ee(n))),d=xl(o,g),w=xl(o,y);return o==10&&(g<0&&(d=ae(d,-g)),y<0&&(w=ae(w,-y))),i||o==2?(e=d*s,n=w*a):(e=Go(e,d),n=an(n,w)),[e,n]}function si(e,n,o,i){let s=cn(e,n,o,i);return e==0&&(s[0]=0),n==0&&(s[1]=0),s}const ri=.1,so={mode:3,pad:ri},Il={pad:0,soft:null,mode:0},yr={min:Il,max:Il};function rn(e,n,o,i){return pn(o)?ro(e,n,o):(Il.pad=o,Il.soft=i?0:null,Il.mode=i?3:0,ro(e,n,yr))}function ie(e,n){return e??n}function vr(e,n,o){for(n=ie(n,0),o=ie(o,e.length-1);n<=o;){if(e[n]!=null)return!0;n++}return!1}function ro(e,n,o){let i=o.min,s=o.max,a=ie(i.pad,0),u=ie(s.pad,0),h=ie(i.hard,-ce),m=ie(s.hard,ce),g=ie(i.soft,ce),y=ie(s.soft,-ce),d=ie(i.mode,0),w=ie(s.mode,0),L=n-e,D=Pt(L),O=Ye(Ee(e),Ee(n)),N=Pt(O),G=Ee(N-D);(L<1e-24||G>10)&&(L=0,(e==0||n==0)&&(L=1e-24,d==2&&g!=ce&&(a=0),w==2&&y!=-ce&&(u=0)));let k=L||O||1e3,H=Pt(k),x=xl(10,et(H)),q=k*(L==0?e==0?.1:1:a),P=ae(Go(e-q,x/10),24),$=e>=g&&(d==1||d==3&&P<=g||d==2&&P>=g)?g:ce,U=Ye(h,P<$&&e>=$?$:wt($,P)),Q=k*(L==0?n==0?.1:1:u),B=ae(an(n+Q,x/10),24),T=n<=y&&(w==1||w==3&&B>=y||w==2&&B<=y)?y:-ce,j=wt(m,B>T&&n<=T?T:Ye(T,B));return U==j&&U==0&&(j=100),[U,j]}const kr=new Intl.NumberFormat(Al?dr.language:"en-US"),fi=e=>kr.format(e),tt=Math,on=tt.PI,Ee=tt.abs,et=tt.floor,Ae=tt.round,ut=tt.ceil,wt=tt.min,Ye=tt.max,xl=tt.pow,fo=tt.sign,Pt=tt.log10,Oo=tt.log2,xr=(e,n=1)=>tt.sinh(e)*n,Yn=(e,n=1)=>tt.asinh(e/n),ce=1/0;function uo(e){return(Pt((e^e>>31)-(e>>31))|0)+1}function Zn(e,n,o){return wt(Ye(e,n),o)}function Ho(e){return typeof e=="function"}function X(e){return Ho(e)?e:()=>e}const Tr=()=>{},No=e=>e,Wo=(e,n)=>n,br=e=>null,co=e=>!0,ao=(e,n)=>e==n,Mr=/\.\d*?(?=9{6,}|0{6,})/gm,Xt=e=>{if(Yo(e)||Ht.has(e))return e;const n=`${e}`,o=n.match(Mr);if(o==null)return e;let i=o[0].length-1;if(n.indexOf("e-")!=-1){let[s,a]=n.split("e");return+`${Xt(s)}e${a}`}return ae(e,i)};function $t(e,n){return Xt(ae(Xt(e/n))*n)}function an(e,n){return Xt(ut(Xt(e/n))*n)}function Go(e,n){return Xt(et(Xt(e/n))*n)}function ae(e,n=0){if(Yo(e))return e;let o=10**n,i=e*o*(1+Number.EPSILON);return Ae(i)/o}const Ht=new Map;function Io(e){return((""+e).split(".")[1]||"").length}function Bl(e,n,o,i){let s=[],a=i.map(Io);for(let u=n;u<o;u++){let h=Ee(u),m=ae(xl(e,u),h);for(let g=0;g<i.length;g++){let y=e==10?+`${i[g]}e${u}`:i[g]*m,d=(u>=0?0:h)+(u>=a[g]?0:a[g]),w=e==10?y:ae(y,d);s.push(w),Ht.set(w,d)}}return s}const Yl={},ui=[],Tl=[null,null],Ot=Array.isArray,Yo=Number.isInteger,Ar=e=>e===void 0;function po(e){return typeof e=="string"}function pn(e){let n=!1;if(e!=null){let o=e.constructor;n=o==null||o==Object}return n}function Er(e){return e!=null&&typeof e=="object"}const Pr=Object.getPrototypeOf(Uint8Array),Bo="__proto__";function bl(e,n=pn){let o;if(Ot(e)){let i=e.find(s=>s!=null);if(Ot(i)||n(i)){o=Array(e.length);for(let s=0;s<e.length;s++)o[s]=bl(e[s],n)}else o=e.slice()}else if(e instanceof Pr)o=e.slice();else if(n(e)){o={};for(let i in e)i!=Bo&&(o[i]=bl(e[i],n))}else o=e;return o}function Te(e){let n=arguments;for(let o=1;o<n.length;o++){let i=n[o];for(let s in i)s!=Bo&&(pn(e[s])?Te(e[s],bl(i[s])):e[s]=bl(i[s]))}return e}const Dr=0,Lr=1,Cr=2;function Vr(e,n,o){for(let i=0,s,a=-1;i<n.length;i++){let u=n[i];if(u>a){for(s=u-1;s>=0&&e[s]==null;)e[s--]=null;for(s=u+1;s<o&&e[s]==null;)e[a=s++]=null}}}function Rr(e,n){if(Or(e)){let u=e[0].slice();for(let h=1;h<e.length;h++)u.push(...e[h].slice(1));return Hr(u[0])||(u=Fr(u)),u}let o=new Set;for(let u=0;u<e.length;u++){let m=e[u][0],g=m.length;for(let y=0;y<g;y++)o.add(m[y])}let i=[Array.from(o).sort((u,h)=>u-h)],s=i[0].length,a=new Map;for(let u=0;u<s;u++)a.set(i[0][u],u);for(let u=0;u<e.length;u++){let h=e[u],m=h[0];for(let g=1;g<h.length;g++){let y=h[g],d=Array(s).fill(void 0),w=n?n[u][g]:Lr,L=[];for(let D=0;D<y.length;D++){let O=y[D],N=a.get(m[D]);O===null?w!=Dr&&(d[N]=O,w==Cr&&L.push(N)):d[N]=O}Vr(d,L,s),i.push(d)}}return i}const zr=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Fr(e){let n=e[0],o=n.length,i=Array(o);for(let a=0;a<i.length;a++)i[a]=a;i.sort((a,u)=>n[a]-n[u]);let s=[];for(let a=0;a<e.length;a++){let u=e[a],h=Array(o);for(let m=0;m<o;m++)h[m]=u[i[m]];s.push(h)}return s}function Or(e){let n=e[0][0],o=n.length;for(let i=1;i<e.length;i++){let s=e[i][0];if(s.length!=o)return!1;if(s!=n){for(let a=0;a<o;a++)if(s[a]!=n[a])return!1}}return!0}function Hr(e,n=100){const o=e.length;if(o<=1)return!0;let i=0,s=o-1;for(;i<=s&&e[i]==null;)i++;for(;s>=i&&e[s]==null;)s--;if(s<=i)return!0;const a=Ye(1,et((s-i+1)/n));for(let u=e[i],h=i+a;h<=s;h+=a){const m=e[h];if(m!=null){if(m<=u)return!1;u=m}}return!0}const Uo=["January","February","March","April","May","June","July","August","September","October","November","December"],Ko=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function jo(e){return e.slice(0,3)}const Nr=Ko.map(jo),Wr=Uo.map(jo),Gr={MMMM:Uo,MMM:Wr,WWWW:Ko,WWW:Nr};function Hl(e){return(e<10?"0":"")+e}function Ir(e){return(e<10?"00":e<100?"0":"")+e}const Yr={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,n)=>n.MMMM[e.getMonth()],MMM:(e,n)=>n.MMM[e.getMonth()],MM:e=>Hl(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Hl(e.getDate()),D:e=>e.getDate(),WWWW:(e,n)=>n.WWWW[e.getDay()],WWW:(e,n)=>n.WWW[e.getDay()],HH:e=>Hl(e.getHours()),H:e=>e.getHours(),h:e=>{let n=e.getHours();return n==0?12:n>12?n-12:n},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Hl(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Hl(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Ir(e.getMilliseconds())};function ci(e,n){n=n||Gr;let o=[],i=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=i.exec(e);)o.push(s[0][0]=="{"?Yr[s[1]]:s[0]);return a=>{let u="";for(let h=0;h<o.length;h++)u+=typeof o[h]=="string"?o[h]:o[h](a,n);return u}}const Br=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Ur(e,n){let o;return n=="UTC"||n=="Etc/UTC"?o=new Date(+e+e.getTimezoneOffset()*6e4):n==Br?o=e:(o=new Date(e.toLocaleString("en-US",{timeZone:n})),o.setMilliseconds(e.getMilliseconds())),o}const qo=e=>e%1==0,fn=[1,2,2.5,5],Kr=Bl(10,-32,0,fn),$o=Bl(10,0,32,fn),jr=$o.filter(qo),Jt=Kr.concat($o),ai=`
`,Jo="{YYYY}",ho=ai+Jo,Zo="{M}/{D}",Gl=ai+Zo,ln=Gl+"/{YY}",Qo="{aa}",qr="{h}:{mm}",vl=qr+Qo,mo=ai+vl,go=":{ss}",re=null;function Xo(e){let n=e*1e3,o=n*60,i=o*60,s=i*24,a=s*30,u=s*365,m=(e==1?Bl(10,0,3,fn).filter(qo):Bl(10,-3,0,fn)).concat([n,n*5,n*10,n*15,n*30,o,o*5,o*10,o*15,o*30,i,i*2,i*3,i*4,i*6,i*8,i*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,a,a*2,a*3,a*4,a*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const g=[[u,Jo,re,re,re,re,re,re,1],[s*28,"{MMM}",ho,re,re,re,re,re,1],[s,Zo,ho,re,re,re,re,re,1],[i,"{h}"+Qo,ln,re,Gl,re,re,re,1],[o,vl,ln,re,Gl,re,re,re,1],[n,go,ln+" "+vl,re,Gl+" "+vl,re,mo,re,1],[e,go+".{fff}",ln+" "+vl,re,Gl+" "+vl,re,mo,re,1]];function y(d){return(w,L,D,O,N,G)=>{let k=[],H=N>=u,x=N>=a&&N<u,q=d(D),P=ae(q*e,3),$=Bn(q.getFullYear(),H?0:q.getMonth(),x||H?1:q.getDate()),U=ae($*e,3);if(x||H){let Q=x?N/a:0,B=H?N/u:0,T=P==U?P:ae(Bn($.getFullYear()+B,$.getMonth()+Q,1)*e,3),j=new Date(Ae(T/e)),C=j.getFullYear(),I=j.getMonth();for(let F=0;T<=O;F++){let ee=Bn(C+B*F,I+Q*F,1),z=ee-d(ae(ee*e,3));T=ae((+ee+z)*e,3),T<=O&&k.push(T)}}else{let Q=N>=s?s:N,B=et(D)-et(P),T=U+B+an(P-U,Q);k.push(T);let j=d(T),C=j.getHours()+j.getMinutes()/o+j.getSeconds()/i,I=N/i,F=w.axes[L]._space,ee=G/F;for(;T=ae(T+N,e==1?0:3),!(T>O);)if(I>1){let z=et(ae(C+I,6))%24,te=d(T).getHours()-z;te>1&&(te=-1),T-=te*i,C=(C+I)%24;let fe=k[k.length-1];ae((T-fe)/N,3)*ee>=.7&&k.push(T)}else k.push(T)}return k}}return[m,g,y]}const[$r,Jr,Zr]=Xo(1),[Qr,Xr,ef]=Xo(.001);Bl(2,-53,53,[1]);function wo(e,n){return e.map(o=>o.map((i,s)=>s==0||s==8||i==null?i:n(s==1||o[8]==0?i:o[1]+i)))}function So(e,n){return(o,i,s,a,u)=>{let h=n.find(D=>u>=D[0])||n[n.length-1],m,g,y,d,w,L;return i.map(D=>{let O=e(D),N=O.getFullYear(),G=O.getMonth(),k=O.getDate(),H=O.getHours(),x=O.getMinutes(),q=O.getSeconds(),P=N!=m&&h[2]||G!=g&&h[3]||k!=y&&h[4]||H!=d&&h[5]||x!=w&&h[6]||q!=L&&h[7]||h[1];return m=N,g=G,y=k,d=H,w=x,L=q,P(O)})}}function tf(e,n){let o=ci(n);return(i,s,a,u,h)=>s.map(m=>o(e(m)))}function Bn(e,n,o){return new Date(e,n,o)}function _o(e,n){return n(e)}const lf="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function yo(e,n){return(o,i,s,a)=>a==null?ii:n(e(i))}function nf(e,n){let o=e.series[n];return o.width?o.stroke(e,n):o.points.width?o.points.stroke(e,n):null}function of(e,n){return e.series[n].fill(e,n)}const sf={show:!0,live:!0,isolate:!1,mount:Tr,markers:{show:!0,width:2,stroke:nf,fill:of,dash:"solid"},idx:null,idxs:null,values:[]};function rf(e,n){let o=e.cursor.points,i=ft(),s=o.size(e,n);de(i,Nl,s),de(i,Wl,s);let a=s/-2;de(i,"marginLeft",a),de(i,"marginTop",a);let u=o.width(e,n,s);return u&&de(i,"borderWidth",u),i}function ff(e,n){let o=e.series[n].points;return o._fill||o._stroke}function uf(e,n){let o=e.series[n].points;return o._stroke||o._fill}function cf(e,n){return e.series[n].points.size}const Un=[0,0];function af(e,n,o){return Un[0]=n,Un[1]=o,Un}function nn(e,n,o,i=!0){return s=>{s.button==0&&(!i||s.target==n)&&o(s)}}function Kn(e,n,o,i=!0){return s=>{(!i||s.target==n)&&o(s)}}const pf={show:!0,x:!0,y:!0,lock:!1,move:af,points:{one:!1,show:rf,size:cf,width:0,stroke:uf,fill:ff},bind:{mousedown:nn,mouseup:nn,click:nn,dblclick:nn,mousemove:Kn,mouseleave:Kn,mouseenter:Kn},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,n)=>{n.stopPropagation(),n.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,n,o,i,s)=>i-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},es={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},pi=Te({},es,{filter:Wo}),ts=Te({},pi,{size:10}),ls=Te({},es,{show:!1}),hi='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ns="bold "+hi,is=1.5,vo={show:!0,scale:"x",stroke:ni,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ns,side:2,grid:pi,ticks:ts,border:ls,font:hi,lineGap:is,rotate:0},hf="Value",mf="Time",ko={show:!0,scale:"x",auto:!1,sorted:1,min:ce,max:-ce,idxs:[]};function gf(e,n,o,i,s){return n.map(a=>a==null?"":fi(a))}function df(e,n,o,i,s,a,u){let h=[],m=Ht.get(s)||0;o=u?o:ae(an(o,s),m);for(let g=o;g<=i;g=ae(g+s,m))h.push(Object.is(g,-0)?0:g);return h}function Qn(e,n,o,i,s,a,u){const h=[],m=e.scales[e.axes[n].scale].log,g=m==10?Pt:Oo,y=et(g(o));s=xl(m,y),m==10&&(s=Jt[dt(s,Jt)]);let d=o,w=s*m;m==10&&(w=Jt[dt(w,Jt)]);do h.push(d),d=d+s,m==10&&!Ht.has(d)&&(d=ae(d,Ht.get(s))),d>=w&&(s=d,w=s*m,m==10&&(w=Jt[dt(w,Jt)]));while(d<=i);return h}function wf(e,n,o,i,s,a,u){let m=e.scales[e.axes[n].scale].asinh,g=i>m?Qn(e,n,Ye(m,o),i,s):[m],y=i>=0&&o<=0?[0]:[];return(o<-m?Qn(e,n,Ye(m,-i),-o,s):[m]).reverse().map(w=>-w).concat(y,g)}const os=/./,Sf=/[12357]/,_f=/[125]/,xo=/1/,Xn=(e,n,o,i)=>e.map((s,a)=>n==4&&s==0||a%i==0&&o.test(s.toExponential()[s<0?1:0])?s:null);function yf(e,n,o,i,s){let a=e.axes[o],u=a.scale,h=e.scales[u],m=e.valToPos,g=a._space,y=m(10,u),d=m(9,u)-y>=g?os:m(7,u)-y>=g?Sf:m(5,u)-y>=g?_f:xo;if(d==xo){let w=Ee(m(1,u)-y);if(w<g)return Xn(n.slice().reverse(),h.distr,d,ut(g/w)).reverse()}return Xn(n,h.distr,d,1)}function vf(e,n,o,i,s){let a=e.axes[o],u=a.scale,h=a._space,m=e.valToPos,g=Ee(m(1,u)-m(2,u));return g<h?Xn(n.slice().reverse(),3,os,ut(h/g)).reverse():n}function kf(e,n,o,i){return i==null?ii:n==null?"":fi(n)}const To={show:!0,scale:"y",stroke:ni,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ns,side:3,grid:pi,ticks:ts,border:ls,font:hi,lineGap:is,rotate:0};function xf(e,n){let o=3+(e||1)*2;return ae(o*n,3)}function Tf(e,n){let{scale:o,idxs:i}=e.series[0],s=e._data[0],a=e.valToPos(s[i[0]],o,!0),u=e.valToPos(s[i[1]],o,!0),h=Ee(u-a),m=e.series[n],g=h/(m.points.space*se);return i[1]-i[0]<=g}const bo={scale:null,auto:!0,sorted:0,min:ce,max:-ce},ss=(e,n,o,i,s)=>s,Mo={show:!0,auto:!0,sorted:0,gaps:ss,alpha:1,facets:[Te({},bo,{scale:"x"}),Te({},bo,{scale:"y"})]},Ao={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:ss,alpha:1,points:{show:Tf,filter:null},values:null,min:ce,max:-ce,idxs:[],path:null,clip:null};function bf(e,n,o,i,s){return o/10}const rs={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Mf=Te({},rs,{time:!1,ori:1}),Eo={};function fs(e,n){let o=Eo[e];return o||(o={key:e,plots:[],sub(i){o.plots.push(i)},unsub(i){o.plots=o.plots.filter(s=>s!=i)},pub(i,s,a,u,h,m,g){for(let y=0;y<o.plots.length;y++)o.plots[y]!=s&&o.plots[y].pub(i,s,a,u,h,m,g)}},e!=null&&(Eo[e]=o)),o}const Ml=1,ei=2;function el(e,n,o){const i=e.mode,s=e.series[n],a=i==2?e._data[n]:e._data,u=e.scales,h=e.bbox;let m=a[0],g=i==2?a[1]:a[n],y=i==2?u[s.facets[0].scale]:u[e.series[0].scale],d=i==2?u[s.facets[1].scale]:u[s.scale],w=h.left,L=h.top,D=h.width,O=h.height,N=e.valToPosH,G=e.valToPosV;return y.ori==0?o(s,m,g,y,d,N,G,w,L,D,O,mn,El,dn,cs,ps):o(s,m,g,y,d,G,N,L,w,O,D,gn,Pl,di,as,hs)}function mi(e,n){let o=0,i=0,s=ie(e.bands,ui);for(let a=0;a<s.length;a++){let u=s[a];u.series[0]==n?o=u.dir:u.series[1]==n&&(u.dir==1?i|=1:i|=2)}return[o,i==1?-1:i==2?1:i==3?2:0]}function Af(e,n,o,i,s){let a=e.mode,u=e.series[n],h=a==2?u.facets[1].scale:u.scale,m=e.scales[h];return s==-1?m.min:s==1?m.max:m.distr==3?m.dir==1?m.min:m.max:0}function Dt(e,n,o,i,s,a){return el(e,n,(u,h,m,g,y,d,w,L,D,O,N)=>{let G=u.pxRound;const k=g.dir*(g.ori==0?1:-1),H=g.ori==0?El:Pl;let x,q;k==1?(x=o,q=i):(x=i,q=o);let P=G(d(h[x],g,O,L)),$=G(w(m[x],y,N,D)),U=G(d(h[q],g,O,L)),Q=G(w(a==1?y.max:y.min,y,N,D)),B=new Path2D(s);return H(B,U,Q),H(B,P,Q),H(B,P,$),B})}function hn(e,n,o,i,s,a){let u=null;if(e.length>0){u=new Path2D;const h=n==0?dn:di;let m=o;for(let d=0;d<e.length;d++){let w=e[d];if(w[1]>w[0]){let L=w[0]-m;L>0&&h(u,m,i,L,i+a),m=w[1]}}let g=o+s-m,y=10;g>0&&h(u,m,i-y/2,g,i+a+y)}return u}function Ef(e,n,o){let i=e[e.length-1];i&&i[0]==n?i[1]=o:e.push([n,o])}function gi(e,n,o,i,s,a,u){let h=[],m=e.length;for(let g=s==1?o:i;g>=o&&g<=i;g+=s)if(n[g]===null){let d=g,w=g;if(s==1)for(;++g<=i&&n[g]===null;)w=g;else for(;--g>=o&&n[g]===null;)w=g;let L=a(e[d]),D=w==d?L:a(e[w]),O=d-s;L=u<=0&&O>=0&&O<m?a(e[O]):L;let G=w+s;D=u>=0&&G>=0&&G<m?a(e[G]):D,D>=L&&h.push([L,D])}return h}function Po(e){return e==0?No:e==1?Ae:n=>$t(n,e)}function us(e){let n=e==0?mn:gn,o=e==0?(s,a,u,h,m,g)=>{s.arcTo(a,u,h,m,g)}:(s,a,u,h,m,g)=>{s.arcTo(u,a,m,h,g)},i=e==0?(s,a,u,h,m)=>{s.rect(a,u,h,m)}:(s,a,u,h,m)=>{s.rect(u,a,m,h)};return(s,a,u,h,m,g=0,y=0)=>{g==0&&y==0?i(s,a,u,h,m):(g=wt(g,h/2,m/2),y=wt(y,h/2,m/2),n(s,a+g,u),o(s,a+h,u,a+h,u+m,g),o(s,a+h,u+m,a,u+m,y),o(s,a,u+m,a,u,y),o(s,a,u,a+h,u,g),s.closePath())}}const mn=(e,n,o)=>{e.moveTo(n,o)},gn=(e,n,o)=>{e.moveTo(o,n)},El=(e,n,o)=>{e.lineTo(n,o)},Pl=(e,n,o)=>{e.lineTo(o,n)},dn=us(0),di=us(1),cs=(e,n,o,i,s,a)=>{e.arc(n,o,i,s,a)},as=(e,n,o,i,s,a)=>{e.arc(o,n,i,s,a)},ps=(e,n,o,i,s,a,u)=>{e.bezierCurveTo(n,o,i,s,a,u)},hs=(e,n,o,i,s,a,u)=>{e.bezierCurveTo(o,n,s,i,u,a)};function ms(e){return(n,o,i,s,a)=>el(n,o,(u,h,m,g,y,d,w,L,D,O,N)=>{let{pxRound:G,points:k}=u,H,x;g.ori==0?(H=mn,x=cs):(H=gn,x=as);const q=ae(k.width*se,3);let P=(k.size-k.width)/2*se,$=ae(P*2,3),U=new Path2D,Q=new Path2D,{left:B,top:T,width:j,height:C}=n.bbox;dn(Q,B-$,T-$,j+$*2,C+$*2);const I=F=>{if(m[F]!=null){let ee=G(d(h[F],g,O,L)),z=G(w(m[F],y,N,D));H(U,ee+P,z),x(U,ee,z,P,0,on*2)}};if(a)a.forEach(I);else for(let F=i;F<=s;F++)I(F);return{stroke:q>0?U:null,fill:U,clip:Q,flags:Ml|ei}})}function gs(e){return(n,o,i,s,a,u)=>{i!=s&&(a!=i&&u!=i&&e(n,o,i),a!=s&&u!=s&&e(n,o,s),e(n,o,u))}}const Pf=gs(El),Df=gs(Pl);function ds(e){const n=ie(e==null?void 0:e.alignGaps,0);return(o,i,s,a)=>el(o,i,(u,h,m,g,y,d,w,L,D,O,N)=>{[s,a]=un(m,s,a);let G=u.pxRound,k=C=>G(d(C,g,O,L)),H=C=>G(w(C,y,N,D)),x,q;g.ori==0?(x=El,q=Pf):(x=Pl,q=Df);const P=g.dir*(g.ori==0?1:-1),$={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Ml},U=$.stroke;let Q=!1;if(a-s>=O*4){let C=V=>o.posToVal(V,g.key,!0),I=null,F=null,ee,z,Ue,we=k(h[P==1?s:a]),te=k(h[s]),fe=k(h[a]),J=C(P==1?te+1:fe-1);for(let V=P==1?s:a;V>=s&&V<=a;V+=P){let be=h[V],Se=(P==1?be<J:be>J)?we:k(be),le=m[V];Se==we?le!=null?(z=le,I==null?(x(U,Se,H(z)),ee=I=F=z):z<I?I=z:z>F&&(F=z)):le===null&&(Q=!0):(I!=null&&q(U,we,H(I),H(F),H(ee),H(z)),le!=null?(z=le,x(U,Se,H(z)),I=F=ee=z):(I=F=null,le===null&&(Q=!0)),we=Se,J=C(we+P))}I!=null&&I!=F&&Ue!=we&&q(U,we,H(I),H(F),H(ee),H(z))}else for(let C=P==1?s:a;C>=s&&C<=a;C+=P){let I=m[C];I===null?Q=!0:I!=null&&x(U,k(h[C]),H(I))}let[T,j]=mi(o,i);if(u.fill!=null||T!=0){let C=$.fill=new Path2D(U),I=u.fillTo(o,i,u.min,u.max,T),F=H(I),ee=k(h[s]),z=k(h[a]);P==-1&&([z,ee]=[ee,z]),x(C,z,F),x(C,ee,F)}if(!u.spanGaps){let C=[];Q&&C.push(...gi(h,m,s,a,P,k,n)),$.gaps=C=u.gaps(o,i,s,a,C),$.clip=hn(C,g.ori,L,D,O,N)}return j!=0&&($.band=j==2?[Dt(o,i,s,a,U,-1),Dt(o,i,s,a,U,1)]:Dt(o,i,s,a,U,j)),$})}function Lf(e){const n=ie(e.align,1),o=ie(e.ascDesc,!1),i=ie(e.alignGaps,0),s=ie(e.extend,!1);return(a,u,h,m)=>el(a,u,(g,y,d,w,L,D,O,N,G,k,H)=>{[h,m]=un(d,h,m);let x=g.pxRound,{left:q,width:P}=a.bbox,$=te=>x(D(te,w,k,N)),U=te=>x(O(te,L,H,G)),Q=w.ori==0?El:Pl;const B={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Ml},T=B.stroke,j=w.dir*(w.ori==0?1:-1);let C=U(d[j==1?h:m]),I=$(y[j==1?h:m]),F=I,ee=I;s&&n==-1&&(ee=q,Q(T,ee,C)),Q(T,I,C);for(let te=j==1?h:m;te>=h&&te<=m;te+=j){let fe=d[te];if(fe==null)continue;let J=$(y[te]),V=U(fe);n==1?Q(T,J,C):Q(T,F,V),Q(T,J,V),C=V,F=J}let z=F;s&&n==1&&(z=q+P,Q(T,z,C));let[Ue,we]=mi(a,u);if(g.fill!=null||Ue!=0){let te=B.fill=new Path2D(T),fe=g.fillTo(a,u,g.min,g.max,Ue),J=U(fe);Q(te,z,J),Q(te,ee,J)}if(!g.spanGaps){let te=[];te.push(...gi(y,d,h,m,j,$,i));let fe=g.width*se/2,J=o||n==1?fe:-fe,V=o||n==-1?-fe:fe;te.forEach(be=>{be[0]+=J,be[1]+=V}),B.gaps=te=g.gaps(a,u,h,m,te),B.clip=hn(te,w.ori,N,G,k,H)}return we!=0&&(B.band=we==2?[Dt(a,u,h,m,T,-1),Dt(a,u,h,m,T,1)]:Dt(a,u,h,m,T,we)),B})}function Do(e,n,o,i,s,a,u=ce){if(e.length>1){let h=null;for(let m=0,g=1/0;m<e.length;m++)if(n[m]!==void 0){if(h!=null){let y=Ee(e[m]-e[h]);y<g&&(g=y,u=Ee(o(e[m],i,s,a)-o(e[h],i,s,a)))}h=m}}return u}function Cf(e){e=e||Yl;const n=ie(e.size,[.6,ce,1]),o=e.align||0,i=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const a=X(s),u=1-n[0],h=ie(n[1],ce),m=ie(n[2],1),g=ie(e.disp,Yl),y=ie(e.each,L=>{}),{fill:d,stroke:w}=g;return(L,D,O,N)=>el(L,D,(G,k,H,x,q,P,$,U,Q,B,T)=>{let j=G.pxRound,C=o,I=i*se,F=h*se,ee=m*se,z,Ue;x.ori==0?[z,Ue]=a(L,D):[Ue,z]=a(L,D);const we=x.dir*(x.ori==0?1:-1);let te=x.ori==0?dn:di,fe=x.ori==0?y:(A,pe,Me,il,Gt,_t,It)=>{y(A,pe,Me,Gt,il,It,_t)},J=ie(L.bands,ui).find(A=>A.series[0]==D),V=J!=null?J.dir:0,be=G.fillTo(L,D,G.min,G.max,V),He=j($(be,q,T,Q)),Se,le,ct,qe=B,ye=j(G.width*se),St=!1,Mt=null,lt=null,Lt=null,tl=null;d!=null&&(ye==0||w!=null)&&(St=!0,Mt=d.values(L,D,O,N),lt=new Map,new Set(Mt).forEach(A=>{A!=null&&lt.set(A,new Path2D)}),ye>0&&(Lt=w.values(L,D,O,N),tl=new Map,new Set(Lt).forEach(A=>{A!=null&&tl.set(A,new Path2D)})));let{x0:ll,size:Dl}=g;if(ll!=null&&Dl!=null){C=1,k=ll.values(L,D,O,N),ll.unit==2&&(k=k.map(Me=>L.posToVal(U+Me*B,x.key,!0)));let A=Dl.values(L,D,O,N);Dl.unit==2?le=A[0]*B:le=P(A[0],x,B,U)-P(0,x,B,U),qe=Do(k,H,P,x,B,U,qe),ct=qe-le+I}else qe=Do(k,H,P,x,B,U,qe),ct=qe*u+I,le=qe-ct;ct<1&&(ct=0),ye>=le/2&&(ye=0),ct<5&&(j=No);let Ul=ct>0,Nt=qe-ct-(Ul?ye:0);le=j(Zn(Nt,ee,F)),Se=(C==0?le/2:C==we?0:le)-C*we*((C==0?I/2:0)+(Ul?ye/2:0));const Ne={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},nl=St?null:new Path2D;let At=null;if(J!=null)At=L.data[J.series[1]];else{let{y0:A,y1:pe}=g;A!=null&&pe!=null&&(H=pe.values(L,D,O,N),At=A.values(L,D,O,N))}let Wt=z*le,K=Ue*le;for(let A=we==1?O:N;A>=O&&A<=N;A+=we){let pe=H[A];if(pe==null)continue;if(At!=null){let Ke=At[A]??0;if(pe-Ke==0)continue;He=$(Ke,q,T,Q)}let Me=x.distr!=2||g!=null?k[A]:A,il=P(Me,x,B,U),Gt=$(ie(pe,be),q,T,Q),_t=j(il-Se),It=j(Ye(Gt,He)),$e=j(wt(Gt,He)),nt=It-$e;if(pe!=null){let Ke=pe<0?K:Wt,at=pe<0?Wt:K;St?(ye>0&&Lt[A]!=null&&te(tl.get(Lt[A]),_t,$e+et(ye/2),le,Ye(0,nt-ye),Ke,at),Mt[A]!=null&&te(lt.get(Mt[A]),_t,$e+et(ye/2),le,Ye(0,nt-ye),Ke,at)):te(nl,_t,$e+et(ye/2),le,Ye(0,nt-ye),Ke,at),fe(L,D,A,_t-ye/2,$e,le+ye,nt)}}return ye>0?Ne.stroke=St?tl:nl:St||(Ne._fill=G.width==0?G._fill:G._stroke??G._fill,Ne.width=0),Ne.fill=St?lt:nl,Ne})}function Vf(e,n){const o=ie(n==null?void 0:n.alignGaps,0);return(i,s,a,u)=>el(i,s,(h,m,g,y,d,w,L,D,O,N,G)=>{[a,u]=un(g,a,u);let k=h.pxRound,H=z=>k(w(z,y,N,D)),x=z=>k(L(z,d,G,O)),q,P,$;y.ori==0?(q=mn,$=El,P=ps):(q=gn,$=Pl,P=hs);const U=y.dir*(y.ori==0?1:-1);let Q=H(m[U==1?a:u]),B=Q,T=[],j=[];for(let z=U==1?a:u;z>=a&&z<=u;z+=U)if(g[z]!=null){let we=m[z],te=H(we);T.push(B=te),j.push(x(g[z]))}const C={stroke:e(T,j,q,$,P,k),fill:null,clip:null,band:null,gaps:null,flags:Ml},I=C.stroke;let[F,ee]=mi(i,s);if(h.fill!=null||F!=0){let z=C.fill=new Path2D(I),Ue=h.fillTo(i,s,h.min,h.max,F),we=x(Ue);$(z,B,we),$(z,Q,we)}if(!h.spanGaps){let z=[];z.push(...gi(m,g,a,u,U,H,o)),C.gaps=z=h.gaps(i,s,a,u,z),C.clip=hn(z,y.ori,D,O,N,G)}return ee!=0&&(C.band=ee==2?[Dt(i,s,a,u,I,-1),Dt(i,s,a,u,I,1)]:Dt(i,s,a,u,I,ee)),C})}function Rf(e){return Vf(zf,e)}function zf(e,n,o,i,s,a){const u=e.length;if(u<2)return null;const h=new Path2D;if(o(h,e[0],n[0]),u==2)i(h,e[1],n[1]);else{let m=Array(u),g=Array(u-1),y=Array(u-1),d=Array(u-1);for(let w=0;w<u-1;w++)y[w]=n[w+1]-n[w],d[w]=e[w+1]-e[w],g[w]=y[w]/d[w];m[0]=g[0];for(let w=1;w<u-1;w++)g[w]===0||g[w-1]===0||g[w-1]>0!=g[w]>0?m[w]=0:(m[w]=3*(d[w-1]+d[w])/((2*d[w]+d[w-1])/g[w-1]+(d[w]+2*d[w-1])/g[w]),isFinite(m[w])||(m[w]=0));m[u-1]=g[u-2];for(let w=0;w<u-1;w++)s(h,e[w]+d[w]/3,n[w]+m[w]*d[w]/3,e[w+1]-d[w]/3,n[w+1]-m[w+1]*d[w]/3,e[w+1],n[w+1])}return h}const ti=new Set;function Lo(){for(let e of ti)e.syncRect(!0)}Al&&(Qt(mr,kl,Lo),Qt(gr,kl,Lo,!0),Qt(sn,kl,()=>{Be.pxRatio=se}));const Ff=ds(),Of=ms();function Co(e,n,o,i){return(i?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((a,u)=>li(a,u,n,o))}function Hf(e,n){return e.map((o,i)=>i==0?{}:Te({},n,o))}function li(e,n,o,i){return Te({},n==0?o:i,e)}function ws(e,n,o){return n==null?Tl:[n,o]}const Nf=ws;function Wf(e,n,o){return n==null?Tl:rn(n,o,ri,!0)}function Ss(e,n,o,i){return n==null?Tl:cn(n,o,e.scales[i].log,!1)}const Gf=Ss;function _s(e,n,o,i){return n==null?Tl:si(n,o,e.scales[i].log,!1)}const If=_s;function Yf(e,n,o,i,s){let a=Ye(uo(e),uo(n)),u=n-e,h=dt(s/i*u,o);do{let m=o[h],g=i*m/u;if(g>=s&&a+(m<5?Ht.get(m):0)<=17)return[m,g]}while(++h<o.length);return[0,0]}function Vo(e){let n,o;return e=e.replace(/(\d+)px/,(i,s)=>(n=Ae((o=+s)*se))+"px"),[e,n,o]}function Bf(e){e.show&&[e.font,e.labelFont].forEach(n=>{let o=ae(n[2]*se,1);n[0]=n[0].replace(/[0-9.]+px/,o+"px"),n[1]=o})}function Be(e,n,o){const i={mode:ie(e.mode,1)},s=i.mode;function a(t,l,r,f){let c=l.valToPct(t);return f+r*(l.dir==-1?1-c:c)}function u(t,l,r,f){let c=l.valToPct(t);return f+r*(l.dir==-1?c:1-c)}function h(t,l,r,f){return l.ori==0?a(t,l,r,f):u(t,l,r,f)}i.valToPosH=a,i.valToPosV=u;let m=!1;i.status=0;const g=i.root=ft(Js);if(e.id!=null&&(g.id=e.id),Xe(g,e.class),e.title){let t=ft(Xs,g);t.textContent=e.title}const y=gt("canvas"),d=i.ctx=y.getContext("2d"),w=ft(er,g);Qt("click",w,t=>{t.target===D&&(he!=gl||_e!=dl)&&Fe.click(i,t)},!0);const L=i.under=ft(tr,w);w.appendChild(y);const D=i.over=ft(lr,w);e=bl(e);const O=+ie(e.pxAlign,1),N=Po(O);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(i,e)||e)});const G=e.ms||.001,k=i.series=s==1?Co(e.series||[],ko,Ao,!1):Hf(e.series||[null],Mo),H=i.axes=Co(e.axes||[],vo,To,!0),x=i.scales={},q=i.bands=e.bands||[];q.forEach(t=>{t.fill=X(t.fill||null),t.dir=ie(t.dir,-1)});const P=s==2?k[1].facets[0].scale:k[0].scale,$={axes:zs,series:Ds},U=(e.drawOrder||["axes","series"]).map(t=>$[t]);function Q(t){const l=t.distr==3?r=>Pt(r>0?r:t.clamp(i,r,t.min,t.max,t.key)):t.distr==4?r=>Yn(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let f=l(r),{_min:c,_max:p}=t,S=p-c;return(f-c)/S}}function B(t){let l=x[t];if(l==null){let r=(e.scales||Yl)[t]||Yl;if(r.from!=null){B(r.from);let f=Te({},x[r.from],r,{key:t});f.valToPct=Q(f),x[t]=f}else{l=x[t]=Te({},t==P?rs:Mf,r),l.key=t;let f=l.time,c=l.range,p=Ot(c);if((t!=P||s==2&&!f)&&(p&&(c[0]==null||c[1]==null)&&(c={min:c[0]==null?so:{mode:1,hard:c[0],soft:c[0]},max:c[1]==null?so:{mode:1,hard:c[1],soft:c[1]}},p=!1),!p&&pn(c))){let S=c;c=(_,v,b)=>v==null?Tl:rn(v,b,S)}l.range=X(c||(f?Nf:t==P?l.distr==3?Gf:l.distr==4?If:ws:l.distr==3?Ss:l.distr==4?_s:Wf)),l.auto=X(p?!1:l.auto),l.clamp=X(l.clamp||bf),l._min=l._max=null,l.valToPct=Q(l)}}}B("x"),B("y"),s==1&&k.forEach(t=>{B(t.scale)}),H.forEach(t=>{B(t.scale)});for(let t in e.scales)B(t);const T=x[P],j=T.distr;let C,I;T.ori==0?(Xe(g,Zs),C=a,I=u):(Xe(g,Qs),C=u,I=a);const F={};for(let t in x){let l=x[t];(l.min!=null||l.max!=null)&&(F[t]={min:l.min,max:l.max},l.min=l.max=null)}const ee=e.tzDate||(t=>new Date(Ae(t/G))),z=e.fmtDate||ci,Ue=G==1?Zr(ee):ef(ee),we=So(ee,wo(G==1?Jr:Xr,z)),te=yo(ee,_o(lf,z)),fe=[],J=i.legend=Te({},sf,e.legend),V=i.cursor=Te({},pf,{drag:{y:s==2}},e.cursor),be=J.show,He=V.show,Se=J.markers;J.idxs=fe,Se.width=X(Se.width),Se.dash=X(Se.dash),Se.stroke=X(Se.stroke),Se.fill=X(Se.fill);let le,ct,qe,ye=[],St=[],Mt,lt=!1,Lt={};if(J.live){const t=k[1]?k[1].values:null;lt=t!=null,Mt=lt?t(i,1,0):{_:0};for(let l in Mt)Lt[l]=ii}if(be)if(le=gt("table",fr,g),qe=gt("tbody",null,le),J.mount(i,le),lt){ct=gt("thead",null,le,qe);let t=gt("tr",null,ct);gt("th",null,t);for(var tl in Mt)gt("th",ji,t).textContent=tl}else Xe(le,cr),J.live&&Xe(le,ur);const ll={show:!0},Dl={show:!1};function Ul(t,l){if(l==0&&(lt||!J.live||s==2))return Tl;let r=[],f=gt("tr",ar,qe,qe.childNodes[l]);Xe(f,t.class),t.show||Xe(f,Zt);let c=gt("th",null,f);if(Se.show){let _=ft(pr,c);if(l>0){let v=Se.width(i,l);v&&(_.style.border=v+"px "+Se.dash(i,l)+" "+Se.stroke(i,l)),_.style.background=Se.fill(i,l)}}let p=ft(ji,c);t.label instanceof HTMLElement?p.appendChild(t.label):p.textContent=t.label,l>0&&(Se.show||(p.style.color=t.width>0?Se.stroke(i,l):Se.fill(i,l)),Ne("click",c,_=>{if(V._lock)return;Bt(_);let v=k.indexOf(t);if((_.ctrlKey||_.metaKey)!=J.isolate){let b=k.some((M,E)=>E>0&&E!=v&&M.show);k.forEach((M,E)=>{E>0&&vt(E,b?E==v?ll:Dl:ll,!0,xe.setSeries)})}else vt(v,{show:!t.show},!0,xe.setSeries)},!1),sl&&Ne(Zi,c,_=>{V._lock||(Bt(_),vt(k.indexOf(t),Sl,!0,xe.setSeries))},!1));for(var S in Mt){let _=gt("td",hr,f);_.textContent="--",r.push(_)}return[f,r]}const Nt=new Map;function Ne(t,l,r,f=!0){const c=Nt.get(l)||{},p=V.bind[t](i,l,r,f);p&&(Qt(t,l,c[t]=p),Nt.set(l,c))}function nl(t,l,r){const f=Nt.get(l)||{};for(let c in f)(t==null||c==t)&&(Jn(c,l,f[c]),delete f[c]);t==null&&Nt.delete(l)}let At=0,Wt=0,K=0,A=0,pe=0,Me=0,il=pe,Gt=Me,_t=K,It=A,$e=0,nt=0,Ke=0,at=0;i.bbox={};let wn=!1,Kl=!1,ol=!1,Yt=!1,jl=!1,it=!1;function Sn(t,l,r){(r||t!=i.width||l!=i.height)&&wi(t,l),al(!1),ol=!0,Kl=!0,pl()}function wi(t,l){i.width=At=K=t,i.height=Wt=A=l,pe=Me=0,xs(),Ts();let r=i.bbox;$e=r.left=$t(pe*se,.5),nt=r.top=$t(Me*se,.5),Ke=r.width=$t(K*se,.5),at=r.height=$t(A*se,.5)}const ys=3;function vs(){let t=!1,l=0;for(;!t;){l++;let r=Vs(l),f=Rs(l);t=l==ys||r&&f,t||(wi(i.width,i.height),Kl=!0)}}function ks({width:t,height:l}){Sn(t,l)}i.setSize=ks;function xs(){let t=!1,l=!1,r=!1,f=!1;H.forEach((c,p)=>{if(c.show&&c._show){let{side:S,_size:_}=c,v=S%2,b=c.label!=null?c.labelSize:0,M=_+b;M>0&&(v?(K-=M,S==3?(pe+=M,f=!0):r=!0):(A-=M,S==0?(Me+=M,t=!0):l=!0))}}),Ut[0]=t,Ut[1]=r,Ut[2]=l,Ut[3]=f,K-=Ct[1]+Ct[3],pe+=Ct[3],A-=Ct[2]+Ct[0],Me+=Ct[0]}function Ts(){let t=pe+K,l=Me+A,r=pe,f=Me;function c(p,S){switch(p){case 1:return t+=S,t-S;case 2:return l+=S,l-S;case 3:return r-=S,r+S;case 0:return f-=S,f+S}}H.forEach((p,S)=>{if(p.show&&p._show){let _=p.side;p._pos=c(_,p._size),p.label!=null&&(p._lpos=c(_,p.labelSize))}})}if(V.dataIdx==null){let t=V.hover,l=t.skip=new Set(t.skip??[]);l.add(void 0);let r=t.prox=X(t.prox),f=t.bias??(t.bias=0);V.dataIdx=(c,p,S,_)=>{if(p==0)return S;let v=S,b=r(c,p,S,_)??ce,M=b>=0&&b<ce,E=T.ori==0?K:A,Y=V.left,oe=n[0],ne=n[p];if(l.has(ne[S])){v=null;let Z=null,W=null,R;if(f==0||f==-1)for(R=S;Z==null&&R-- >0;)l.has(ne[R])||(Z=R);if(f==0||f==1)for(R=S;W==null&&R++<ne.length;)l.has(ne[R])||(W=R);if(Z!=null||W!=null)if(M){let ge=Z==null?-1/0:C(oe[Z],T,E,0),ve=W==null?1/0:C(oe[W],T,E,0),Re=Y-ge,ue=ve-Y;Re<=ue?Re<=b&&(v=Z):ue<=b&&(v=W)}else v=W==null?Z:Z==null?W:S-Z<=W-S?Z:W}else M&&Ee(Y-C(oe[S],T,E,0))>b&&(v=null);return v}}const Bt=t=>{V.event=t};V.idxs=fe,V._lock=!1;let Oe=V.points;Oe.show=X(Oe.show),Oe.size=X(Oe.size),Oe.stroke=X(Oe.stroke),Oe.width=X(Oe.width),Oe.fill=X(Oe.fill);const yt=i.focus=Te({},e.focus||{alpha:.3},V.focus),sl=yt.prox>=0,rl=sl&&Oe.one;let ot=[],fl=[],ul=[];function Si(t,l){let r=Oe.show(i,l);if(r instanceof HTMLElement)return Xe(r,rr),Xe(r,t.class),bt(r,-10,-10,K,A),D.insertBefore(r,ot[l]),r}function _i(t,l){if(s==1||l>0){let r=s==1&&x[t.scale].time,f=t.value;t.value=r?po(f)?yo(ee,_o(f,z)):f||te:f||kf,t.label=t.label||(r?mf:hf)}if(rl||l>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Ff||br,t.fillTo=X(t.fillTo||Af),t.pxAlign=+ie(t.pxAlign,O),t.pxRound=Po(t.pxAlign),t.stroke=X(t.stroke||null),t.fill=X(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=xf(Ye(1,t.width),1),f=t.points=Te({},{size:r,width:Ye(1,r*.2),stroke:t.stroke,space:r*2,paths:Of,_stroke:null,_fill:null},t.points);f.show=X(f.show),f.filter=X(f.filter),f.fill=X(f.fill),f.stroke=X(f.stroke),f.paths=X(f.paths),f.pxAlign=t.pxAlign}if(be){let r=Ul(t,l);ye.splice(l,0,r[0]),St.splice(l,0,r[1]),J.values.push(null)}if(He){fe.splice(l,0,null);let r=null;rl?l==0&&(r=Si(t,l)):l>0&&(r=Si(t,l)),ot.splice(l,0,r),fl.splice(l,0,0),ul.splice(l,0,0)}Ve("addSeries",l)}function bs(t,l){l=l??k.length,t=s==1?li(t,l,ko,Ao):li(t,l,{},Mo),k.splice(l,0,t),_i(k[l],l)}i.addSeries=bs;function Ms(t){if(k.splice(t,1),be){J.values.splice(t,1),St.splice(t,1);let l=ye.splice(t,1)[0];nl(null,l.firstChild),l.remove()}He&&(fe.splice(t,1),ot.splice(t,1)[0].remove(),fl.splice(t,1),ul.splice(t,1)),Ve("delSeries",t)}i.delSeries=Ms;const Ut=[!1,!1,!1,!1];function As(t,l){if(t._show=t.show,t.show){let r=t.side%2,f=x[t.scale];f==null&&(t.scale=r?k[1].scale:P,f=x[t.scale]);let c=f.time;t.size=X(t.size),t.space=X(t.space),t.rotate=X(t.rotate),Ot(t.incrs)&&t.incrs.forEach(S=>{!Ht.has(S)&&Ht.set(S,Io(S))}),t.incrs=X(t.incrs||(f.distr==2?jr:c?G==1?$r:Qr:Jt)),t.splits=X(t.splits||(c&&f.distr==1?Ue:f.distr==3?Qn:f.distr==4?wf:df)),t.stroke=X(t.stroke),t.grid.stroke=X(t.grid.stroke),t.ticks.stroke=X(t.ticks.stroke),t.border.stroke=X(t.border.stroke);let p=t.values;t.values=Ot(p)&&!Ot(p[0])?X(p):c?Ot(p)?So(ee,wo(p,z)):po(p)?tf(ee,p):p||we:p||gf,t.filter=X(t.filter||(f.distr>=3&&f.log==10?yf:f.distr==3&&f.log==2?vf:Wo)),t.font=Vo(t.font),t.labelFont=Vo(t.labelFont),t._size=t.size(i,null,l,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(Ut[l]=!0,t._el=ft(nr,w))}}function Ll(t,l,r,f){let[c,p,S,_]=r,v=l%2,b=0;return v==0&&(_||p)&&(b=l==0&&!c||l==2&&!S?Ae(vo.size/3):0),v==1&&(c||S)&&(b=l==1&&!p||l==3&&!_?Ae(To.size/2):0),b}const yi=i.padding=(e.padding||[Ll,Ll,Ll,Ll]).map(t=>X(ie(t,Ll))),Ct=i._padding=yi.map((t,l)=>t(i,l,Ut,0));let ze,Pe=null,De=null;const ql=s==1?k[0].idxs:null;let pt=null,Cl=!1;function vi(t,l){if(n=t??[],i.data=i._data=n,s==2){ze=0;for(let r=1;r<k.length;r++)ze+=n[r][0].length}else{n.length==0&&(i.data=i._data=n=[[]]),pt=n[0],ze=pt.length;let r=n;if(j==2){r=n.slice();let f=r[0]=Array(ze);for(let c=0;c<ze;c++)f[c]=c}i._data=n=r}if(al(!0),Ve("setData"),j==2&&(ol=!0),l!==!1){let r=T;r.auto(i,Cl)?_n():Rt(P,r.min,r.max),Yt=Yt||V.left>=0,it=!0,pl()}}i.setData=vi;function _n(){Cl=!0;let t,l;s==1&&(ze>0?(Pe=ql[0]=0,De=ql[1]=ze-1,t=n[0][Pe],l=n[0][De],j==2?(t=Pe,l=De):t==l&&(j==3?[t,l]=cn(t,t,T.log,!1):j==4?[t,l]=si(t,t,T.log,!1):T.time?l=t+Ae(86400/G):[t,l]=rn(t,l,ri,!0))):(Pe=ql[0]=t=null,De=ql[1]=l=null)),Rt(P,t,l)}let $l,cl,yn,vn,kn,xn,Tn,bn,Mn,je;function ki(t,l,r,f,c,p){t??(t=$i),r??(r=ui),f??(f="butt"),c??(c=$i),p??(p="round"),t!=$l&&(d.strokeStyle=$l=t),c!=cl&&(d.fillStyle=cl=c),l!=yn&&(d.lineWidth=yn=l),p!=kn&&(d.lineJoin=kn=p),f!=xn&&(d.lineCap=xn=f),r!=vn&&d.setLineDash(vn=r)}function xi(t,l,r,f){l!=cl&&(d.fillStyle=cl=l),t!=Tn&&(d.font=Tn=t),r!=bn&&(d.textAlign=bn=r),f!=Mn&&(d.textBaseline=Mn=f)}function An(t,l,r,f,c=0){if(f.length>0&&t.auto(i,Cl)&&(l==null||l.min==null)){let p=ie(Pe,0),S=ie(De,f.length-1),_=r.min==null?_r(f,p,S,c,t.distr==3):[r.min,r.max];t.min=wt(t.min,r.min=_[0]),t.max=Ye(t.max,r.max=_[1])}}const Ti={min:null,max:null};function Es(){for(let f in x){let c=x[f];F[f]==null&&(c.min==null||F[P]!=null&&c.auto(i,Cl))&&(F[f]=Ti)}for(let f in x){let c=x[f];F[f]==null&&c.from!=null&&F[c.from]!=null&&(F[f]=Ti)}F[P]!=null&&al(!0);let t={};for(let f in F){let c=F[f];if(c!=null){let p=t[f]=bl(x[f],Er);if(c.min!=null)Te(p,c);else if(f!=P||s==2)if(ze==0&&p.from==null){let S=p.range(i,null,null,f);p.min=S[0],p.max=S[1]}else p.min=ce,p.max=-ce}}if(ze>0){k.forEach((f,c)=>{if(s==1){let p=f.scale,S=F[p];if(S==null)return;let _=t[p];if(c==0){let v=_.range(i,_.min,_.max,p);_.min=v[0],_.max=v[1],Pe=dt(_.min,n[0]),De=dt(_.max,n[0]),De-Pe>1&&(n[0][Pe]<_.min&&Pe++,n[0][De]>_.max&&De--),f.min=pt[Pe],f.max=pt[De]}else f.show&&f.auto&&An(_,S,f,n[c],f.sorted);f.idxs[0]=Pe,f.idxs[1]=De}else if(c>0&&f.show&&f.auto){let[p,S]=f.facets,_=p.scale,v=S.scale,[b,M]=n[c],E=t[_],Y=t[v];E!=null&&An(E,F[_],p,b,p.sorted),Y!=null&&An(Y,F[v],S,M,S.sorted),f.min=S.min,f.max=S.max}});for(let f in t){let c=t[f],p=F[f];if(c.from==null&&(p==null||p.min==null)){let S=c.range(i,c.min==ce?null:c.min,c.max==-ce?null:c.max,f);c.min=S[0],c.max=S[1]}}}for(let f in t){let c=t[f];if(c.from!=null){let p=t[c.from];if(p.min==null)c.min=c.max=null;else{let S=c.range(i,p.min,p.max,f);c.min=S[0],c.max=S[1]}}}let l={},r=!1;for(let f in t){let c=t[f],p=x[f];if(p.min!=c.min||p.max!=c.max){p.min=c.min,p.max=c.max;let S=p.distr;p._min=S==3?Pt(p.min):S==4?Yn(p.min,p.asinh):S==100?p.fwd(p.min):p.min,p._max=S==3?Pt(p.max):S==4?Yn(p.max,p.asinh):S==100?p.fwd(p.max):p.max,l[f]=r=!0}}if(r){k.forEach((f,c)=>{s==2?c>0&&l.y&&(f._paths=null):l[f.scale]&&(f._paths=null)});for(let f in l)ol=!0,Ve("setScale",f);He&&V.left>=0&&(Yt=it=!0)}for(let f in F)F[f]=null}function Ps(t){let l=Zn(Pe-1,0,ze-1),r=Zn(De+1,0,ze-1);for(;t[l]==null&&l>0;)l--;for(;t[r]==null&&r<ze-1;)r++;return[l,r]}function Ds(){if(ze>0){let t=k.some(l=>l._focus)&&je!=yt.alpha;t&&(d.globalAlpha=je=yt.alpha),k.forEach((l,r)=>{if(r>0&&l.show&&(bi(r,!1),bi(r,!0),l._paths==null)){let f=je;je!=l.alpha&&(d.globalAlpha=je=l.alpha);let c=s==2?[0,n[r][0].length-1]:Ps(n[r]);l._paths=l.paths(i,r,c[0],c[1]),je!=f&&(d.globalAlpha=je=f)}}),k.forEach((l,r)=>{if(r>0&&l.show){let f=je;je!=l.alpha&&(d.globalAlpha=je=l.alpha),l._paths!=null&&Mi(r,!1);{let c=l._paths!=null?l._paths.gaps:null,p=l.points.show(i,r,Pe,De,c),S=l.points.filter(i,r,p,c);(p||S)&&(l.points._paths=l.points.paths(i,r,Pe,De,S),Mi(r,!0))}je!=f&&(d.globalAlpha=je=f),Ve("drawSeries",r)}}),t&&(d.globalAlpha=je=1)}}function bi(t,l){let r=l?k[t].points:k[t];r._stroke=r.stroke(i,t),r._fill=r.fill(i,t)}function Mi(t,l){let r=l?k[t].points:k[t],{stroke:f,fill:c,clip:p,flags:S,_stroke:_=r._stroke,_fill:v=r._fill,_width:b=r.width}=r._paths;b=ae(b*se,3);let M=null,E=b%2/2;l&&v==null&&(v=b>0?"#fff":_);let Y=r.pxAlign==1&&E>0;if(Y&&d.translate(E,E),!l){let oe=$e-b/2,ne=nt-b/2,Z=Ke+b,W=at+b;M=new Path2D,M.rect(oe,ne,Z,W)}l?En(_,b,r.dash,r.cap,v,f,c,S,p):Ls(t,_,b,r.dash,r.cap,v,f,c,S,M,p),Y&&d.translate(-E,-E)}function Ls(t,l,r,f,c,p,S,_,v,b,M){let E=!1;v!=0&&q.forEach((Y,oe)=>{if(Y.series[0]==t){let ne=k[Y.series[1]],Z=n[Y.series[1]],W=(ne._paths||Yl).band;Ot(W)&&(W=Y.dir==1?W[0]:W[1]);let R,ge=null;ne.show&&W&&vr(Z,Pe,De)?(ge=Y.fill(i,oe)||p,R=ne._paths.clip):W=null,En(l,r,f,c,ge,S,_,v,b,M,R,W),E=!0}}),E||En(l,r,f,c,p,S,_,v,b,M)}const Ai=Ml|ei;function En(t,l,r,f,c,p,S,_,v,b,M,E){ki(t,l,r,f,c),(v||b||E)&&(d.save(),v&&d.clip(v),b&&d.clip(b)),E?(_&Ai)==Ai?(d.clip(E),M&&d.clip(M),Zl(c,S),Jl(t,p,l)):_&ei?(Zl(c,S),d.clip(E),Jl(t,p,l)):_&Ml&&(d.save(),d.clip(E),M&&d.clip(M),Zl(c,S),d.restore(),Jl(t,p,l)):(Zl(c,S),Jl(t,p,l)),(v||b||E)&&d.restore()}function Jl(t,l,r){r>0&&(l instanceof Map?l.forEach((f,c)=>{d.strokeStyle=$l=c,d.stroke(f)}):l!=null&&t&&d.stroke(l))}function Zl(t,l){l instanceof Map?l.forEach((r,f)=>{d.fillStyle=cl=f,d.fill(r)}):l!=null&&t&&d.fill(l)}function Cs(t,l,r,f){let c=H[t],p;if(f<=0)p=[0,0];else{let S=c._space=c.space(i,t,l,r,f),_=c._incrs=c.incrs(i,t,l,r,f,S);p=Yf(l,r,_,f,S)}return c._found=p}function Pn(t,l,r,f,c,p,S,_,v,b){let M=S%2/2;O==1&&d.translate(M,M),ki(_,S,v,b,_),d.beginPath();let E,Y,oe,ne,Z=c+(f==0||f==3?-p:p);r==0?(Y=c,ne=Z):(E=c,oe=Z);for(let W=0;W<t.length;W++)l[W]!=null&&(r==0?E=oe=t[W]:Y=ne=t[W],d.moveTo(E,Y),d.lineTo(oe,ne));d.stroke(),O==1&&d.translate(-M,-M)}function Vs(t){let l=!0;return H.forEach((r,f)=>{if(!r.show)return;let c=x[r.scale];if(c.min==null){r._show&&(l=!1,r._show=!1,al(!1));return}else r._show||(l=!1,r._show=!0,al(!1));let p=r.side,S=p%2,{min:_,max:v}=c,[b,M]=Cs(f,_,v,S==0?K:A);if(M==0)return;let E=c.distr==2,Y=r._splits=r.splits(i,f,_,v,b,M,E),oe=c.distr==2?Y.map(R=>pt[R]):Y,ne=c.distr==2?pt[Y[1]]-pt[Y[0]]:b,Z=r._values=r.values(i,r.filter(i,oe,f,M,ne),f,M,ne);r._rotate=p==2?r.rotate(i,Z,f,M):0;let W=r._size;r._size=ut(r.size(i,Z,f,t)),W!=null&&r._size!=W&&(l=!1)}),l}function Rs(t){let l=!0;return yi.forEach((r,f)=>{let c=r(i,f,Ut,t);c!=Ct[f]&&(l=!1),Ct[f]=c}),l}function zs(){for(let t=0;t<H.length;t++){let l=H[t];if(!l.show||!l._show)continue;let r=l.side,f=r%2,c,p,S=l.stroke(i,t),_=r==0||r==3?-1:1,[v,b]=l._found;if(l.label!=null){let Ge=l.labelGap*_,Qe=Ae((l._lpos+Ge)*se);xi(l.labelFont[0],S,"center",r==2?"top":qi),d.save(),f==1?(c=p=0,d.translate(Qe,Ae(nt+at/2)),d.rotate((r==3?-on:on)/2)):(c=Ae($e+Ke/2),p=Qe);let qt=Ho(l.label)?l.label(i,t,v,b):l.label;d.fillText(qt,c,p),d.restore()}if(b==0)continue;let M=x[l.scale],E=f==0?Ke:at,Y=f==0?$e:nt,oe=l._splits,ne=M.distr==2?oe.map(Ge=>pt[Ge]):oe,Z=M.distr==2?pt[oe[1]]-pt[oe[0]]:v,W=l.ticks,R=l.border,ge=W.show?W.size:0,ve=Ae(ge*se),Re=Ae((l.alignTo==2?l._size-ge-l.gap:l.gap)*se),ue=l._rotate*-on/180,ke=N(l._pos*se),Je=(ve+Re)*_,We=ke+Je;p=f==0?We:0,c=f==1?We:0;let st=l.font[0],ht=l.align==1?yl:l.align==2?Wn:ue>0?yl:ue<0?Wn:f==0?"center":r==3?Wn:yl,xt=ue||f==1?"middle":r==2?"top":qi;xi(st,S,ht,xt);let Ze=l.font[1]*l.lineGap,rt=oe.map(Ge=>N(h(Ge,M,E,Y))),mt=l._values;for(let Ge=0;Ge<mt.length;Ge++){let Qe=mt[Ge];if(Qe!=null){f==0?c=rt[Ge]:p=rt[Ge],Qe=""+Qe;let qt=Qe.indexOf(`
`)==-1?[Qe]:Qe.split(/\n/gm);for(let Ie=0;Ie<qt.length;Ie++){let Ki=qt[Ie];ue?(d.save(),d.translate(c,p+Ie*Ze),d.rotate(ue),d.fillText(Ki,0,0),d.restore()):d.fillText(Ki,c,p+Ie*Ze)}}}W.show&&Pn(rt,W.filter(i,ne,t,b,Z),f,r,ke,ve,ae(W.width*se,3),W.stroke(i,t),W.dash,W.cap);let Tt=l.grid;Tt.show&&Pn(rt,Tt.filter(i,ne,t,b,Z),f,f==0?2:1,f==0?nt:$e,f==0?at:Ke,ae(Tt.width*se,3),Tt.stroke(i,t),Tt.dash,Tt.cap),R.show&&Pn([ke],[1],f==0?1:0,f==0?1:2,f==1?nt:$e,f==1?at:Ke,ae(R.width*se,3),R.stroke(i,t),R.dash,R.cap)}Ve("drawAxes")}function al(t){k.forEach((l,r)=>{r>0&&(l._paths=null,t&&(s==1?(l.min=null,l.max=null):l.facets.forEach(f=>{f.min=null,f.max=null})))})}let Ql=!1,Dn=!1,Vl=[];function Fs(){Dn=!1;for(let t=0;t<Vl.length;t++)Ve(...Vl[t]);Vl.length=0}function pl(){Ql||(zr(Ei),Ql=!0)}function Os(t,l=!1){Ql=!0,Dn=l,t(i),Ei(),l&&Vl.length>0&&queueMicrotask(Fs)}i.batch=Os;function Ei(){if(wn&&(Es(),wn=!1),ol&&(vs(),ol=!1),Kl){if(de(L,yl,pe),de(L,"top",Me),de(L,Nl,K),de(L,Wl,A),de(D,yl,pe),de(D,"top",Me),de(D,Nl,K),de(D,Wl,A),de(w,Nl,At),de(w,Wl,Wt),y.width=Ae(At*se),y.height=Ae(Wt*se),H.forEach(({_el:t,_show:l,_size:r,_pos:f,side:c})=>{if(t!=null)if(l){let p=c===3||c===0?r:0,S=c%2==1;de(t,S?"left":"top",f-p),de(t,S?"width":"height",r),de(t,S?"top":"left",S?Me:pe),de(t,S?"height":"width",S?A:K),$n(t,Zt)}else Xe(t,Zt)}),$l=cl=yn=kn=xn=Tn=bn=Mn=vn=null,je=1,Fl(!0),pe!=il||Me!=Gt||K!=_t||A!=It){al(!1);let t=K/_t,l=A/It;if(He&&!Yt&&V.left>=0){V.left*=t,V.top*=l,hl&&bt(hl,Ae(V.left),0,K,A),ml&&bt(ml,0,Ae(V.top),K,A);for(let r=0;r<ot.length;r++){let f=ot[r];f!=null&&(fl[r]*=t,ul[r]*=l,bt(f,ut(fl[r]),ut(ul[r]),K,A))}}if(me.show&&!jl&&me.left>=0&&me.width>0){me.left*=t,me.width*=t,me.top*=l,me.height*=l;for(let r in Fn)de(wl,r,me[r])}il=pe,Gt=Me,_t=K,It=A}Ve("setSize"),Kl=!1}At>0&&Wt>0&&(d.clearRect(0,0,y.width,y.height),Ve("drawClear"),U.forEach(t=>t()),Ve("draw")),me.show&&jl&&(Xl(me),jl=!1),He&&Yt&&(jt(null,!0,!1),Yt=!1),J.show&&J.live&&it&&(Rn(),it=!1),m||(m=!0,i.status=1,Ve("ready")),Cl=!1,Ql=!1}i.redraw=(t,l)=>{ol=l||!1,t!==!1?Rt(P,T.min,T.max):pl()};function Ln(t,l){let r=x[t];if(r.from==null){if(ze==0){let f=r.range(i,l.min,l.max,t);l.min=f[0],l.max=f[1]}if(l.min>l.max){let f=l.min;l.min=l.max,l.max=f}if(ze>1&&l.min!=null&&l.max!=null&&l.max-l.min<1e-16)return;t==P&&r.distr==2&&ze>0&&(l.min=dt(l.min,n[0]),l.max=dt(l.max,n[0]),l.min==l.max&&l.max++),F[t]=l,wn=!0,pl()}}i.setScale=Ln;let Cn,Vn,hl,ml,Pi,Di,gl,dl,Li,Ci,he,_e,Vt=!1;const Fe=V.drag;let Le=Fe.x,Ce=Fe.y;He&&(V.x&&(Cn=ft(or,D)),V.y&&(Vn=ft(sr,D)),T.ori==0?(hl=Cn,ml=Vn):(hl=Vn,ml=Cn),he=V.left,_e=V.top);const me=i.select=Te({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),wl=me.show?ft(ir,me.over?D:L):null;function Xl(t,l){if(me.show){for(let r in t)me[r]=t[r],r in Fn&&de(wl,r,t[r]);l!==!1&&Ve("setSelect")}}i.setSelect=Xl;function Hs(t){if(k[t].show)be&&$n(ye[t],Zt);else if(be&&Xe(ye[t],Zt),He){let r=rl?ot[0]:ot[t];r!=null&&bt(r,-10,-10,K,A)}}function Rt(t,l,r){Ln(t,{min:l,max:r})}function vt(t,l,r,f){l.focus!=null&&Ys(t),l.show!=null&&k.forEach((c,p)=>{p>0&&(t==p||t==null)&&(c.show=l.show,Hs(p),s==2?(Rt(c.facets[0].scale,null,null),Rt(c.facets[1].scale,null,null)):Rt(c.scale,null,null),pl())}),r!==!1&&Ve("setSeries",t,l),f&&Ol("setSeries",i,t,l)}i.setSeries=vt;function Ns(t,l){Te(q[t],l)}function Ws(t,l){t.fill=X(t.fill||null),t.dir=ie(t.dir,-1),l=l??q.length,q.splice(l,0,t)}function Gs(t){t==null?q.length=0:q.splice(t,1)}i.addBand=Ws,i.setBand=Ns,i.delBand=Gs;function Is(t,l){k[t].alpha=l,He&&ot[t]!=null&&(ot[t].style.opacity=l),be&&ye[t]&&(ye[t].style.opacity=l)}let Et,zt,Kt;const Sl={focus:!0};function Ys(t){if(t!=Kt){let l=t==null,r=yt.alpha!=1;k.forEach((f,c)=>{if(s==1||c>0){let p=l||c==0||c==t;f._focus=l?null:p,r&&Is(c,p?1:yt.alpha)}}),Kt=t,r&&pl()}}be&&sl&&Ne(Qi,le,t=>{V._lock||(Bt(t),Kt!=null&&vt(null,Sl,!0,xe.setSeries))});function kt(t,l,r){let f=x[l];r&&(t=t/se-(f.ori==1?Me:pe));let c=K;f.ori==1&&(c=A,t=c-t),f.dir==-1&&(t=c-t);let p=f._min,S=f._max,_=t/c,v=p+(S-p)*_,b=f.distr;return b==3?xl(10,v):b==4?xr(v,f.asinh):b==100?f.bwd(v):v}function Bs(t,l){let r=kt(t,P,l);return dt(r,n[0],Pe,De)}i.valToIdx=t=>dt(t,n[0]),i.posToIdx=Bs,i.posToVal=kt,i.valToPos=(t,l,r)=>x[l].ori==0?a(t,x[l],r?Ke:K,r?$e:0):u(t,x[l],r?at:A,r?nt:0),i.setCursor=(t,l,r)=>{he=t.left,_e=t.top,jt(null,l,r)};function Vi(t,l){de(wl,yl,me.left=t),de(wl,Nl,me.width=l)}function Ri(t,l){de(wl,"top",me.top=t),de(wl,Wl,me.height=l)}let Rl=T.ori==0?Vi:Ri,zl=T.ori==1?Vi:Ri;function Us(){if(be&&J.live)for(let t=s==2?1:0;t<k.length;t++){if(t==0&&lt)continue;let l=J.values[t],r=0;for(let f in l)St[t][r++].firstChild.nodeValue=l[f]}}function Rn(t,l){if(t!=null&&(t.idxs?t.idxs.forEach((r,f)=>{fe[f]=r}):Ar(t.idx)||fe.fill(t.idx),J.idx=fe[0]),be&&J.live){for(let r=0;r<k.length;r++)(r>0||s==1&&!lt)&&Ks(r,fe[r]);Us()}it=!1,l!==!1&&Ve("setLegend")}i.setLegend=Rn;function Ks(t,l){let r=k[t],f=t==0&&j==2?pt:n[t],c;lt?c=r.values(i,t,l)??Lt:(c=r.value(i,l==null?null:f[l],t,l),c=c==null?Lt:{_:c}),J.values[t]=c}function jt(t,l,r){Li=he,Ci=_e,[he,_e]=V.move(i,he,_e),V.left=he,V.top=_e,He&&(hl&&bt(hl,Ae(he),0,K,A),ml&&bt(ml,0,Ae(_e),K,A));let f,c=Pe>De;Et=ce,zt=null;let p=T.ori==0?K:A,S=T.ori==1?K:A;if(he<0||ze==0||c){f=V.idx=null;for(let _=0;_<k.length;_++){let v=ot[_];v!=null&&bt(v,-10,-10,K,A)}sl&&vt(null,Sl,!0,t==null&&xe.setSeries),J.live&&(fe.fill(f),it=!0)}else{let _,v,b;s==1&&(_=T.ori==0?he:_e,v=kt(_,P),f=V.idx=dt(v,n[0],Pe,De),b=C(n[0][f],T,p,0));let M=-10,E=-10,Y=0,oe=0,ne=!0,Z="",W="";for(let R=s==2?1:0;R<k.length;R++){let ge=k[R],ve=fe[R],Re=ve==null?null:s==1?n[R][ve]:n[R][1][ve],ue=V.dataIdx(i,R,f,v),ke=ue==null?null:s==1?n[R][ue]:n[R][1][ue];if(it=it||ke!=Re||ue!=ve,fe[R]=ue,R>0&&ge.show){let Je=ue==null?-10:ue==f?b:C(s==1?n[0][ue]:n[R][0][ue],T,p,0),We=ke==null?-10:I(ke,s==1?x[ge.scale]:x[ge.facets[1].scale],S,0);if(sl&&ke!=null){let st=T.ori==1?he:_e,ht=Ee(yt.dist(i,R,ue,We,st));if(ht<Et){let xt=yt.bias;if(xt!=0){let Ze=kt(st,ge.scale),rt=ke>=0?1:-1,mt=Ze>=0?1:-1;mt==rt&&(mt==1?xt==1?ke>=Ze:ke<=Ze:xt==1?ke<=Ze:ke>=Ze)&&(Et=ht,zt=R)}else Et=ht,zt=R}}if(it||rl){let st,ht;T.ori==0?(st=Je,ht=We):(st=We,ht=Je);let xt,Ze,rt,mt,Tt,Ge,Qe=!0,qt=Oe.bbox;if(qt!=null){Qe=!1;let Ie=qt(i,R);rt=Ie.left,mt=Ie.top,xt=Ie.width,Ze=Ie.height}else rt=st,mt=ht,xt=Ze=Oe.size(i,R);if(Ge=Oe.fill(i,R),Tt=Oe.stroke(i,R),rl)R==zt&&Et<=yt.prox&&(M=rt,E=mt,Y=xt,oe=Ze,ne=Qe,Z=Ge,W=Tt);else{let Ie=ot[R];Ie!=null&&(fl[R]=rt,ul[R]=mt,oo(Ie,xt,Ze,Qe),no(Ie,Ge,Tt),bt(Ie,ut(rt),ut(mt),K,A))}}}}if(rl){let R=yt.prox,ge=Kt==null?Et<=R:Et>R||zt!=Kt;if(it||ge){let ve=ot[0];ve!=null&&(fl[0]=M,ul[0]=E,oo(ve,Y,oe,ne),no(ve,Z,W),bt(ve,ut(M),ut(E),K,A))}}}if(me.show&&Vt)if(t!=null){let[_,v]=xe.scales,[b,M]=xe.match,[E,Y]=t.cursor.sync.scales,oe=t.cursor.drag;if(Le=oe._x,Ce=oe._y,Le||Ce){let{left:ne,top:Z,width:W,height:R}=t.select,ge=t.scales[E].ori,ve=t.posToVal,Re,ue,ke,Je,We,st=_!=null&&b(_,E),ht=v!=null&&M(v,Y);st&&Le?(ge==0?(Re=ne,ue=W):(Re=Z,ue=R),ke=x[_],Je=C(ve(Re,E),ke,p,0),We=C(ve(Re+ue,E),ke,p,0),Rl(wt(Je,We),Ee(We-Je))):Rl(0,p),ht&&Ce?(ge==1?(Re=ne,ue=W):(Re=Z,ue=R),ke=x[v],Je=I(ve(Re,Y),ke,S,0),We=I(ve(Re+ue,Y),ke,S,0),zl(wt(Je,We),Ee(We-Je))):zl(0,S)}else On()}else{let _=Ee(Li-Pi),v=Ee(Ci-Di);if(T.ori==1){let Y=_;_=v,v=Y}Le=Fe.x&&_>=Fe.dist,Ce=Fe.y&&v>=Fe.dist;let b=Fe.uni;b!=null?Le&&Ce&&(Le=_>=b,Ce=v>=b,!Le&&!Ce&&(v>_?Ce=!0:Le=!0)):Fe.x&&Fe.y&&(Le||Ce)&&(Le=Ce=!0);let M,E;Le&&(T.ori==0?(M=gl,E=he):(M=dl,E=_e),Rl(wt(M,E),Ee(E-M)),Ce||zl(0,S)),Ce&&(T.ori==1?(M=gl,E=he):(M=dl,E=_e),zl(wt(M,E),Ee(E-M)),Le||Rl(0,p)),!Le&&!Ce&&(Rl(0,0),zl(0,0))}if(Fe._x=Le,Fe._y=Ce,t==null){if(r){if(Ui!=null){let[_,v]=xe.scales;xe.values[0]=_!=null?kt(T.ori==0?he:_e,_):null,xe.values[1]=v!=null?kt(T.ori==1?he:_e,v):null}Ol(Gn,i,he,_e,K,A,f)}if(sl){let _=r&&xe.setSeries,v=yt.prox;Kt==null?Et<=v&&vt(zt,Sl,!0,_):Et>v?vt(null,Sl,!0,_):zt!=Kt&&vt(zt,Sl,!0,_)}}it&&(J.idx=f,Rn()),l!==!1&&Ve("setCursor")}let Ft=null;Object.defineProperty(i,"rect",{get(){return Ft==null&&Fl(!1),Ft}});function Fl(t=!1){t?Ft=null:(Ft=D.getBoundingClientRect(),Ve("syncRect",Ft))}function zi(t,l,r,f,c,p,S){V._lock||Vt&&t!=null&&t.movementX==0&&t.movementY==0||(zn(t,l,r,f,c,p,S,!1,t!=null),t!=null?jt(null,!0,!0):jt(l,!0,!1))}function zn(t,l,r,f,c,p,S,_,v){if(Ft==null&&Fl(!1),Bt(t),t!=null)r=t.clientX-Ft.left,f=t.clientY-Ft.top;else{if(r<0||f<0){he=-10,_e=-10;return}let[b,M]=xe.scales,E=l.cursor.sync,[Y,oe]=E.values,[ne,Z]=E.scales,[W,R]=xe.match,ge=l.axes[0].side%2==1,ve=T.ori==0?K:A,Re=T.ori==1?K:A,ue=ge?p:c,ke=ge?c:p,Je=ge?f:r,We=ge?r:f;if(ne!=null?r=W(b,ne)?h(Y,x[b],ve,0):-10:r=ve*(Je/ue),Z!=null?f=R(M,Z)?h(oe,x[M],Re,0):-10:f=Re*(We/ke),T.ori==1){let st=r;r=f,f=st}}v&&(l==null||l.cursor.event.type==Gn)&&((r<=1||r>=K-1)&&(r=$t(r,K)),(f<=1||f>=A-1)&&(f=$t(f,A))),_?(Pi=r,Di=f,[gl,dl]=V.move(i,r,f)):(he=r,_e=f)}const Fn={width:0,height:0,left:0,top:0};function On(){Xl(Fn,!1)}let Fi,Oi,Hi,Ni;function Wi(t,l,r,f,c,p,S){Vt=!0,Le=Ce=Fe._x=Fe._y=!1,zn(t,l,r,f,c,p,S,!0,!1),t!=null&&(Ne(In,jn,Gi,!1),Ol(Ji,i,gl,dl,K,A,null));let{left:_,top:v,width:b,height:M}=me;Fi=_,Oi=v,Hi=b,Ni=M}function Gi(t,l,r,f,c,p,S){Vt=Fe._x=Fe._y=!1,zn(t,l,r,f,c,p,S,!1,!0);let{left:_,top:v,width:b,height:M}=me,E=b>0||M>0,Y=Fi!=_||Oi!=v||Hi!=b||Ni!=M;if(E&&Y&&Xl(me),Fe.setScale&&E&&Y){let oe=_,ne=b,Z=v,W=M;if(T.ori==1&&(oe=v,ne=M,Z=_,W=b),Le&&Rt(P,kt(oe,P),kt(oe+ne,P)),Ce)for(let R in x){let ge=x[R];R!=P&&ge.from==null&&ge.min!=ce&&Rt(R,kt(Z+W,R),kt(Z,R))}On()}else V.lock&&(V._lock=!V._lock,jt(l,!0,t!=null));t!=null&&(nl(In,jn),Ol(In,i,he,_e,K,A,null))}function js(t,l,r,f,c,p,S){if(V._lock)return;Bt(t);let _=Vt;if(Vt){let v=!0,b=!0,M=10,E,Y;T.ori==0?(E=Le,Y=Ce):(E=Ce,Y=Le),E&&Y&&(v=he<=M||he>=K-M,b=_e<=M||_e>=A-M),E&&v&&(he=he<gl?0:K),Y&&b&&(_e=_e<dl?0:A),jt(null,!0,!0),Vt=!1}he=-10,_e=-10,fe.fill(null),jt(null,!0,!0),_&&(Vt=_)}function Ii(t,l,r,f,c,p,S){V._lock||(Bt(t),_n(),On(),t!=null&&Ol(Xi,i,he,_e,K,A,null))}function Yi(){H.forEach(Bf),Sn(i.width,i.height,!0)}Qt(sn,kl,Yi);const _l={};_l.mousedown=Wi,_l.mousemove=zi,_l.mouseup=Gi,_l.dblclick=Ii,_l.setSeries=(t,l,r,f)=>{let c=xe.match[2];r=c(i,l,r),r!=-1&&vt(r,f,!0,!1)},He&&(Ne(Ji,D,Wi),Ne(Gn,D,zi),Ne(Zi,D,t=>{Bt(t),Fl(!1)}),Ne(Qi,D,js),Ne(Xi,D,Ii),ti.add(i),i.syncRect=Fl);const en=i.hooks=e.hooks||{};function Ve(t,l,r){Dn?Vl.push([t,l,r]):t in en&&en[t].forEach(f=>{f.call(null,i,l,r)})}(e.plugins||[]).forEach(t=>{for(let l in t.hooks)en[l]=(en[l]||[]).concat(t.hooks[l])});const Bi=(t,l,r)=>r,xe=Te({key:null,setSeries:!1,filters:{pub:co,sub:co},scales:[P,k[1]?k[1].scale:null],match:[ao,ao,Bi],values:[null,null]},V.sync);xe.match.length==2&&xe.match.push(Bi),V.sync=xe;const Ui=xe.key,Hn=fs(Ui);function Ol(t,l,r,f,c,p,S){xe.filters.pub(t,l,r,f,c,p,S)&&Hn.pub(t,l,r,f,c,p,S)}Hn.sub(i);function qs(t,l,r,f,c,p,S){xe.filters.sub(t,l,r,f,c,p,S)&&_l[t](null,l,r,f,c,p,S)}i.pub=qs;function $s(){Hn.unsub(i),ti.delete(i),Nt.clear(),Jn(sn,kl,Yi),g.remove(),le==null||le.remove(),Ve("destroy")}i.destroy=$s;function Nn(){Ve("init",e,n),vi(n||e.data,!1),F[P]?Ln(P,F[P]):_n(),jl=me.show&&(me.width>0||me.height>0),Yt=it=!0,Sn(e.width,e.height)}return k.forEach(_i),H.forEach(As),o?o instanceof HTMLElement?(o.appendChild(g),Nn()):o(i,Nn):Nn(),i}Be.assign=Te;Be.fmtNum=fi;Be.rangeNum=rn;Be.rangeLog=cn;Be.rangeAsinh=si;Be.orient=el;Be.pxRatio=se;Be.join=Rr;Be.fmtDate=ci,Be.tzDate=Ur;Be.sync=fs;{Be.addGap=Ef,Be.clipGaps=hn;let e=Be.paths={points:ms};e.linear=ds,e.stepped=Lf,e.bars=Cf,e.spline=Rf}export{Be as u};
