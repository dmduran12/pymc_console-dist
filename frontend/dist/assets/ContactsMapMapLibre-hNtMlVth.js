import{c as e,j as t,G as n,af as r,ag as o,f as a,ah as s}from"./index-CN8mYqfE.js";import{b as i,g as l,c as u,r as c}from"./recharts-bmHCCfxU.js";import{a as d,P as p,S as h,L as f,u as m,M as g,N as x,b}from"./maplibre-gl-CJNICf8o.js";import{G as y,N as v,T as k,M as w,C as S}from"./Contacts-BJOuZJKm.js";import{a as C,C as j}from"./HashBadge-B0QQ_JhJ.js";import{L as N}from"./loader-circle-ClM2h6Dw.js";import{I as E}from"./info-DhkJiMnn.js";import{H as F}from"./house-CHmL4hT5.js";import{R as M}from"./refresh-cw-DWrX9cqv.js";import{N as R}from"./trending-up-B9WkXz6g.js";import"./maplibre-gl-CFO9X1Ek.js";import"./SignalIndicator-CBSPHvYd.js";import"./triangle-alert-Bpf_z3ov.js";import"./zap-Bm9clQnw.js";import"./activity-CDMAjI-g.js";import"./PageLayout-BKczN-cq.js";import"./users-B19-WawN.js";const T=e("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),P=e("chevrons-left-right-ellipsis",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"m17 7 5 5-5 5",key:"1xlxn0"}],["path",{d:"m7 7-5 5 5 5",key:"19njba"}],["path",{d:"M8 12h.01",key:"czm47f"}]]),H=e("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),_=e("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),D=e("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),$=e("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),I=e("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);function L(e,t){const n=Math.max(5,Math.min(e,300)),r=Math.log(5),o=Math.log(300);return 1+(Math.log(n)-r)/(o-r)*5}const z="#4338CA";function A({label:e,icon:n,status:r,detail:o}){return t.jsxs("div",{className:u("flex items-center gap-3 py-3 px-4 rounded-xl transition-all duration-300","active"===r&&"bg-[#4338CA]/10","complete"===r&&"bg-accent-success/10","pending"===r&&"opacity-40"),children:[t.jsx("div",{className:u("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-all duration-300","active"===r&&"bg-[#4338CA]/20","complete"===r&&"bg-accent-success/20","pending"===r&&"bg-white/5"),children:"complete"===r?t.jsx(C,{className:"w-4 h-4 text-accent-success"}):"active"===r?t.jsx(N,{className:"w-4 h-4 animate-spin",style:{color:z}}):t.jsx("span",{className:"text-text-muted",children:n})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:u("text-sm font-medium transition-colors","active"===r&&"text-[#4338CA]","complete"===r&&"text-accent-success","pending"===r&&"text-text-muted"),children:e}),o&&"pending"!==r&&t.jsx("div",{className:"text-xs text-text-muted mt-0.5 truncate",children:o})]})]})}const B=i.memo(function({isOpen:e,currentStep:n,packetCount:r,onClose:o}){if(i.useEffect(()=>{if(!e)return;const t=e=>{"Escape"===e.key&&o&&o()};window.addEventListener("keydown",t);const n=document.body.style.overflow,r=document.body.style.position,a=document.body.style.width,s=document.body.style.top,i=window.scrollY;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${i}px`,()=>{window.removeEventListener("keydown",t),document.body.style.overflow=n,document.body.style.position=r,document.body.style.width=a,document.body.style.top=s,window.scrollTo(0,i)}},[e,o]),!e)return null;const a="complete"===n,s=e=>{const t=["fetching","analyzing","building","complete"],r=t.indexOf(n),o=t.indexOf(e);return o<r?"complete":o===r?"active":"pending"};return l.createPortal(t.jsxs("div",{className:"fixed inset-0 z-[10010] flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"deep-analysis-modal-title",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),t.jsx("div",{className:"relative glass-card w-full max-w-sm mx-4 p-6 animate-in fade-in zoom-in-95 duration-200",style:{background:"rgba(20, 20, 22, 0.95)",border:"1px solid rgba(140, 160, 200, 0.15)"},children:a?t.jsxs("div",{className:"flex flex-col items-center py-6",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4 animate-in zoom-in-50 duration-300",style:{backgroundColor:"rgba(57, 217, 138, 0.2)"},children:t.jsx(C,{className:"w-8 h-8 text-accent-success"})}),t.jsx("h3",{className:"text-lg font-semibold text-accent-success",children:"Ready!"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"rgba(67, 56, 202, 0.15)"},children:t.jsx(y,{className:"w-5 h-5",style:{color:z}})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base font-semibold text-text-primary",children:"Deep Analysis"}),t.jsx("p",{className:"text-xs text-text-muted",children:"Building mesh topology"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(A,{label:"Fetching Packets",icon:t.jsx(_,{className:"w-4 h-4"}),status:s("fetching"),detail:r>0?`${r.toLocaleString()} packets`:"Loading database..."}),t.jsx(A,{label:"Analyzing Database",icon:t.jsx(H,{className:"w-4 h-4"}),status:s("analyzing"),detail:"Processing packet paths"}),t.jsx(A,{label:"Building Topology",icon:t.jsx(y,{className:"w-4 h-4"}),status:s("building"),detail:"Computing mesh edges"})]}),t.jsx("p",{className:"text-xs text-text-muted text-center mt-5",children:"This may take a few seconds..."})]})})]}),document.body)}),O="#4338CA",V="#FBBF24",q="#6366F1",W="#F97316",U="#F59E0B",Z="#FBBF24",K="#4B5563",X="#6B7280",Y="#374151",G="#5EEAD4",J="#6366F1",Q="#9CA3AF",ee="#6B7280",te="#FBBF24",ne=2e3;function re({text:e}){return t.jsxs("span",{className:"group relative cursor-help",children:[t.jsx(E,{className:"w-3 h-3 text-text-muted"}),t.jsx("div",{className:"absolute bottom-full left-0 mb-1 hidden group-hover:block w-44 p-2 text-[10px] leading-tight rounded-lg z-10",style:{background:"rgba(20, 20, 22, 0.98)",border:"1px solid rgba(140, 160, 200, 0.3)"},children:e})]})}function oe(e){const t=new Date(1e3*e);return`${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getDate().toString().padStart(2,"0")}`}function ae({hash:e,hashPrefix:r,name:o,isHub:a,isZeroHop:s,isMobile:l,isRoomServer:u,isStale:c,lastSeenTimestamp:d,centrality:p,affinity:h,meanSnr:f,meanRssi:m,neighbor:g,onRemove:x,txDelayRec:b}){const[y,w]=i.useState(!1),S=s?"Direct":(null==h?void 0:h.typicalHopPosition)?`${h.typicalHopPosition}-hop`:null,N=[{label:"Packets",value:(null==h?void 0:h.frequency)||0},{label:"Adverts",value:g.advert_count||0}];s&&void 0!==f?N.push({label:"SNR",value:`${f.toFixed(1)} dB`}):a&&p>0&&N.push({label:"Bridge",value:`${(100*p).toFixed(0)}%`,highlight:!0}),s&&void 0!==m&&N.push({label:"RSSI",value:`${Math.round(m)} dBm`});const E=b&&!b.insufficientData;return t.jsxs("div",{className:"w-[220px] pr-3",children:[t.jsx("div",{className:"text-[14px] font-semibold text-text-primary leading-snug truncate mb-0.5",children:o}),t.jsxs("div",{className:"flex items-center gap-1 flex-wrap mb-1.5",children:[t.jsx("code",{className:"font-mono text-[10px] text-text-muted/70 bg-white/5 px-1 py-px rounded",children:r}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e),w(!0),setTimeout(()=>w(!1),1500)},className:"p-0.5 hover:bg-white/10 rounded transition-colors",title:"Copy full hash",children:y?t.jsx(C,{className:"w-2.5 h-2.5 text-accent-success"}):t.jsx(j,{className:"w-2.5 h-2.5 text-text-muted/50"})}),a&&t.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded",style:{backgroundColor:"#FBBF24",color:"#000"},children:"Hub"}),S&&t.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded",style:{backgroundColor:s?Z:"rgba(255,255,255,0.08)",color:s?"#000":"rgba(255,255,255,0.5)"},children:S}),l&&t.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded bg-orange-500/25 text-orange-300",children:"Mobile"}),g.is_repeater&&t.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded bg-cyan-500/20 text-cyan-400",children:"Rptr"}),u&&t.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded bg-amber-500/25 text-amber-400",children:"Room"}),c&&d&&t.jsxs("span",{className:"px-1 py-px text-[8px] font-medium rounded bg-gray-500/30 text-gray-300",title:"Neighbor not heard in 7+ days",children:["Idle ",oe(d)]})]}),t.jsxs("div",{className:"text-[10px] text-text-muted/60 mb-2 leading-tight",children:[t.jsx("span",{children:n(g.last_seen)}),(null==h?void 0:h.distanceMeters)&&t.jsxs("span",{className:"font-medium text-text-muted/80",children:[" · ",(F=h.distanceMeters,null===F?"—":F<1e3?`${Math.round(F)}m`:`${(F/1e3).toFixed(1)}km`)]}),g.latitude&&g.longitude&&0!==g.latitude&&0!==g.longitude&&t.jsxs("span",{className:"font-mono text-[9px]",children:[" · ",g.latitude.toFixed(4),", ",g.longitude.toFixed(4)]})]}),t.jsx("div",{className:"mb-2",children:t.jsx(v,{nodeHash:e,width:"100%",height:28,showArea:!0,showTooltip:!0})}),t.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5 text-[11px] mb-2",children:N.map((e,n)=>t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-text-muted/50",children:e.label}),t.jsx("span",{className:"font-semibold tabular-nums "+("highlight"in e&&e.highlight?"text-amber-400":""),children:e.value})]},n))}),(E||x)&&t.jsxs("div",{className:"pt-1.5 border-t border-white/5",children:[E&&t.jsxs("div",{className:"flex flex-col gap-1.5 text-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-text-muted/50",children:"TX Delay"}),t.jsxs("span",{className:"font-semibold tabular-nums text-amber-400",children:["×",(b.floodFactor??b.txDelayFactor).toFixed(1)]}),t.jsx("span",{className:"text-text-muted/30",children:"flood"}),t.jsxs("span",{className:"font-semibold tabular-nums text-amber-400",children:["×",(b.directFactor??b.directTxDelayFactor).toFixed(1)]}),t.jsx("span",{className:"text-text-muted/30",children:"direct"})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-text-muted/50",children:"Data"}),"high"===b.dataConfidence&&t.jsx("span",{className:"px-1.5 py-px text-[8px] font-bold uppercase rounded bg-green-500/20 text-green-400",title:"High confidence: 1000+ packets observed",children:"High"}),"medium"===b.dataConfidence&&t.jsx("span",{className:"px-1.5 py-px text-[8px] font-bold uppercase rounded bg-amber-500/20 text-amber-400",title:"Medium confidence: 500-999 packets observed",children:"Medium"}),"low"===b.dataConfidence&&t.jsx("span",{className:"px-1.5 py-px text-[8px] font-bold uppercase rounded bg-red-500/20 text-red-400",title:"Low confidence: 100-499 packets observed",children:"Low"})]})]}),x&&t.jsx("div",{className:"flex justify-end "+(E?"mt-1.5":""),children:t.jsx("button",{onClick:x,className:"flex items-center gap-0.5 p-1 text-[10px] text-text-muted/30 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Remove from contacts",children:t.jsx(k,{className:"w-3 h-3"})})})]})]});var F}function se({showTopology:e,validatedPolylineCount:n,filteredNeighborCount:r,hasLocalNode:o,meshTopology:a,zeroHopNeighbors:s,neighborsWithLocation:i}){return t.jsxs("div",{className:"absolute bottom-4 left-4 z-[600] text-xs",style:{background:"rgba(20, 20, 22, 0.95)",borderRadius:"0.75rem",padding:"0.625rem",border:"1px solid rgba(140, 160, 200, 0.2)",maxWidth:"150px"},children:[t.jsxs("div",{className:"text-text-secondary font-medium mb-1.5 flex items-center gap-1",children:["Nodes",t.jsx(re,{text:"Node type shown by shape/color. Yellow outer ring = direct RF neighbor."})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{background:"transparent",border:`3px solid ${O}`,boxSizing:"border-box"}}),t.jsx("span",{className:"text-text-muted",children:"Node"}),t.jsx(re,{text:"Standard mesh node. Can be a repeater, client, or companion device."})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:q}}),t.jsx("span",{className:"text-text-muted",children:"Hub"}),t.jsx(re,{text:"High-connectivity node with 4+ direct neighbors. Hubs are central to mesh traffic flow and use higher TX delays to reduce collision impact."})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(F,{className:"w-3 h-3 flex-shrink-0",style:{color:V},strokeWidth:2.5}),t.jsx("span",{className:"text-text-muted",children:"Local"}),t.jsx(re,{text:"Your repeater. This is the node running pyMC_Repeater that you're connected to."})]}),(l=i,l.some(([,e])=>{var t;const n=null==(t=e.contact_type)?void 0:t.toLowerCase();return"room server"===n||"room_server"===n||"room"===n||"server"===n})&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(w,{className:"w-3 h-3 flex-shrink-0",style:{color:U},strokeWidth:2.5}),t.jsx("span",{className:"text-text-muted",children:"Room"}),t.jsx(re,{text:"Room Server identity. Hosts a chat room that clients can sync messages with."})]})),a.mobileNodes.length>0&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{background:"transparent",border:`3px solid ${W}`,boxSizing:"border-box"}}),t.jsx("span",{className:"text-text-muted",children:"Mobile"}),t.jsx(re,{text:"Volatile node that frequently appears/disappears from paths. Likely a portable or vehicle-mounted device."})]}),s.size>0&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("div",{className:"relative w-4 h-4 flex-shrink-0",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"transparent",border:`1px solid ${Z}`,boxSizing:"border-box",opacity:.8}}),t.jsx("div",{className:"absolute rounded-full",style:{top:"4px",left:"4px",width:"8px",height:"8px",background:"transparent",border:`2px solid ${O}`,boxSizing:"border-box"}})]}),t.jsx("span",{className:"text-text-muted",children:"Neighbor"}),t.jsx(re,{text:"Zero-hop direct RF contact. We receive their ADVERTs directly without any relay hops."})]})]}),s.size>0&&t.jsx("div",{className:"mt-1.5 pt-1.5 border-t border-white/10",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"flex-shrink-0",style:{width:"14px",height:"2px",backgroundImage:`repeating-linear-gradient(90deg, ${ee} 0, ${ee} 3px, transparent 3px, transparent 5px)`,borderRadius:"1px"}}),t.jsx("span",{className:"text-text-muted",children:"Neighbor"}),t.jsx(re,{text:"Dashed gray → yellow on hover. Direct RF contact with local."})]})}),e&&n>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-text-secondary font-medium mt-2 pt-2 border-t border-white/10 mb-1 flex items-center gap-1",children:["Topology",t.jsx(re,{text:"Links with 5+ validations. Thickness = relative strength."})]}),t.jsxs("div",{className:"flex flex-col gap-0.5 text-text-muted",children:[t.jsxs("div",{className:"flex justify-between tabular-nums",children:[t.jsx("span",{children:"Nodes"}),t.jsx("span",{className:"text-text-secondary",children:r+(o?1:0)})]}),t.jsxs("div",{className:"flex justify-between tabular-nums",children:[t.jsx("span",{children:"Links"}),t.jsx("span",{className:"text-text-secondary",children:n})]}),a.hubNodes.length>0&&t.jsxs("div",{className:"flex justify-between tabular-nums",children:[t.jsx("span",{children:"Hubs"}),t.jsx("span",{style:{color:q},children:a.hubNodes.length})]})]}),t.jsxs("div",{className:"flex flex-col gap-1 mt-1.5 pt-1.5 border-t border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"flex-shrink-0",style:{width:"14px",height:"3px",backgroundColor:K,borderRadius:"1px"}}),t.jsx("span",{className:"text-text-muted",children:"Link"}),t.jsx(re,{text:"Gray at rest. Hover to reveal type (teal=direct, indigo=loop)."})]}),a.loops.length>0&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-0.5",style:{width:"14px"},children:[t.jsx("div",{style:{height:"2px",backgroundColor:K,borderRadius:"1px"}}),t.jsx("div",{style:{height:"2px",backgroundColor:K,borderRadius:"1px"}})]}),t.jsx("span",{className:"text-text-muted",children:"Redundant"})]})]}),a.loops.length>0&&t.jsx("div",{className:"mt-1.5 pt-1.5 border-t border-white/10",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(M,{className:"w-3 h-3 flex-shrink-0",style:{color:J}}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{style:{color:J},className:"font-medium",children:[a.loops.length," ",1===a.loops.length?"Loop":"Loops"]}),t.jsx("span",{className:"text-text-muted text-[10px] leading-tight",children:"Redundant paths"})]})]})})]})]});var l}const ie={background:"rgba(20, 20, 22, 0.95)",borderRadius:"0.75rem",border:"1px solid rgba(140, 160, 200, 0.2)"},le=(e,t=.4)=>({background:e,borderRadius:"0.75rem",border:`1px solid ${e.replace(/[\d.]+\)$/,`${t})`)}`});function ue({isDeepLoading:e,showDeepAnalysisModal:n,onDeepAnalysis:r,showTopology:o,onToggleTopology:a,hasValidatedPolylines:s,soloHubs:i,onToggleSoloHubs:l,hasHubNodes:u,soloDirect:c,onToggleSoloDirect:d,hasZeroHopNeighbors:p,isFullscreen:h,onToggleFullscreen:f}){return t.jsxs("div",{className:"absolute top-4 right-4 z-[600] flex gap-2",children:[t.jsxs("button",{onClick:r,disabled:e||n,className:"px-3 py-2 flex items-center gap-2 transition-colors hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed",style:ie,title:"Deep Analysis - Load full packet history and rebuild topology",children:[t.jsx("span",{className:"text-xs font-medium text-text-primary",children:"Deep Analysis"}),t.jsx(T,{className:"w-4 h-4 text-accent-primary"})]}),s&&t.jsx("button",{onClick:a,className:"p-2 transition-colors hover:bg-white/10",style:o?le("rgba(74, 222, 128, 0.2)"):ie,title:o?"Hide topology lines":"Show topology lines",children:o?t.jsx(y,{className:"w-4 h-4 text-green-400"}):t.jsx(D,{className:"w-4 h-4 text-text-secondary"})}),u&&t.jsx("button",{onClick:l,className:"p-2 transition-colors hover:bg-white/10",style:i?{...ie,background:"rgba(251, 191, 36, 0.25)",border:"1px solid rgba(251, 191, 36, 0.5)"}:ie,title:i?"Show all nodes":"Solo hubs & connections",children:t.jsx(R,{className:"w-4 h-4 "+(i?"text-amber-400":"text-text-secondary")})}),p&&t.jsx("button",{onClick:d,className:"p-2 transition-colors hover:bg-white/10",style:c?{...ie,background:"rgba(67, 56, 202, 0.35)",border:"1px solid rgba(67, 56, 202, 0.6)"}:ie,title:c?"Show all nodes":"Solo direct (0-hop) nodes",children:t.jsx(P,{className:"w-4 h-4 "+(c?"text-indigo-400":"text-text-secondary")})}),t.jsx("button",{onClick:f,className:"p-2 transition-colors hover:bg-white/10",style:ie,title:h?"Exit fullscreen":"Fullscreen",children:h?t.jsx(I,{className:"w-4 h-4 text-text-secondary"}):t.jsx($,{className:"w-4 h-4 text-text-secondary"})})]})}function ce(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function de(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}var pe,he={},fe={};var me,ge,xe={};var be,ye,ve=(ge||(ge=1,be=function(){if(pe)return fe;pe=1;var e=c();function t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o={},a={};function s(e){return!!n.call(a,e)||!n.call(o,e)&&(r.test(e)?a[e]=!0:(o[e]=!0,!1))}function i(e,t,n,r,o,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var l={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){l[e]=new i(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];l[t]=new i(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){l[e]=new i(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){l[e]=new i(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){l[e]=new i(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){l[e]=new i(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){l[e]=new i(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){l[e]=new i(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){l[e]=new i(e,5,!1,e.toLowerCase(),null,!1,!1)});var u=/[\-:]([a-z])/g;function d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u,d);l[t]=new i(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u,d);l[t]=new i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u,d);l[t]=new i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){l[e]=new i(e,1,!1,e.toLowerCase(),null,!1,!1)}),l.xlinkHref=new i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){l[e]=new i(e,1,!1,e.toLowerCase(),null,!0,!0)});var p={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h=["Webkit","ms","Moz","O"];Object.keys(p).forEach(function(e){h.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),p[t]=p[e]})});var f=/["'&<>]/;function m(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=f.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var g=/([A-Z])/g,x=/^ms-/,b=Array.isArray;function y(e,t){return{insertionMode:e,selectedValue:t}}var v=new Map;function k(e,r,o){if("object"!=typeof o)throw Error(t(62));for(var a in r=!0,o)if(n.call(o,a)){var s=o[a];if(null!=s&&"boolean"!=typeof s&&""!==s){if(0===a.indexOf("--")){var i=m(a);s=m((""+s).trim())}else{i=a;var l=v.get(i);void 0!==l||(l=m(i.replace(g,"-$1").toLowerCase().replace(x,"-ms-")),v.set(i,l)),i=l,s="number"==typeof s?0===s||n.call(p,a)?""+s:s+"px":m((""+s).trim())}r?(r=!1,e.push(' style="',i,":",s)):e.push(";",i,":",s)}}r||e.push('"')}function w(e,t,n,r){switch(n){case"style":return void k(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=l.hasOwnProperty(n)?l[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',m(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',m(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',m(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',m(r),'"')}}else if(s(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',m(r),'"')}}function S(e,n,r){if(null!=n){if(null!=r)throw Error(t(60));if("object"!=typeof n||!("__html"in n))throw Error(t(61));null!=(n=n.__html)&&e.push(""+n)}}function C(e,t,r,o){e.push(E(r));var a,s=r=null;for(a in t)if(n.call(t,a)){var i=t[a];if(null!=i)switch(a){case"children":r=i;break;case"dangerouslySetInnerHTML":s=i;break;default:w(e,o,a,i)}}return e.push(">"),S(e,s,r),"string"==typeof r?(e.push(m(r)),null):r}var j=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,N=new Map;function E(e){var n=N.get(e);if(void 0===n){if(!j.test(e))throw Error(t(65,e));n="<"+e,N.set(e,n)}return n}function F(e,n,r){if(e.push('\x3c!--$?--\x3e<template id="'),null===r)throw Error(t(395));return e.push(r),e.push('"></template>')}var M=/[<\u2028\u2029]/g;function R(e){return JSON.stringify(e).replace(M,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function T(e,t,n,r){return n.generateStaticMarkup?(e.push(m(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(m(t)),e=!0),e)}var P=Object.assign,H=Symbol.for("react.element"),_=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),z=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),W=Symbol.for("react.scope"),U=Symbol.for("react.debug_trace_mode"),Z=Symbol.for("react.legacy_hidden"),K=Symbol.for("react.default_value"),X=Symbol.iterator;function Y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case D:return"Fragment";case _:return"Portal";case I:return"Profiler";case $:return"StrictMode";case B:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case z:return(e.displayName||"Context")+".Consumer";case L:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case V:return null!==(t=e.displayName||null)?t:Y(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}var G={};function J(e,t){if(!(e=e.contextTypes))return G;var n,r={};for(n in e)r[n]=t[n];return r}var Q=null;function ee(e,n){if(e!==n){e.context._currentValue2=e.parentValue,e=e.parent;var r=n.parent;if(null===e){if(null!==r)throw Error(t(401))}else{if(null===r)throw Error(t(401));ee(e,r)}n.context._currentValue2=n.value}}function te(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&te(e)}function ne(e){var t=e.parent;null!==t&&ne(t),e.context._currentValue2=e.value}function re(e,n){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(t(402));e.depth===n.depth?ee(e,n):re(e,n)}function oe(e,n){var r=n.parent;if(null===r)throw Error(t(402));e.depth===r.depth?ee(e,r):oe(e,r),n.context._currentValue2=n.value}function ae(e){var t=Q;t!==e&&(null===t?ne(e):null===e?te(t):t.depth===e.depth?ee(t,e):t.depth>e.depth?re(t,e):oe(t,e),Q=e)}var se={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ie(e,t,n,r){var o=void 0!==e.state?e.state:null;e.updater=se,e.props=n,e.state=o;var a={queue:[],replace:!1};e._reactInternals=a;var s=t.contextType;if(e.context="object"==typeof s&&null!==s?s._currentValue2:r,"function"==typeof(s=t.getDerivedStateFromProps)&&(o=null==(s=s(n,o))?o:P({},o,s),e.state=o),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&se.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,s=a.replace,a.queue=null,a.replace=!1,s&&1===t.length)e.state=t[0];else{for(a=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var i=t[s];null!=(i="function"==typeof i?i.call(e,a,n,r):i)&&(o?(o=!1,a=P({},a,i)):P(a,i))}e.state=a}else a.queue=null}var le={id:1,overflow:""};function ue(e,t,n){var r=e.id;e=e.overflow;var o=32-ce(r)-1;r&=~(1<<o),n+=1;var a=32-ce(t)+o;if(30<a){var s=o-o%5;return a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-ce(t)+o|n<<o|r,overflow:a+e}}return{id:1<<a|n<<o|r,overflow:e}}var ce=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(de(e)/he|0)|0},de=Math.log,he=Math.LN2,me="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ge=null,xe=null,be=null,ye=null,ve=!1,ke=!1,we=0,Se=null,Ce=0;function je(){if(null===ge)throw Error(t(321));return ge}function Ne(){if(0<Ce)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Ee(){return null===ye?null===be?(ve=!1,be=ye=Ne()):(ve=!0,ye=be):null===ye.next?(ve=!1,ye=ye.next=Ne()):(ve=!0,ye=ye.next),ye}function Fe(){xe=ge=null,ke=!1,be=null,Ce=0,ye=Se=null}function Me(e,t){return"function"==typeof t?t(e):t}function Re(e,t,n){if(ge=je(),ye=Ee(),ve){var r=ye.queue;if(t=r.dispatch,null!==Se&&void 0!==(n=Se.get(r))){Se.delete(r),r=ye.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return ye.memoizedState=r,[r,t]}return[ye.memoizedState,t]}return e=e===Me?"function"==typeof t?t():t:void 0!==n?n(t):t,ye.memoizedState=e,e=(e=ye.queue={last:null,dispatch:null}).dispatch=Pe.bind(null,ge,e),[ye.memoizedState,e]}function Te(e,t){if(ge=je(),t=void 0===t?null:t,null!==(ye=Ee())){var n=ye.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!me(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),ye.memoizedState=[e,t],e}function Pe(e,n,r){if(25<=Ce)throw Error(t(301));if(e===ge)if(ke=!0,e={action:r,next:null},null===Se&&(Se=new Map),void 0===(r=Se.get(n)))Se.set(n,e);else{for(n=r;null!==n.next;)n=n.next;n.next=e}}function He(){throw Error(t(394))}function _e(){}var De={readContext:function(e){return e._currentValue2},useContext:function(e){return je(),e._currentValue2},useMemo:Te,useReducer:Re,useRef:function(e){ge=je();var t=(ye=Ee()).memoizedState;return null===t?(e={current:e},ye.memoizedState=e):t},useState:function(e){return Re(Me,e)},useInsertionEffect:_e,useLayoutEffect:function(){},useCallback:function(e,t){return Te(function(){return e},t)},useImperativeHandle:_e,useEffect:_e,useDebugValue:_e,useDeferredValue:function(e){return je(),e},useTransition:function(){return je(),[!1,He]},useId:function(){var e=xe.treeContext,n=e.overflow;e=((e=e.id)&~(1<<32-ce(e)-1)).toString(32)+n;var r=$e;if(null===r)throw Error(t(404));return n=we++,e=":"+r.idPrefix+"R"+e,0<n&&(e+="H"+n.toString(32)),e+":"},useMutableSource:function(e,t){return je(),t(e._source)},useSyncExternalStore:function(e,n,r){if(void 0===r)throw Error(t(407));return r()}},$e=null,Ie=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Le(e){return null}function ze(){}function Ae(e,t,n,r,o,a,s,i){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&tt(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:a,context:s,treeContext:i};return o.add(l),l}function Be(e,t,n,r,o,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:a}}function Oe(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ve(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function qe(e,t,n,r,o){for(ge={},xe=t,we=0,e=n(r,o);ke;)ke=!1,we=0,Ce+=1,ye=null,e=n(r,o);return Fe(),e}function We(e,n,r,o){var a=r.render(),s=o.childContextTypes;if(null!=s){var i=n.legacyContext;if("function"!=typeof r.getChildContext)o=i;else{for(var l in r=r.getChildContext())if(!(l in s))throw Error(t(108,Y(o)||"Unknown",l));o=P({},i,r)}n.legacyContext=o,Ke(e,n,a),n.legacyContext=i}else Ke(e,n,a)}function Ue(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Ze(r,o,a,i,l){if("function"==typeof a)if(a.prototype&&a.prototype.isReactComponent){l=J(a,o.legacyContext);var u=a.contextType;ie(u=new a(i,"object"==typeof u&&null!==u?u._currentValue2:l),a,i,l),We(r,o,u,a)}else{l=qe(r,o,a,i,u=J(a,o.legacyContext));var c=0!==we;if("object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof)ie(l,a,i,u),We(r,o,l,a);else if(c){i=o.treeContext,o.treeContext=ue(i,1,0);try{Ke(r,o,l)}finally{o.treeContext=i}}else Ke(r,o,l)}else{if("string"!=typeof a){switch(a){case Z:case U:case $:case I:case D:case O:return void Ke(r,o,i.children);case W:throw Error(t(343));case B:e:{a=o.blockedBoundary,l=o.blockedSegment,u=i.fallback,i=i.children;var d={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:c=new Set,errorDigest:null},p=Be(0,l.chunks.length,d,l.formatContext,!1,!1);l.children.push(p),l.lastPushedText=!1;var h=Be(0,0,null,l.formatContext,!1,!1);h.parentFlushed=!0,o.blockedBoundary=d,o.blockedSegment=h;try{if(Ye(r,o,i),r.responseState.generateStaticMarkup||h.lastPushedText&&h.textEmbedded&&h.chunks.push("\x3c!-- --\x3e"),h.status=1,Qe(d,h),0===d.pendingTasks)break e}catch(f){h.status=4,d.forceClientRender=!0,d.errorDigest=Oe(r,f)}finally{o.blockedBoundary=a,o.blockedSegment=l}o=Ae(r,u,a,p,c,o.legacyContext,o.context,o.treeContext),r.pingedTasks.push(o)}return}if("object"==typeof a&&null!==a)switch(a.$$typeof){case A:if(i=qe(r,o,a.render,i,l),0!==we){a=o.treeContext,o.treeContext=ue(a,1,0);try{Ke(r,o,i)}finally{o.treeContext=a}}else Ke(r,o,i);return;case V:return void Ze(r,o,a=a.type,i=Ue(a,i),l);case L:if(l=i.children,a=a._context,i=i.value,u=a._currentValue2,a._currentValue2=i,Q=i={parent:c=Q,depth:null===c?0:c.depth+1,context:a,parentValue:u,value:i},o.context=i,Ke(r,o,l),null===(r=Q))throw Error(t(403));return i=r.parentValue,r.context._currentValue2=i===K?r.context._defaultValue:i,r=Q=r.parent,void(o.context=r);case z:return void Ke(r,o,i=(i=i.children)(a._currentValue2));case q:return void Ze(r,o,a=(l=a._init)(a._payload),i=Ue(a,i),void 0)}throw Error(t(130,null==a?a:typeof a,""))}switch(u=function(r,o,a,i,l){switch(o){case"select":r.push(E("select"));var u=null,c=null;for(f in a)if(n.call(a,f)){var d=a[f];if(null!=d)switch(f){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"defaultValue":case"value":break;default:w(r,i,f,d)}}return r.push(">"),S(r,c,u),u;case"option":c=l.selectedValue,r.push(E("option"));var p=d=null,h=null,f=null;for(u in a)if(n.call(a,u)){var g=a[u];if(null!=g)switch(u){case"children":d=g;break;case"selected":h=g;break;case"dangerouslySetInnerHTML":f=g;break;case"value":p=g;default:w(r,i,u,g)}}if(null!=c)if(a=null!==p?""+p:function(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}(d),b(c)){for(i=0;i<c.length;i++)if(""+c[i]===a){r.push(' selected=""');break}}else""+c===a&&r.push(' selected=""');else h&&r.push(' selected=""');return r.push(">"),S(r,f,d),d;case"textarea":for(d in r.push(E("textarea")),f=c=u=null,a)if(n.call(a,d)&&null!=(p=a[d]))switch(d){case"children":f=p;break;case"value":u=p;break;case"defaultValue":c=p;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:w(r,i,d,p)}if(null===u&&null!==c&&(u=c),r.push(">"),null!=f){if(null!=u)throw Error(t(92));if(b(f)&&1<f.length)throw Error(t(93));u=""+f}return"string"==typeof u&&"\n"===u[0]&&r.push("\n"),null!==u&&r.push(m(""+u)),null;case"input":for(c in r.push(E("input")),p=f=d=u=null,a)if(n.call(a,c)&&null!=(h=a[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":p=h;break;case"defaultValue":d=h;break;case"checked":f=h;break;case"value":u=h;break;default:w(r,i,c,h)}return null!==f?w(r,i,"checked",f):null!==p&&w(r,i,"checked",p),null!==u?w(r,i,"value",u):null!==d&&w(r,i,"value",d),r.push("/>"),null;case"menuitem":for(var x in r.push(E("menuitem")),a)if(n.call(a,x)&&null!=(u=a[x]))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:w(r,i,x,u)}return r.push(">"),null;case"title":for(g in r.push(E("title")),u=null,a)if(n.call(a,g)&&null!=(c=a[g]))switch(g){case"children":u=c;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:w(r,i,g,c)}return r.push(">"),u;case"listing":case"pre":for(p in r.push(E(o)),c=u=null,a)if(n.call(a,p)&&null!=(d=a[p]))switch(p){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;default:w(r,i,p,d)}if(r.push(">"),null!=c){if(null!=u)throw Error(t(60));if("object"!=typeof c||!("__html"in c))throw Error(t(61));null!=(a=c.__html)&&("string"==typeof a&&0<a.length&&"\n"===a[0]?r.push("\n",a):r.push(""+a))}return"string"==typeof u&&"\n"===u[0]&&r.push("\n"),u;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in r.push(E(o)),a)if(n.call(a,y)&&null!=(u=a[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,o));default:w(r,i,y,u)}return r.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return C(r,a,o,i);case"html":return 0===l.insertionMode&&r.push("<!DOCTYPE html>"),C(r,a,o,i);default:if(-1===o.indexOf("-")&&"string"!=typeof a.is)return C(r,a,o,i);for(h in r.push(E(o)),c=u=null,a)if(n.call(a,h)&&null!=(d=a[h]))switch(h){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"style":k(r,i,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:s(h)&&"function"!=typeof d&&"symbol"!=typeof d&&r.push(" ",h,'="',m(d),'"')}return r.push(">"),S(r,c,u),u}}((l=o.blockedSegment).chunks,a,i,r.responseState,l.formatContext),l.lastPushedText=!1,c=l.formatContext,l.formatContext=function(e,t,n){switch(t){case"select":return y(1,null!=n.value?n.value:n.defaultValue);case"svg":return y(2,null);case"math":return y(3,null);case"foreignObject":return y(1,null);case"table":return y(4,null);case"thead":case"tbody":case"tfoot":return y(5,null);case"colgroup":return y(7,null);case"tr":return y(6,null)}return 4<=e.insertionMode||0===e.insertionMode?y(1,null):e}(c,a,i),Ye(r,o,u),l.formatContext=c,a){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:l.chunks.push("</",a,">")}l.lastPushedText=!1}}function Ke(e,n,r){if(n.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case H:return void Ze(e,n,r.type,r.props,r.ref);case _:throw Error(t(257));case q:var o=r._init;return void Ke(e,n,r=o(r._payload))}if(b(r))return void Xe(e,n,r);if((o=null===r||"object"!=typeof r?null:"function"==typeof(o=X&&r[X]||r["@@iterator"])?o:null)&&(o=o.call(r))){if(!(r=o.next()).done){var a=[];do{a.push(r.value),r=o.next()}while(!r.done);Xe(e,n,a)}return}throw e=Object.prototype.toString.call(r),Error(t(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(o=n.blockedSegment).lastPushedText=T(n.blockedSegment.chunks,r,e.responseState,o.lastPushedText):"number"==typeof r&&((o=n.blockedSegment).lastPushedText=T(n.blockedSegment.chunks,""+r,e.responseState,o.lastPushedText))}function Xe(e,t,n){for(var r=n.length,o=0;o<r;o++){var a=t.treeContext;t.treeContext=ue(a,r,o);try{Ye(e,t,n[o])}finally{t.treeContext=a}}}function Ye(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,a=t.context;try{return Ke(e,t,n)}catch(l){if(Fe(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,ae(a),l;n=l;var s=t.blockedSegment,i=Be(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(i),s.lastPushedText=!1,e=Ae(e,t.node,t.blockedBoundary,i,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,ae(a)}}function Ge(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,et(this,t,e)}function Je(e,n,r){var o=e.blockedBoundary;e.blockedSegment.status=3,null===o?(n.allPendingTasks--,2!==n.status&&(n.status=2,null!==n.destination&&n.destination.push(null))):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=void 0===r?Error(t(432)):r,o.errorDigest=n.onError(e),o.parentFlushed&&n.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach(function(e){return Je(e,n,r)}),o.fallbackAbortableTasks.clear(),n.allPendingTasks--,0===n.allPendingTasks&&(o=n.onAllReady)())}function Qe(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Qe(e,n)}else e.completedSegments.push(t)}function et(e,n,r){if(null===n){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(t(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=ze,(n=e.onShellReady)())}else n.pendingTasks--,n.forceClientRender||(0===n.pendingTasks?(r.parentFlushed&&1===r.status&&Qe(n,r),n.parentFlushed&&e.completedBoundaries.push(n),n.fallbackAbortableTasks.forEach(Ge,e),n.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(Qe(n,r),1===n.completedSegments.length&&n.parentFlushed&&e.partialBoundaries.push(n)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function tt(e){if(2!==e.status){var t=Q,n=Ie.current;Ie.current=De;var r=$e;$e=e.responseState;try{var o,a=e.pingedTasks;for(o=0;o<a.length;o++){var s=a[o],i=e,l=s.blockedSegment;if(0===l.status){ae(s.context);try{Ke(i,s,s.node),i.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),s.abortSet.delete(s),l.status=1,et(i,s.blockedBoundary,l)}catch(h){if(Fe(),"object"==typeof h&&null!==h&&"function"==typeof h.then){var u=s.ping;h.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=h,p=Oe(i,d);null===c?Ve(i,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&i.clientRenderedBoundaries.push(c))),i.allPendingTasks--,0===i.allPendingTasks&&(0,i.onAllReady)()}}}}a.splice(0,o),null!==e.destination&&it(e,e.destination)}catch(h){Oe(e,h),Ve(e,h)}finally{$e=r,Ie.current=n,n===De&&ae(t)}}}function nt(e,n,r){switch(r.parentFlushed=!0,r.status){case 0:var o=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,n.push('<template id="'),n.push(e.placeholderPrefix),e=o.toString(16),n.push(e),n.push('"></template>');case 1:r.status=2;var a=!0;o=r.chunks;var s=0;r=r.children;for(var i=0;i<r.length;i++){for(a=r[i];s<a.index;s++)n.push(o[s]);a=rt(e,n,a)}for(;s<o.length-1;s++)n.push(o[s]);return s<o.length&&(a=n.push(o[s])),a;default:throw Error(t(390))}}function rt(e,n,r){var o=r.boundary;if(null===o)return nt(e,n,r);if(o.parentFlushed=!0,o.forceClientRender)return e.responseState.generateStaticMarkup||(o=o.errorDigest,n.push("\x3c!--$!--\x3e"),n.push("<template"),o&&(n.push(' data-dgst="'),o=m(o),n.push(o),n.push('"')),n.push("></template>")),nt(e,n,r),!!e.responseState.generateStaticMarkup||n.push("\x3c!--/$--\x3e");if(0<o.pendingTasks){o.rootSegmentID=e.nextSegmentId++,0<o.completedSegments.length&&e.partialBoundaries.push(o);var a=e.responseState,s=a.nextSuspenseID++;return a=a.boundaryPrefix+s.toString(16),o=o.id=a,F(n,e.responseState,o),nt(e,n,r),n.push("\x3c!--/$--\x3e")}if(o.byteSize>e.progressiveChunkSize)return o.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(o),F(n,e.responseState,o.id),nt(e,n,r),n.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||n.push("\x3c!--$--\x3e"),1!==(r=o.completedSegments).length)throw Error(t(391));return rt(e,n,r[0]),!!e.responseState.generateStaticMarkup||n.push("\x3c!--/$--\x3e")}function ot(e,n,r){return function(e,n,r,o){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(n.segmentPrefix),n=o.toString(16),e.push(n),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(n.segmentPrefix),n=o.toString(16),e.push(n),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(n.segmentPrefix),n=o.toString(16),e.push(n),e.push('">');case 4:return e.push('<table hidden id="'),e.push(n.segmentPrefix),n=o.toString(16),e.push(n),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(n.segmentPrefix),n=o.toString(16),e.push(n),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(n.segmentPrefix),n=o.toString(16),e.push(n),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(n.segmentPrefix),n=o.toString(16),e.push(n),e.push('">');default:throw Error(t(397))}}(n,e.responseState,r.formatContext,r.id),rt(e,n,r),function(e,n){switch(n.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(t(397))}}(n,r.formatContext)}function at(e,n,r){for(var o=r.completedSegments,a=0;a<o.length;a++)st(e,n,r,o[a]);if(o.length=0,e=e.responseState,o=r.id,r=r.rootSegmentID,n.push(e.startInlineScript),e.sentCompleteBoundaryFunction?n.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,n.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===o)throw Error(t(395));return r=r.toString(16),n.push(o),n.push('","'),n.push(e.segmentPrefix),n.push(r),n.push('")<\/script>')}function st(e,n,r,o){if(2===o.status)return!0;var a=o.id;if(-1===a){if(-1===(o.id=r.rootSegmentID))throw Error(t(392));return ot(e,n,o)}return ot(e,n,o),e=e.responseState,n.push(e.startInlineScript),e.sentCompleteSegmentFunction?n.push('$RS("'):(e.sentCompleteSegmentFunction=!0,n.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),n.push(e.segmentPrefix),a=a.toString(16),n.push(a),n.push('","'),n.push(e.placeholderPrefix),n.push(a),n.push('")<\/script>')}function it(e,n){try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){rt(e,n,r),e.completedRootSegment=null;var o=e.responseState.bootstrapChunks;for(r=0;r<o.length-1;r++)n.push(o[r]);r<o.length&&n.push(o[r])}var a,s=e.clientRenderedBoundaries;for(a=0;a<s.length;a++){var i=s[a];o=n;var l=e.responseState,u=i.id,c=i.errorDigest,d=i.errorMessage,p=i.errorComponentStack;if(o.push(l.startInlineScript),l.sentClientRenderFunction?o.push('$RX("'):(l.sentClientRenderFunction=!0,o.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(t(395));if(o.push(u),o.push('"'),c||d||p){o.push(",");var h=R(c||"");o.push(h)}if(d||p){o.push(",");var f=R(d||"");o.push(f)}if(p){o.push(",");var m=R(p);o.push(m)}if(!o.push(")<\/script>"))return e.destination=null,a++,void s.splice(0,a)}s.splice(0,a);var g=e.completedBoundaries;for(a=0;a<g.length;a++)if(!at(e,n,g[a]))return e.destination=null,a++,void g.splice(0,a);g.splice(0,a);var x=e.partialBoundaries;for(a=0;a<x.length;a++){var b=x[a];e:{s=e,i=n;var y=b.completedSegments;for(l=0;l<y.length;l++)if(!st(s,i,b,y[l])){l++,y.splice(0,l);var v=!1;break e}y.splice(0,l),v=!0}if(!v)return e.destination=null,a++,void x.splice(0,a)}x.splice(0,a);var k=e.completedBoundaries;for(a=0;a<k.length;a++)if(!at(e,n,k[a]))return e.destination=null,a++,void k.splice(0,a);k.splice(0,a)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&n.push(null)}}function lt(e,t){try{var n=e.abortableTasks;n.forEach(function(n){return Je(n,e,t)}),n.clear(),null!==e.destination&&it(e,e.destination)}catch(r){Oe(e,r),Ve(e,r)}}function ut(){}function ct(e,n,r,o){var a=!1,s=null,i="",l={push:function(e){return null!==e&&(i+=e),!0},destroy:function(e){a=!0,s=e}},u=!1;if(e=function(e,t,n,r,o,a,s){var i=[],l=new Set;return(n=Be(t={destination:null,responseState:t,progressiveChunkSize:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:l,pingedTasks:i,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?Le:o,onAllReady:ze,onShellReady:void 0===s?ze:s,onShellError:ze,onFatalError:ze},0,null,n,!1,!1)).parentFlushed=!0,e=Ae(t,e,null,n,l,G,null,le),i.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(r,n?n.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ut,0,function(){u=!0}),tt(e),lt(e,o),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{it(e,l)}catch(c){Oe(e,c),Ve(e,c)}}if(a)throw s;if(!u)throw Error(t(426));return i}return fe.renderToNodeStream=function(){throw Error(t(207))},fe.renderToStaticMarkup=function(e,t){return ct(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},fe.renderToStaticNodeStream=function(){throw Error(t(208))},fe.renderToString=function(e,t){return ct(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},fe.version="18.3.1",fe}(),ye=function(){if(me)return xe;me=1;var e=c();function t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=null,r=0;function o(e,t){if(0!==t.length)if(512<t.length)0<r&&(e.enqueue(new Uint8Array(n.buffer,0,r)),n=new Uint8Array(512),r=0),e.enqueue(t);else{var o=n.length-r;o<t.length&&(0===o?e.enqueue(n):(n.set(t.subarray(0,o),r),e.enqueue(n),t=t.subarray(o)),n=new Uint8Array(512),r=0),n.set(t,r),r+=t.length}}function a(e,t){return o(e,t),!0}function s(e){n&&0<r&&(e.enqueue(new Uint8Array(n.buffer,0,r)),n=null,r=0)}var i=new TextEncoder;function l(e){return i.encode(e)}function u(e){return i.encode(e)}function d(e,t){"function"==typeof e.error?e.error(t):e.close()}var p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(e){return!!p.call(m,e)||!p.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}function x(e,t,n,r,o,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];b[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);b[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);b[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);b[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w=["Webkit","ms","Moz","O"];Object.keys(k).forEach(function(e){w.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),k[t]=k[e]})});var S=/["'&<>]/;function C(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=S.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var j=/([A-Z])/g,N=/^ms-/,E=Array.isArray,F=u("<script>"),M=u("<\/script>"),R=u('<script src="'),T=u('<script type="module" src="'),P=u('" async=""><\/script>'),H=/(<\/|<)(s)(cript)/gi;function _(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function D(e,t){return{insertionMode:e,selectedValue:t}}var $=u("\x3c!-- --\x3e");function I(e,t,n,r){return""===t?r:(r&&e.push($),e.push(l(C(t))),!0)}var L=new Map,z=u(' style="'),A=u(":"),B=u(";");function O(e,n,r){if("object"!=typeof r)throw Error(t(62));for(var o in n=!0,r)if(p.call(r,o)){var a=r[o];if(null!=a&&"boolean"!=typeof a&&""!==a){if(0===o.indexOf("--")){var s=l(C(o));a=l(C((""+a).trim()))}else{s=o;var i=L.get(s);void 0!==i||(i=u(C(s.replace(j,"-$1").toLowerCase().replace(N,"-ms-"))),L.set(s,i)),s=i,a="number"==typeof a?0===a||p.call(k,o)?l(""+a):l(a+"px"):l(C((""+a).trim()))}n?(n=!1,e.push(z,s,A,a)):e.push(B,s,A,a)}}n||e.push(W)}var V=u(" "),q=u('="'),W=u('"'),U=u('=""');function Z(e,t,n,r){switch(n){case"style":return void O(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=b.hasOwnProperty(n)?b[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=l(t.attributeName),t.type){case 3:r&&e.push(V,n,U);break;case 4:!0===r?e.push(V,n,U):!1!==r&&e.push(V,n,q,l(C(r)),W);break;case 5:isNaN(r)||e.push(V,n,q,l(C(r)),W);break;case 6:!isNaN(r)&&1<=r&&e.push(V,n,q,l(C(r)),W);break;default:t.sanitizeURL&&(r=""+r),e.push(V,n,q,l(C(r)),W)}}else if(g(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(V,l(n),q,l(C(r)),W)}}var K=u(">"),X=u("/>");function Y(e,n,r){if(null!=n){if(null!=r)throw Error(t(60));if("object"!=typeof n||!("__html"in n))throw Error(t(61));null!=(n=n.__html)&&e.push(l(""+n))}}var G=u(' selected=""');function J(e,t,n,r){e.push(ne(n));var o,a=n=null;for(o in t)if(p.call(t,o)){var s=t[o];if(null!=s)switch(o){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Z(e,r,o,s)}}return e.push(K),Y(e,a,n),"string"==typeof n?(e.push(l(C(n))),null):n}var Q=u("\n"),ee=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,te=new Map;function ne(e){var n=te.get(e);if(void 0===n){if(!ee.test(e))throw Error(t(65,e));n=u("<"+e),te.set(e,n)}return n}var re=u("<!DOCTYPE html>"),oe=u("</"),ae=u(">"),se=u('<template id="'),ie=u('"></template>'),le=u("\x3c!--$--\x3e"),ue=u('\x3c!--$?--\x3e<template id="'),ce=u('"></template>'),de=u("\x3c!--$!--\x3e"),pe=u("\x3c!--/$--\x3e"),he=u("<template"),fe=u('"'),ge=u(' data-dgst="');u(' data-msg="'),u(' data-stck="');var be=u("></template>");function ye(e,n,r){if(o(e,ue),null===r)throw Error(t(395));return o(e,r),a(e,ce)}var ve=u('<div hidden id="'),ke=u('">'),we=u("</div>"),Se=u('<svg aria-hidden="true" style="display:none" id="'),Ce=u('">'),je=u("</svg>"),Ne=u('<math aria-hidden="true" style="display:none" id="'),Ee=u('">'),Fe=u("</math>"),Me=u('<table hidden id="'),Re=u('">'),Te=u("</table>"),Pe=u('<table hidden><tbody id="'),He=u('">'),_e=u("</tbody></table>"),De=u('<table hidden><tr id="'),$e=u('">'),Ie=u("</tr></table>"),Le=u('<table hidden><colgroup id="'),ze=u('">'),Ae=u("</colgroup></table>"),Be=u('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Oe=u('$RS("'),Ve=u('","'),qe=u('")<\/script>'),We=u('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ue=u('$RC("'),Ze=u('","'),Ke=u('")<\/script>'),Xe=u('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ye=u('$RX("'),Ge=u('"'),Je=u(")<\/script>"),Qe=u(","),et=/[<\u2028\u2029]/g;function tt(e){return JSON.stringify(e).replace(et,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var nt=Object.assign,rt=Symbol.for("react.element"),ot=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),ut=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),mt=Symbol.for("react.scope"),gt=Symbol.for("react.debug_trace_mode"),xt=Symbol.for("react.legacy_hidden"),bt=Symbol.for("react.default_value"),yt=Symbol.iterator;function vt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case at:return"Fragment";case ot:return"Portal";case it:return"Profiler";case st:return"StrictMode";case dt:return"Suspense";case pt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ut:return(e.displayName||"Context")+".Consumer";case lt:return(e._context.displayName||"Context")+".Provider";case ct:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ht:return null!==(t=e.displayName||null)?t:vt(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return vt(e(t))}catch(n){}}return null}var kt={};function wt(e,t){if(!(e=e.contextTypes))return kt;var n,r={};for(n in e)r[n]=t[n];return r}var St=null;function Ct(e,n){if(e!==n){e.context._currentValue=e.parentValue,e=e.parent;var r=n.parent;if(null===e){if(null!==r)throw Error(t(401))}else{if(null===r)throw Error(t(401));Ct(e,r)}n.context._currentValue=n.value}}function jt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&jt(e)}function Nt(e){var t=e.parent;null!==t&&Nt(t),e.context._currentValue=e.value}function Et(e,n){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(t(402));e.depth===n.depth?Ct(e,n):Et(e,n)}function Ft(e,n){var r=n.parent;if(null===r)throw Error(t(402));e.depth===r.depth?Ct(e,r):Ft(e,r),n.context._currentValue=n.value}function Mt(e){var t=St;t!==e&&(null===t?Nt(e):null===e?jt(t):t.depth===e.depth?Ct(t,e):t.depth>e.depth?Et(t,e):Ft(t,e),St=e)}var Rt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Tt(e,t,n,r){var o=void 0!==e.state?e.state:null;e.updater=Rt,e.props=n,e.state=o;var a={queue:[],replace:!1};e._reactInternals=a;var s=t.contextType;if(e.context="object"==typeof s&&null!==s?s._currentValue:r,"function"==typeof(s=t.getDerivedStateFromProps)&&(o=null==(s=s(n,o))?o:nt({},o,s),e.state=o),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Rt.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,s=a.replace,a.queue=null,a.replace=!1,s&&1===t.length)e.state=t[0];else{for(a=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var i=t[s];null!=(i="function"==typeof i?i.call(e,a,n,r):i)&&(o?(o=!1,a=nt({},a,i)):nt(a,i))}e.state=a}else a.queue=null}var Pt={id:1,overflow:""};function Ht(e,t,n){var r=e.id;e=e.overflow;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var a=32-_t(t)+o;if(30<a){var s=o-o%5;return a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-_t(t)+o|n<<o|r,overflow:a+e}}return{id:1<<a|n<<o|r,overflow:e}}var _t=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Dt(e)/$t|0)|0},Dt=Math.log,$t=Math.LN2,It="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Lt=null,zt=null,At=null,Bt=null,Ot=!1,Vt=!1,qt=0,Wt=null,Ut=0;function Zt(){if(null===Lt)throw Error(t(321));return Lt}function Kt(){if(0<Ut)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Xt(){return null===Bt?null===At?(Ot=!1,At=Bt=Kt()):(Ot=!0,Bt=At):null===Bt.next?(Ot=!1,Bt=Bt.next=Kt()):(Ot=!0,Bt=Bt.next),Bt}function Yt(){zt=Lt=null,Vt=!1,At=null,Ut=0,Bt=Wt=null}function Gt(e,t){return"function"==typeof t?t(e):t}function Jt(e,t,n){if(Lt=Zt(),Bt=Xt(),Ot){var r=Bt.queue;if(t=r.dispatch,null!==Wt&&void 0!==(n=Wt.get(r))){Wt.delete(r),r=Bt.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Bt.memoizedState=r,[r,t]}return[Bt.memoizedState,t]}return e=e===Gt?"function"==typeof t?t():t:void 0!==n?n(t):t,Bt.memoizedState=e,e=(e=Bt.queue={last:null,dispatch:null}).dispatch=en.bind(null,Lt,e),[Bt.memoizedState,e]}function Qt(e,t){if(Lt=Zt(),t=void 0===t?null:t,null!==(Bt=Xt())){var n=Bt.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!It(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Bt.memoizedState=[e,t],e}function en(e,n,r){if(25<=Ut)throw Error(t(301));if(e===Lt)if(Vt=!0,e={action:r,next:null},null===Wt&&(Wt=new Map),void 0===(r=Wt.get(n)))Wt.set(n,e);else{for(n=r;null!==n.next;)n=n.next;n.next=e}}function tn(){throw Error(t(394))}function nn(){}var rn={readContext:function(e){return e._currentValue},useContext:function(e){return Zt(),e._currentValue},useMemo:Qt,useReducer:Jt,useRef:function(e){Lt=Zt();var t=(Bt=Xt()).memoizedState;return null===t?(e={current:e},Bt.memoizedState=e):t},useState:function(e){return Jt(Gt,e)},useInsertionEffect:nn,useLayoutEffect:function(){},useCallback:function(e,t){return Qt(function(){return e},t)},useImperativeHandle:nn,useEffect:nn,useDebugValue:nn,useDeferredValue:function(e){return Zt(),e},useTransition:function(){return Zt(),[!1,tn]},useId:function(){var e=zt.treeContext,n=e.overflow;e=((e=e.id)&~(1<<32-_t(e)-1)).toString(32)+n;var r=on;if(null===r)throw Error(t(404));return n=qt++,e=":"+r.idPrefix+"R"+e,0<n&&(e+="H"+n.toString(32)),e+":"},useMutableSource:function(e,t){return Zt(),t(e._source)},useSyncExternalStore:function(e,n,r){if(void 0===r)throw Error(t(407));return r()}},on=null,an=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function sn(e){return null}function ln(){}function un(e,t,n,r,o,a,s,i){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&Cn(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:a,context:s,treeContext:i};return o.add(l),l}function cn(e,t,n,r,o,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:a}}function dn(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function pn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,d(e.destination,t)):(e.status=1,e.fatalError=t)}function hn(e,t,n,r,o){for(Lt={},zt=t,qt=0,e=n(r,o);Vt;)Vt=!1,qt=0,Ut+=1,Bt=null,e=n(r,o);return Yt(),e}function fn(e,n,r,o){var a=r.render(),s=o.childContextTypes;if(null!=s){var i=n.legacyContext;if("function"!=typeof r.getChildContext)o=i;else{for(var l in r=r.getChildContext())if(!(l in s))throw Error(t(108,vt(o)||"Unknown",l));o=nt({},i,r)}n.legacyContext=o,xn(e,n,a),n.legacyContext=i}else xn(e,n,a)}function mn(e,t){if(e&&e.defaultProps){for(var n in t=nt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function gn(n,r,o,a,s){if("function"==typeof o)if(o.prototype&&o.prototype.isReactComponent){s=wt(o,r.legacyContext);var i=o.contextType;Tt(i=new o(a,"object"==typeof i&&null!==i?i._currentValue:s),o,a,s),fn(n,r,i,o)}else{s=hn(n,r,o,a,i=wt(o,r.legacyContext));var u=0!==qt;if("object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof)Tt(s,o,a,i),fn(n,r,s,o);else if(u){a=r.treeContext,r.treeContext=Ht(a,1,0);try{xn(n,r,s)}finally{r.treeContext=a}}else xn(n,r,s)}else{if("string"!=typeof o){switch(o){case xt:case gt:case st:case it:case at:case pt:return void xn(n,r,a.children);case mt:throw Error(t(343));case dt:e:{o=r.blockedBoundary,s=r.blockedSegment,i=a.fallback,a=a.children;var c={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:u=new Set,errorDigest:null},d=cn(0,s.chunks.length,c,s.formatContext,!1,!1);s.children.push(d),s.lastPushedText=!1;var h=cn(0,0,null,s.formatContext,!1,!1);h.parentFlushed=!0,r.blockedBoundary=c,r.blockedSegment=h;try{if(yn(n,r,a),h.lastPushedText&&h.textEmbedded&&h.chunks.push($),h.status=1,wn(c,h),0===c.pendingTasks)break e}catch(f){h.status=4,c.forceClientRender=!0,c.errorDigest=dn(n,f)}finally{r.blockedBoundary=o,r.blockedSegment=s}r=un(n,i,o,d,u,r.legacyContext,r.context,r.treeContext),n.pingedTasks.push(r)}return}if("object"==typeof o&&null!==o)switch(o.$$typeof){case ct:if(a=hn(n,r,o.render,a,s),0!==qt){o=r.treeContext,r.treeContext=Ht(o,1,0);try{xn(n,r,a)}finally{r.treeContext=o}}else xn(n,r,a);return;case ht:return void gn(n,r,o=o.type,a=mn(o,a),s);case lt:if(s=a.children,o=o._context,a=a.value,i=o._currentValue,o._currentValue=a,St=a={parent:u=St,depth:null===u?0:u.depth+1,context:o,parentValue:i,value:a},r.context=a,xn(n,r,s),null===(n=St))throw Error(t(403));return a=n.parentValue,n.context._currentValue=a===bt?n.context._defaultValue:a,n=St=n.parent,void(r.context=n);case ut:return void xn(n,r,a=(a=a.children)(o._currentValue));case ft:return void gn(n,r,o=(s=o._init)(o._payload),a=mn(o,a),void 0)}throw Error(t(130,null==o?o:typeof o,""))}switch(i=function(n,r,o,a,s){switch(r){case"select":n.push(ne("select"));var i=null,u=null;for(f in o)if(p.call(o,f)){var c=o[f];if(null!=c)switch(f){case"children":i=c;break;case"dangerouslySetInnerHTML":u=c;break;case"defaultValue":case"value":break;default:Z(n,a,f,c)}}return n.push(K),Y(n,u,i),i;case"option":u=s.selectedValue,n.push(ne("option"));var d=c=null,h=null,f=null;for(i in o)if(p.call(o,i)){var m=o[i];if(null!=m)switch(i){case"children":c=m;break;case"selected":h=m;break;case"dangerouslySetInnerHTML":f=m;break;case"value":d=m;default:Z(n,a,i,m)}}if(null!=u)if(o=null!==d?""+d:function(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}(c),E(u)){for(a=0;a<u.length;a++)if(""+u[a]===o){n.push(G);break}}else""+u===o&&n.push(G);else h&&n.push(G);return n.push(K),Y(n,f,c),c;case"textarea":for(c in n.push(ne("textarea")),f=u=i=null,o)if(p.call(o,c)&&null!=(d=o[c]))switch(c){case"children":f=d;break;case"value":i=d;break;case"defaultValue":u=d;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Z(n,a,c,d)}if(null===i&&null!==u&&(i=u),n.push(K),null!=f){if(null!=i)throw Error(t(92));if(E(f)&&1<f.length)throw Error(t(93));i=""+f}return"string"==typeof i&&"\n"===i[0]&&n.push(Q),null!==i&&n.push(l(C(""+i))),null;case"input":for(u in n.push(ne("input")),d=f=c=i=null,o)if(p.call(o,u)&&null!=(h=o[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":d=h;break;case"defaultValue":c=h;break;case"checked":f=h;break;case"value":i=h;break;default:Z(n,a,u,h)}return null!==f?Z(n,a,"checked",f):null!==d&&Z(n,a,"checked",d),null!==i?Z(n,a,"value",i):null!==c&&Z(n,a,"value",c),n.push(X),null;case"menuitem":for(var x in n.push(ne("menuitem")),o)if(p.call(o,x)&&null!=(i=o[x]))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Z(n,a,x,i)}return n.push(K),null;case"title":for(m in n.push(ne("title")),i=null,o)if(p.call(o,m)&&null!=(u=o[m]))switch(m){case"children":i=u;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:Z(n,a,m,u)}return n.push(K),i;case"listing":case"pre":for(d in n.push(ne(r)),u=i=null,o)if(p.call(o,d)&&null!=(c=o[d]))switch(d){case"children":i=c;break;case"dangerouslySetInnerHTML":u=c;break;default:Z(n,a,d,c)}if(n.push(K),null!=u){if(null!=i)throw Error(t(60));if("object"!=typeof u||!("__html"in u))throw Error(t(61));null!=(o=u.__html)&&("string"==typeof o&&0<o.length&&"\n"===o[0]?n.push(Q,l(o)):n.push(l(""+o)))}return"string"==typeof i&&"\n"===i[0]&&n.push(Q),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var b in n.push(ne(r)),o)if(p.call(o,b)&&null!=(i=o[b]))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,r));default:Z(n,a,b,i)}return n.push(X),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return J(n,o,r,a);case"html":return 0===s.insertionMode&&n.push(re),J(n,o,r,a);default:if(-1===r.indexOf("-")&&"string"!=typeof o.is)return J(n,o,r,a);for(h in n.push(ne(r)),u=i=null,o)if(p.call(o,h)&&null!=(c=o[h]))switch(h){case"children":i=c;break;case"dangerouslySetInnerHTML":u=c;break;case"style":O(n,a,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:g(h)&&"function"!=typeof c&&"symbol"!=typeof c&&n.push(V,l(h),q,l(C(c)),W)}return n.push(K),Y(n,u,i),i}}((s=r.blockedSegment).chunks,o,a,n.responseState,s.formatContext),s.lastPushedText=!1,u=s.formatContext,s.formatContext=function(e,t,n){switch(t){case"select":return D(1,null!=n.value?n.value:n.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=e.insertionMode||0===e.insertionMode?D(1,null):e}(u,o,a),yn(n,r,i),s.formatContext=u,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:s.chunks.push(oe,l(o),ae)}s.lastPushedText=!1}}function xn(e,n,r){if(n.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case rt:return void gn(e,n,r.type,r.props,r.ref);case ot:throw Error(t(257));case ft:var o=r._init;return void xn(e,n,r=o(r._payload))}if(E(r))return void bn(e,n,r);if((o=null===r||"object"!=typeof r?null:"function"==typeof(o=yt&&r[yt]||r["@@iterator"])?o:null)&&(o=o.call(r))){if(!(r=o.next()).done){var a=[];do{a.push(r.value),r=o.next()}while(!r.done);bn(e,n,a)}return}throw e=Object.prototype.toString.call(r),Error(t(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(o=n.blockedSegment).lastPushedText=I(n.blockedSegment.chunks,r,e.responseState,o.lastPushedText):"number"==typeof r&&((o=n.blockedSegment).lastPushedText=I(n.blockedSegment.chunks,""+r,e.responseState,o.lastPushedText))}function bn(e,t,n){for(var r=n.length,o=0;o<r;o++){var a=t.treeContext;t.treeContext=Ht(a,r,o);try{yn(e,t,n[o])}finally{t.treeContext=a}}}function yn(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,a=t.context;try{return xn(e,t,n)}catch(l){if(Yt(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,Mt(a),l;n=l;var s=t.blockedSegment,i=cn(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(i),s.lastPushedText=!1,e=un(e,t.node,t.blockedBoundary,i,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,Mt(a)}}function vn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Sn(this,t,e)}function kn(e,n,r){var o=e.blockedBoundary;e.blockedSegment.status=3,null===o?(n.allPendingTasks--,2!==n.status&&(n.status=2,null!==n.destination&&n.destination.close())):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=void 0===r?Error(t(432)):r,o.errorDigest=n.onError(e),o.parentFlushed&&n.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach(function(e){return kn(e,n,r)}),o.fallbackAbortableTasks.clear(),n.allPendingTasks--,0===n.allPendingTasks&&(o=n.onAllReady)())}function wn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&wn(e,n)}else e.completedSegments.push(t)}function Sn(e,n,r){if(null===n){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(t(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=ln,(n=e.onShellReady)())}else n.pendingTasks--,n.forceClientRender||(0===n.pendingTasks?(r.parentFlushed&&1===r.status&&wn(n,r),n.parentFlushed&&e.completedBoundaries.push(n),n.fallbackAbortableTasks.forEach(vn,e),n.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(wn(n,r),1===n.completedSegments.length&&n.parentFlushed&&e.partialBoundaries.push(n)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Cn(e){if(2!==e.status){var t=St,n=an.current;an.current=rn;var r=on;on=e.responseState;try{var o,a=e.pingedTasks;for(o=0;o<a.length;o++){var s=a[o],i=e,l=s.blockedSegment;if(0===l.status){Mt(s.context);try{xn(i,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push($),s.abortSet.delete(s),l.status=1,Sn(i,s.blockedBoundary,l)}catch(h){if(Yt(),"object"==typeof h&&null!==h&&"function"==typeof h.then){var u=s.ping;h.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=h,p=dn(i,d);null===c?pn(i,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&i.clientRenderedBoundaries.push(c))),i.allPendingTasks--,0===i.allPendingTasks&&(0,i.onAllReady)()}}}}a.splice(0,o),null!==e.destination&&Rn(e,e.destination)}catch(h){dn(e,h),pn(e,h)}finally{on=r,an.current=n,n===rn&&Mt(t)}}}function jn(e,n,r){switch(r.parentFlushed=!0,r.status){case 0:var s=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,o(n,se),o(n,e.placeholderPrefix),o(n,e=l(s.toString(16))),a(n,ie);case 1:r.status=2;var i=!0;s=r.chunks;var u=0;r=r.children;for(var c=0;c<r.length;c++){for(i=r[c];u<i.index;u++)o(n,s[u]);i=Nn(e,n,i)}for(;u<s.length-1;u++)o(n,s[u]);return u<s.length&&(i=a(n,s[u])),i;default:throw Error(t(390))}}function Nn(e,n,r){var s=r.boundary;if(null===s)return jn(e,n,r);if(s.parentFlushed=!0,s.forceClientRender)s=s.errorDigest,a(n,de),o(n,he),s&&(o(n,ge),o(n,l(C(s))),o(n,fe)),a(n,be),jn(e,n,r);else if(0<s.pendingTasks){s.rootSegmentID=e.nextSegmentId++,0<s.completedSegments.length&&e.partialBoundaries.push(s);var i=e.responseState,c=i.nextSuspenseID++;i=u(i.boundaryPrefix+c.toString(16)),s=s.id=i,ye(n,e.responseState,s),jn(e,n,r)}else if(s.byteSize>e.progressiveChunkSize)s.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(s),ye(n,e.responseState,s.id),jn(e,n,r);else{if(a(n,le),1!==(r=s.completedSegments).length)throw Error(t(391));Nn(e,n,r[0])}return a(n,pe)}function En(e,n,r){return function(e,n,r,s){switch(r.insertionMode){case 0:case 1:return o(e,ve),o(e,n.segmentPrefix),o(e,l(s.toString(16))),a(e,ke);case 2:return o(e,Se),o(e,n.segmentPrefix),o(e,l(s.toString(16))),a(e,Ce);case 3:return o(e,Ne),o(e,n.segmentPrefix),o(e,l(s.toString(16))),a(e,Ee);case 4:return o(e,Me),o(e,n.segmentPrefix),o(e,l(s.toString(16))),a(e,Re);case 5:return o(e,Pe),o(e,n.segmentPrefix),o(e,l(s.toString(16))),a(e,He);case 6:return o(e,De),o(e,n.segmentPrefix),o(e,l(s.toString(16))),a(e,$e);case 7:return o(e,Le),o(e,n.segmentPrefix),o(e,l(s.toString(16))),a(e,ze);default:throw Error(t(397))}}(n,e.responseState,r.formatContext,r.id),Nn(e,n,r),function(e,n){switch(n.insertionMode){case 0:case 1:return a(e,we);case 2:return a(e,je);case 3:return a(e,Fe);case 4:return a(e,Te);case 5:return a(e,_e);case 6:return a(e,Ie);case 7:return a(e,Ae);default:throw Error(t(397))}}(n,r.formatContext)}function Fn(e,n,r){for(var s=r.completedSegments,i=0;i<s.length;i++)Mn(e,n,r,s[i]);if(s.length=0,e=e.responseState,s=r.id,r=r.rootSegmentID,o(n,e.startInlineScript),e.sentCompleteBoundaryFunction?o(n,Ue):(e.sentCompleteBoundaryFunction=!0,o(n,We)),null===s)throw Error(t(395));return r=l(r.toString(16)),o(n,s),o(n,Ze),o(n,e.segmentPrefix),o(n,r),a(n,Ke)}function Mn(e,n,r,s){if(2===s.status)return!0;var i=s.id;if(-1===i){if(-1===(s.id=r.rootSegmentID))throw Error(t(392));return En(e,n,s)}return En(e,n,s),o(n,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?o(n,Oe):(e.sentCompleteSegmentFunction=!0,o(n,Be)),o(n,e.segmentPrefix),o(n,i=l(i.toString(16))),o(n,Ve),o(n,e.placeholderPrefix),o(n,i),a(n,qe)}function Rn(e,i){n=new Uint8Array(512),r=0;try{var u=e.completedRootSegment;if(null!==u&&0===e.pendingRootTasks){Nn(e,i,u),e.completedRootSegment=null;var c=e.responseState.bootstrapChunks;for(u=0;u<c.length-1;u++)o(i,c[u]);u<c.length&&a(i,c[u])}var d,p=e.clientRenderedBoundaries;for(d=0;d<p.length;d++){var h=p[d];c=i;var f=e.responseState,m=h.id,g=h.errorDigest,x=h.errorMessage,b=h.errorComponentStack;if(o(c,f.startInlineScript),f.sentClientRenderFunction?o(c,Ye):(f.sentClientRenderFunction=!0,o(c,Xe)),null===m)throw Error(t(395));o(c,m),o(c,Ge),(g||x||b)&&(o(c,Qe),o(c,l(tt(g||"")))),(x||b)&&(o(c,Qe),o(c,l(tt(x||"")))),b&&(o(c,Qe),o(c,l(tt(b)))),a(c,Je)}p.splice(0,d);var y=e.completedBoundaries;for(d=0;d<y.length;d++)Fn(e,i,y[d]);y.splice(0,d),s(i),n=new Uint8Array(512),r=0;var v=e.partialBoundaries;for(d=0;d<v.length;d++){var k=v[d];e:{p=e,h=i;var w=k.completedSegments;for(f=0;f<w.length;f++)if(!Mn(p,h,k,w[f])){f++,w.splice(0,f);var S=!1;break e}w.splice(0,f),S=!0}if(!S)return e.destination=null,d++,void v.splice(0,d)}v.splice(0,d);var C=e.completedBoundaries;for(d=0;d<C.length;d++)Fn(e,i,C[d]);C.splice(0,d)}finally{s(i),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&i.close()}}function Tn(e,t){try{var n=e.abortableTasks;n.forEach(function(n){return kn(n,e,t)}),n.clear(),null!==e.destination&&Rn(e,e.destination)}catch(r){dn(e,r),pn(e,r)}}return xe.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,a,s=new Promise(function(e,t){a=e,o=t}),i=function(e,t,n,r,o,a,s,i,l){var u=[],c=new Set;return(n=cn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?sn:o,onAllReady:void 0===a?ln:a,onShellReady:void 0===s?ln:s,onShellError:void 0===i?ln:i,onFatalError:void 0===l?ln:l},0,null,n,!1,!1)).parentFlushed=!0,e=un(t,e,null,n,c,kt,null,Pt),u.push(e),t}(e,function(e,t,n,r,o){e=void 0===e?"":e,t=void 0===t?F:u('<script nonce="'+C(t)+'">');var a=[];if(void 0!==n&&a.push(t,l((""+n).replace(H,_)),M),void 0!==r)for(n=0;n<r.length;n++)a.push(R,l(C(r[n])),P);if(void 0!==o)for(r=0;r<o.length;r++)a.push(T,l(C(o[r])),P);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:u(e+"P:"),segmentPrefix:u(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return D("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===i.status)i.status=2,d(e,i.fatalError);else if(2!==i.status&&null===i.destination){i.destination=e;try{Rn(i,e)}catch(t){dn(i,t),pn(i,t)}}},cancel:function(){Tn(i)}},{highWaterMark:0});e.allReady=s,n(e)},function(e){s.catch(function(){}),r(e)},o);if(t&&t.signal){var c=t.signal,p=function(){Tn(i,c.reason),c.removeEventListener("abort",p)};c.addEventListener("abort",p)}Cn(i)})},xe.version="18.3.1",xe}(),he.version=be.version,he.renderToString=be.renderToString,he.renderToStaticMarkup=be.renderToStaticMarkup,he.renderToNodeStream=be.renderToNodeStream,he.renderToStaticNodeStream=be.renderToStaticNodeStream,he.renderToReadableStream=ye.renderToReadableStream),he);const ke=new Map;function we(e,t){const n=ke.get(e);if(n)return n;if(ke.size>=200){const e=ke.keys().next().value;e&&ke.delete(e)}const r=t();return ke.set(e,r),r}const Se=ve.renderToStaticMarkup(t.jsx(F,{size:16,color:V,strokeWidth:2.5,fill:"none"})),Ce=ve.renderToStaticMarkup(t.jsx(w,{size:16,color:U,strokeWidth:2.5,fill:"none"}));function je(e){var t;const n=null==(t=e.contact_type)?void 0:t.toLowerCase();return"room server"===n||"room_server"===n||"room"===n||"server"===n}function Ne(e){return e.startsWith("0x")?e.slice(2,4).toUpperCase():e.slice(0,2).toUpperCase()}function Ee({hash:e,neighbor:n,isZeroHop:r,isHub:o,isMobile:a,isRoomServer:s,centrality:l,lastHopData:u,affinity:c,txDelayRec:h,nodeOpacity:f,isHovered:m,onHover:g,onRequestRemove:x,isPopupOpen:b,onOpenPopup:y,onClosePopup:v}){const k=n.node_name||n.name||"Unknown",w=Ne(e),S=(null==u?void 0:u.avgSnr)??void 0,C=(null==u?void 0:u.avgRssi)??void 0,j="stale"===(null==u?void 0:u.status),N=(null==u?void 0:u.lastSeen)??void 0,E=j?Math.min(f,.5):f,F=Math.round(20*E)/20,M=i.useMemo(()=>s?function(e=1,t=!1,n=!1){return we(`roomserver:${e}:${t}:${n}`,()=>{const r=t?1.25:1;if(n){const t=16,n=(20-t)/2;return`<div style="\n        position: relative;\n        width: 20px;\n        height: 20px;\n        opacity: ${e};\n        filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)) brightness(${r});\n        transition: filter 0s ease-in, filter 150ms ease-out;\n      ">\n        \x3c!-- Yellow outer ring --\x3e\n        <div style="\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 20px;\n          height: 20px;\n          background: transparent;\n          border-radius: 50%;\n          border: 1px solid ${Z};\n          box-sizing: border-box;\n          opacity: 0.7;\n        "></div>\n        \x3c!-- Icon --\x3e\n        <div style="\n          position: absolute;\n          top: ${n}px;\n          left: ${n}px;\n          width: ${t}px;\n          height: ${t}px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        ">${Ce}</div>\n      </div>`}return`<div style="\n      width: 16px;\n      height: 16px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      opacity: ${e};\n      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)) brightness(${r});\n      transition: filter 0s ease-in, filter 150ms ease-out;\n    ">${Ce}</div>`})}(F,m,r):o?function(e=q,t=1,n=!1,r=!1){return we(`filled:${e}:${t}:${n}:${r}`,()=>{const o=n?1.25:1;if(r){const n=3;return`<div style="\n        position: relative;\n        width: 20px;\n        height: 20px;\n        opacity: ${t};\n        filter: brightness(${o});\n        transition: filter 0s ease-in, filter 150ms ease-out;\n      ">\n        \x3c!-- Yellow outer ring --\x3e\n        <div style="\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 20px;\n          height: 20px;\n          background: transparent;\n          border-radius: 50%;\n          border: 1px solid ${Z};\n          box-sizing: border-box;\n          opacity: 0.7;\n        "></div>\n        \x3c!-- Inner filled dot --\x3e\n        <div style="\n          position: absolute;\n          top: ${n}px;\n          left: ${n}px;\n          width: 14px;\n          height: 14px;\n          background-color: ${e};\n          border-radius: 50%;\n          box-sizing: border-box;\n        "></div>\n      </div>`}return`<div style="\n      width: 14px;\n      height: 14px;\n      background-color: ${e};\n      border-radius: 50%;\n      box-sizing: border-box;\n      opacity: ${t};\n      filter: brightness(${o});\n      transition: filter 0s ease-in, filter 150ms ease-out;\n    "></div>`})}(q,F,m,r):function(e=O,t=1,n=!1,r=!1){return we(`ring:${e}:${t}:${n}:${r}`,()=>{const o=n?1.25:1;if(r){const n=3;return`<div style="\n        position: relative;\n        width: 20px;\n        height: 20px;\n        opacity: ${t};\n        filter: brightness(${o});\n        transition: filter 0s ease-in, filter 150ms ease-out;\n      ">\n        \x3c!-- Yellow outer ring --\x3e\n        <div style="\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 20px;\n          height: 20px;\n          background: transparent;\n          border-radius: 50%;\n          border: 1px solid ${Z};\n          box-sizing: border-box;\n          opacity: 0.7;\n        "></div>\n        \x3c!-- Inner colored ring --\x3e\n        <div style="\n          position: absolute;\n          top: ${n}px;\n          left: ${n}px;\n          width: 14px;\n          height: 14px;\n          background: transparent;\n          border-radius: 50%;\n          border: 5px solid ${e};\n          box-sizing: border-box;\n        "></div>\n      </div>`}return`<div style="\n      width: 14px;\n      height: 14px;\n      background: transparent;\n      border-radius: 50%;\n      border: 5px solid ${e};\n      box-sizing: border-box;\n      opacity: ${t};\n      filter: brightness(${o});\n      transition: filter 0s ease-in, filter 150ms ease-out;\n    "></div>`})}(a?W:O,F,m,r),[s,o,a,r,F,m]),R=r?20:14,T=i.useCallback(()=>g(e),[e,g]),P=i.useCallback(()=>g(null),[g]),H=i.useCallback(t=>{t.stopPropagation(),y(e)},[e,y]);return n.latitude&&n.longitude?t.jsxs(t.Fragment,{children:[t.jsx(d,{longitude:n.longitude,latitude:n.latitude,anchor:"center",children:t.jsx("div",{role:"button",tabIndex:0,"aria-label":`Node ${k}`,style:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},onClick:H,onTouchEnd:H,onMouseEnter:T,onMouseLeave:P,onKeyDown:t=>"Enter"===t.key&&y(e),children:t.jsx("div",{style:{pointerEvents:"none"},dangerouslySetInnerHTML:{__html:M}})})}),b&&t.jsx(p,{longitude:n.longitude,latitude:n.latitude,anchor:"bottom",offset:[0,-R/2],closeOnClick:!0,onClose:v,className:"maplibre-popup",children:t.jsx(ae,{hash:e,hashPrefix:w,name:k,isHub:o,isZeroHop:r,isMobile:a,isRoomServer:s,isStale:j,lastSeenTimestamp:N,centrality:l,affinity:c,meanSnr:S,meanRssi:C,neighbor:n,txDelayRec:h,onRemove:x?()=>x(e,k):void 0})})]}):null}function Fe({localNode:e,localHash:n,isHovered:r,onHover:o,isPopupOpen:a,onOpenPopup:s,onClosePopup:l}){const u=i.useMemo(()=>function(e=!1){return we(`local:${e}`,()=>`<div style="\n      width: 16px;\n      height: 16px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)) brightness(${e?1.25:1});\n      transition: filter 0s ease-in, filter 150ms ease-out;\n    ">${Se}</div>`)}(r),[r]),c=i.useCallback(()=>o("local"),[o]),h=i.useCallback(()=>o(null),[o]),f=i.useCallback(e=>{e.stopPropagation(),s()},[s]);return e.latitude&&e.longitude?t.jsxs(t.Fragment,{children:[t.jsx(d,{longitude:e.longitude,latitude:e.latitude,anchor:"center",children:t.jsx("div",{role:"button",tabIndex:0,"aria-label":`Local node ${e.name}`,style:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},onClick:f,onTouchEnd:f,onMouseEnter:c,onMouseLeave:h,onKeyDown:e=>"Enter"===e.key&&s(),children:t.jsx("div",{style:{pointerEvents:"none"},dangerouslySetInnerHTML:{__html:u}})})}),a&&t.jsx(p,{longitude:e.longitude,latitude:e.latitude,anchor:"bottom",offset:[0,-8],closeOnClick:!0,onClose:l,className:"maplibre-popup",children:t.jsxs("div",{className:"text-sm",children:[t.jsx("strong",{className:"text-base",children:e.name}),n&&t.jsx("span",{className:"ml-2 font-mono text-xs text-text-muted bg-surface-elevated px-1.5 py-0.5 rounded",children:Ne(n)}),t.jsx("br",{}),t.jsx("span",{style:{color:V},className:"font-medium",children:"This Node (Local)"}),t.jsx("br",{}),t.jsxs("span",{className:"text-xs text-text-muted",children:[e.latitude.toFixed(5),", ",e.longitude.toFixed(5)]})]})})]}):null}function Me({neighborsWithLocation:e,localNode:n,localHash:r,zeroHopNeighbors:o,lastHopNeighborMap:a,meshTopology:s,hoveredMarker:l,onMarkerHover:u,getNodeOpacity:c,shouldShowNode:d,onRequestRemove:p}){const[h,f]=i.useState(null),m=i.useCallback(e=>{f(e)},[]),g=i.useCallback(()=>{f(null)},[]),x=i.useMemo(()=>[...e].sort(([e,t],[n,r])=>{const a=(e,t)=>je(t)?5e3:o.has(e)?2e3:s.hubNodes.includes(e)?1e3:0;return a(e,t)-a(n,r)}),[e,o,s.hubNodes]);return t.jsxs(t.Fragment,{children:[x.map(([e,n])=>{if(!n.latitude||!n.longitude)return null;const r=d(e),i=c(e,r);if(i<=.01)return null;const f=o.has(e),x=s.hubNodes.includes(e),b=s.mobileNodes.includes(e),y=je(n),v=s.centrality.get(e)||0,k=a.get(e)??null,w=s.fullAffinity.get(e),S=s.txDelayRecommendations.get(e);return t.jsx(Ee,{hash:e,neighbor:n,isZeroHop:f,isHub:x,isMobile:b,isRoomServer:y,centrality:v,lastHopData:k,affinity:w,txDelayRec:S,nodeOpacity:i,isHovered:l===e,onHover:u,onRequestRemove:p,isPopupOpen:h===e,onOpenPopup:m,onClosePopup:g},e)}),n&&n.latitude&&n.longitude&&t.jsx(Fe,{localNode:n,localHash:r,isHovered:"local"===l,onHover:u,isPopupOpen:"local"===h,onOpenPopup:()=>m("local"),onClosePopup:g})]})}function Re(e,t=!1,n=!1,r=!1,o=.7){return e?t?G:n?J:Q:r?o>=.75?X:K:o>=.85?K:o>=.7?Y:"#1F2937"}function Te(e,t,n){const r=t[1]-e[1],o=t[0]-e[0],a=Math.sqrt(r*r+o*o);if(0===a)return{line1:[e,t],line2:[e,t]};const s=2e-5*n,i=-o/a*s,l=r/a*s;return{line1:[[e[0]+i,e[1]+l],[t[0]+i,t[1]+l]],line2:[[e[0]-i,e[1]-l],[t[0]-i,t[1]-l]]}}function Pe(e){return[e[1],e[0]]}const He={id:"topology-weak-edges",type:"line",paint:{"line-color":["get","color"],"line-width":["get","width"],"line-opacity":["get","opacity"]},layout:{"line-cap":"round","line-join":"round"}},_e={id:"topology-validated-edges",type:"line",paint:{"line-color":["get","color"],"line-width":["get","width"],"line-opacity":["get","opacity"]},layout:{"line-cap":"round","line-join":"round"}},De={id:"topology-validated-edges-hitarea",type:"line",paint:{"line-color":"transparent","line-width":16,"line-opacity":0},layout:{"line-cap":"round","line-join":"round"}};function $e({showTopology:e,isExiting:n,validatedPolylines:r,weakPolylines:o,edgeAnimProgress:a,weightAnimProgress:s,animStartWeights:l,animTargetWeights:u,maxCertainCount:c,loopEdgeKeys:d,backboneEdgeKeys:p,hoveredEdgeKey:m,onEdgeHover:g,highlightedEdgeKey:x,neighbors:b}){const y=e||n,v=i.useMemo(()=>y?function(e,t){const n=[];for(const{from:r,to:o,edge:a}of e){const e=t.get(a.key)??0;if(e<=0)continue;const s=[r[0]+(o[0]-r[0])*e,r[1]+(o[1]-r[1])*e];n.push({type:"Feature",properties:{key:a.key,color:Y,width:1.5,opacity:.5*e,isLoopEdge:!1,isBackbone:!1,isDirectPath:!1,isHubConnection:!1,certainCount:a.certainCount,confidence:a.avgConfidence??.7,symmetryRatio:a.symmetryRatio??1,dominantDirection:a.dominantDirection??"balanced",fromName:"",toName:""},geometry:{type:"LineString",coordinates:[Pe(r),Pe(s)]}})}return{type:"FeatureCollection",features:n}}(o,a):{type:"FeatureCollection",features:[]},[o,a,y]),k=i.useMemo(()=>y?function(e,t,n,r,o,a,s,i,l,u,c){const d=[];for(const{from:p,to:h,edge:f}of e){const e=t.get(f.key)??0;if(e<=0)continue;const a=o.get(f.key)??L(f.certainCount),m=r.get(f.key)??a,g=m+(a-m)*n,x=s.has(f.key),b=i.has(f.key),y=f.avgConfidence??.7,v=l===f.key,k=null!==l,w=u===f.key,S=c[f.fromHash],C=c[f.toHash],j=(null==S?void 0:S.node_name)||(null==S?void 0:S.name)||f.fromHash.slice(0,8),N=(null==C?void 0:C.node_name)||(null==C?void 0:C.name)||f.toHash.slice(0,8),E=[p[0]+(h[0]-p[0])*e,p[1]+(h[1]-p[1])*e],F=.82*Math.min(1.5*e,1),M=k?v?1.25:.4:1;if(x){const{line1:e,line2:t}=Te(p,E,1.5*g),n=v?J:K,r=1.1*F*M,o=v?Math.max(2.5,.8*g):Math.max(1.5,.6*g);d.push({type:"Feature",properties:{key:`${f.key}-loop1`,color:n,width:o,opacity:r,isLoopEdge:!0,isBackbone:!1,isDirectPath:f.isDirectPathEdge??!1,isHubConnection:f.isHubConnection??!1,certainCount:f.certainCount,confidence:y,symmetryRatio:f.symmetryRatio??1,dominantDirection:f.dominantDirection??"balanced",fromName:j,toName:N},geometry:{type:"LineString",coordinates:[Pe(e[0]),Pe(e[1])]}}),d.push({type:"Feature",properties:{key:`${f.key}-loop2`,color:n,width:o,opacity:r,isLoopEdge:!0,isBackbone:!1,isDirectPath:f.isDirectPathEdge??!1,isHubConnection:f.isHubConnection??!1,certainCount:f.certainCount,confidence:y,symmetryRatio:f.symmetryRatio??1,dominantDirection:f.dominantDirection??"balanced",fromName:j,toName:N},geometry:{type:"LineString",coordinates:[Pe(t[0]),Pe(t[1])]}});continue}const R=w?"#FFD700":Re(v,f.isDirectPathEdge??!1,!1,b,y);let T=w?Math.max(1.6*g,4.5):b?1.3*g:g;v&&!w&&(T=Math.max(1.2*T,3));let P=w?.95:b?1.15*F:F;P*=M,d.push({type:"Feature",properties:{key:f.key,color:R,width:T,opacity:P,isLoopEdge:!1,isBackbone:b,isDirectPath:f.isDirectPathEdge??!1,isHubConnection:f.isHubConnection??!1,certainCount:f.certainCount,confidence:y,symmetryRatio:f.symmetryRatio??1,dominantDirection:f.dominantDirection??"balanced",fromName:j,toName:N},geometry:{type:"LineString",coordinates:[Pe(p),Pe(E)]}})}return{type:"FeatureCollection",features:d}}(r,a,s,l,u,0,d,p,m,x,b):{type:"FeatureCollection",features:[]},[r,a,s,l,u,c,d,p,m,x,b,y]);return y?t.jsxs(t.Fragment,{children:[t.jsx(h,{id:"weak-edges",type:"geojson",data:v,children:t.jsx(f,{...He})}),t.jsxs(h,{id:"validated-edges",type:"geojson",data:k,children:[t.jsx(f,{...De}),t.jsx(f,{..._e})]})]}):null}const Ie=["topology-validated-edges-hitarea","topology-validated-edges"];function Le(e){return[e[1],e[0]]}const ze=[[0,4,3],[.5,4,2.5],[1,4,2],[1.5,4,1.5],[2,4,1],[2.5,4,.5],[3,4,0],[0,.5,3,3.5],[0,1,3,3],[0,1.5,3,2.5],[0,2,3,2],[0,2.5,3,1.5],[0,3,3,1],[0,3.5,3,.5]],Ae={id:"neighbor-edges-hitarea",type:"line",paint:{"line-color":"transparent","line-width":16,"line-opacity":0},layout:{"line-cap":"round","line-join":"round"}};function Be({neighborPolylines:e,hoveredEdgeKey:n,onEdgeHover:r}){const o=i.useRef(null),a=i.useRef(-1),[s,l]=i.useState(0),u=e.length>0,c=i.useMemo(()=>u?function(e,t){const n=[];for(const{from:r,to:o,hash:a,neighbor:s,lastHopData:i}of e){const e=s.node_name||s.name||a.slice(0,8),l=(null==i?void 0:i.avgSnr)??s.snr,u=(null==i?void 0:i.avgRssi)??s.rssi,c=null==i?void 0:i.count,d=null==i?void 0:i.confidence,p=`neighbor-${a}`,h=t===p,f=h?te:ee,m=h?2.5:1.5,g=h?1:.6;n.push({type:"Feature",properties:{key:p,hash:a,name:e,prefix:null==i?void 0:i.prefix,rssi:u,snr:l,packetCount:c,confidence:d,hasAvgRssi:void 0!==(null==i?void 0:i.avgRssi),hasAvgSnr:void 0!==(null==i?void 0:i.avgSnr),color:f,width:m,opacity:g},geometry:{type:"LineString",coordinates:[Le(r),Le(o)]}})}return{type:"FeatureCollection",features:n}}(e,n):{type:"FeatureCollection",features:[]},[e,n,u]),d=ze[s]||ze[0],p=i.useMemo(()=>({id:"neighbor-edges",type:"line",paint:{"line-color":["get","color"],"line-width":["get","width"],"line-opacity":["get","opacity"],"line-dasharray":d},layout:{"line-cap":"butt","line-join":"round"}}),[d]);return i.useEffect(()=>{if(!u)return;let e=!0;const t=n=>{if(!e)return;const r=Math.floor(n/100)%ze.length;r!==a.current&&(a.current=r,l(r)),o.current=requestAnimationFrame(t)};return o.current=requestAnimationFrame(t),()=>{e=!1,null!==o.current&&cancelAnimationFrame(o.current)}},[u]),u?t.jsxs(h,{id:"neighbor-edges",type:"geojson",data:c,children:[t.jsx(f,{...Ae}),t.jsx(f,{...p})]}):null}const Oe=["neighbor-edges-hitarea","neighbor-edges"];function Ve({positions:e}){const{current:t}=m(),n=i.useRef(!1);return i.useEffect(()=>{if(t&&0!==e.length&&!n.current)if(n.current=!0,1===e.length)t.flyTo({center:[e[0][1],e[0][0]],zoom:14,duration:1e3});else{const n=e.map(([e,t])=>[t,e]);let r=1/0,o=-1/0,a=1/0,s=-1/0;for(const[e,t]of n)r=Math.min(r,e),o=Math.max(o,e),a=Math.min(a,t),s=Math.max(s,t);const i=[[r,a],[o,s]];t.fitBounds(i,{padding:{top:15,bottom:15,left:15,right:15},maxZoom:16,duration:1e3})}},[t,e]),null}function qe({targetHash:e,nodeCoordinates:t,onComplete:n}){const{current:r}=m(),o=i.useRef(null);return i.useEffect(()=>{if(!r||!e||e===o.current)return;const a=t.get(e);if(!a)return;o.current=e;const[s,i]=a;r.flyTo({center:[i,s],zoom:15,duration:2500,essential:!0}),setTimeout(()=>{null==n||n()},2600)},[e,t,r,n]),null}function We({highlightedEdgeKey:e,validatedPolylines:t,weakPolylines:n,onEnsureTopology:r}){const{current:o}=m();return i.useEffect(()=>{if(!o||!e)return;r();const a=t.find(t=>t.edge.key===e)||n.find(t=>t.edge.key===e);if(!a)return;const s=(a.from[0]+a.to[0])/2,i=(a.from[1]+a.to[1])/2,l=o.getZoom(),u=Math.max(l,11);o.flyTo({center:[i,s],zoom:u,duration:500,essential:!0})},[e,t,n,o,r]),null}const Ue={longitude:0,latitude:0,zoom:2};function Ze({type:e,properties:n,maxCertainCount:r}){if("neighbor"===e){const e=n;return t.jsxs("div",{className:"text-xs",children:[t.jsxs("div",{className:"font-medium text-text-primary",children:[t.jsx("span",{className:"text-amber-400",children:"●"})," ",e.name,e.prefix&&t.jsxs("span",{className:"ml-1 text-text-muted font-mono text-[10px]",children:["(",e.prefix,")"]})]}),t.jsxs("div",{className:"text-text-secondary flex gap-2",children:[void 0!==e.rssi&&null!==e.rssi&&t.jsxs("span",{children:["RSSI: ",Math.round(e.rssi)," dBm",e.hasAvgRssi&&" avg"]}),void 0!==e.snr&&null!==e.snr&&t.jsxs("span",{children:["SNR: ",Number(e.snr).toFixed(1)," dB",e.hasAvgSnr&&" avg"]})]}),void 0!==e.packetCount&&t.jsxs("div",{className:"text-text-muted text-[10px]",children:[Number(e.packetCount).toLocaleString()," packets",void 0!==e.confidence&&` • ${Math.round(100*Number(e.confidence))}% conf`]}),t.jsx("div",{className:"text-amber-400 text-[10px] mt-0.5",children:"Direct RF neighbor"})]})}const o=n,a=r>0?Number(o.certainCount)/r:0;return t.jsxs("div",{className:"text-xs",children:[t.jsxs("div",{className:"font-medium text-text-primary",children:[o.fromName," ↔ ",o.toName]}),t.jsxs("div",{className:"text-text-secondary",children:[o.certainCount," validations (",Math.round(100*a),"%) • ",Math.round(100*Number(o.confidence)),"% conf"]}),o.isBackbone&&t.jsx("div",{className:"text-gray-300 font-semibold",children:"Backbone"}),o.isLoopEdge&&t.jsx("div",{className:"text-indigo-400 text-[10px] mt-0.5",children:"Redundant path"}),o.isDirectPath&&t.jsx("div",{className:"text-teal-400 text-[10px]",children:"Direct path"})]})}function Ke({neighbors:e,localNode:n,localHash:l,onRemoveNode:u,selectedNodeHash:c,onNodeSelected:d,highlightedEdgeKey:h}){const f=i.useRef(null),m=r(),y=o(),v=a(),k=s(),[w,C]=i.useState(Ue),[j,N]=i.useState(!1),[E,F]=i.useState(!1),[M,R]=i.useState(!1),[T,P]=i.useState(!1),[H,_]=i.useState(null),[D,$]=i.useState(null),[I,z]=i.useState(null),[A,O]=i.useState(""),[V,q]=i.useState(!1),[W,U]=i.useState("fetching"),[Z,K]=i.useState(!1),[X,Y]=i.useState(0),[G,J]=i.useState(null),Q=i.useMemo(()=>Object.entries(e).filter(([,e])=>e.latitude&&e.longitude),[e]),ee=i.useMemo(()=>{const e=[];(null==n?void 0:n.latitude)&&(null==n?void 0:n.longitude)&&e.push([n.latitude,n.longitude]);for(const[,t]of Q)t.latitude&&t.longitude&&e.push([t.latitude,t.longitude]);return e},[n,Q]),te=i.useMemo(()=>{const e=new Map;l&&(null==n?void 0:n.latitude)&&(null==n?void 0:n.longitude)&&e.set(l,[n.latitude,n.longitude]);for(const[t,n]of Q)n.latitude&&n.longitude&&e.set(t,[n.latitude,n.longitude]);return e},[l,n,Q]),re=i.useMemo(()=>{const e=new Map;for(const t of v)"expired"!==t.status&&e.set(t.hash,{hash:t.hash,prefix:t.prefix,count:t.count,avgRssi:t.avgRssi,avgSnr:t.avgSnr,lastSeen:t.lastSeen,confidence:1,status:t.status});return e},[v]),oe=i.useMemo(()=>{var t,n;const r=new Set;for(const o of re.keys())(null==(t=e[o])?void 0:t.latitude)&&(null==(n=e[o])?void 0:n.longitude)&&r.add(o);return r},[re,e]),ae=i.useMemo(()=>{const e=[];for(const t of m.validatedEdges){const n=te.get(t.fromHash),r=te.get(t.toHash);n&&r&&e.push({from:n,to:r,edge:t})}return e},[m.validatedEdges,te]),ie=i.useMemo(()=>{const e=[];for(const t of m.weakEdges){const n=te.get(t.fromHash),r=te.get(t.toHash);n&&r&&e.push({from:n,to:r,edge:t})}return e},[m.weakEdges,te]),le=i.useMemo(()=>{if(!(null==n?void 0:n.latitude)||!(null==n?void 0:n.longitude))return[];const t=[],r=[n.latitude,n.longitude];for(const n of oe){const o=e[n];(null==o?void 0:o.latitude)&&(null==o?void 0:o.longitude)&&t.push({from:r,to:[o.latitude,o.longitude],hash:n,neighbor:o,lastHopData:re.get(n)??null})}return t},[n,oe,e,re]),pe=i.useMemo(()=>new Set(m.loopEdgeKeys),[m.loopEdgeKeys]),he=i.useMemo(()=>new Set(m.backboneEdges),[m.backboneEdges]),fe=i.useMemo(()=>{let e=0;for(const t of m.validatedEdges)t.certainCount>e&&(e=t.certainCount);return e||1},[m.validatedEdges]),{edgeAnimProgress:me,weightAnimProgress:ge,animStartWeights:xe,animTargetWeights:be,isExiting:ye,resetAnimationState:ve}=function({showTopology:e,polylines:t,weakPolylines:n,maxCertainCount:r,getWeight:o}){const[a,s]=i.useState(new Map),[l,u]=i.useState(1),[c,d]=i.useState(!1),p=i.useRef(e),h=i.useRef(new Set),f=i.useRef(""),[m,g]=i.useState(new Map),[x,b]=i.useState(new Map),y=i.useRef(new Map),v=i.useRef(new Map);i.useEffect(()=>{v.current=a},[a]);const k=i.useCallback(()=>{s(new Map),h.current=new Set,f.current="",g(new Map),b(new Map)},[]);return i.useEffect(()=>{const t=p.current,n=e;if(p.current=e,t&&!n&&!c){d(!0);const e=new Map(v.current);let t=null;const n=r=>{t||(t=r);const o=r-t,a=Math.min(o/500,1),i=(l=a,1-Math.pow(1-l,3));var l;s(()=>{const t=new Map;for(const[n,r]of e)t.set(n,r*(1-i));return t}),a<1?requestAnimationFrame(n):(d(!1),s(new Map),h.current=new Set,f.current="",g(new Map),b(new Map))};requestAnimationFrame(n)}!t&&n&&(s(new Map),h.current=new Set,f.current="")},[e,c]),i.useEffect(()=>{if(!e||c)return;const a=[...t,...n],i=a.map(e=>`${e.edge.key}:${e.edge.certainCount}`).sort().join(","),l=0===h.current.size,d=""!==f.current&&f.current!==i;if(l||d){const e=[],n=[];for(const{edge:t}of a)h.current.has(t.key)?n.push(t.key):e.push(t.key);if(d&&n.length>0){const e=new Map;for(const t of n){const n=y.current.get(t);void 0!==n&&e.set(t,n)}g(e),u(0)}const i=new Map;for(const{edge:a}of t){const e=o(a.certainCount,r);i.set(a.key,e)}if(b(i),s(t=>{const r=new Map(t);for(const n of e)r.set(n,0);for(const e of n)r.has(e)||r.set(e,1);return r}),e.length>0){let t=null;const n=Math.min(100,ne/e.length/2),r=o=>{t||(t=o);const a=o-t;s(t=>{const r=new Map(t);return e.forEach((e,t)=>{const o=t*n,s=Math.max(0,a-o),i=ce(Math.min(s/ne,1));r.set(e,i)}),r});const i=ne+(e.length-1)*n;a<i&&requestAnimationFrame(r)};requestAnimationFrame(r)}if(d&&n.length>0){let e=null;const t=n=>{e||(e=n);const r=n-e,o=Math.min(r/ne,1),a=ce(o);u(a),o<1&&requestAnimationFrame(t)};requestAnimationFrame(t)}for(const t of e)h.current.add(t)}for(const{edge:e}of t){const t=o(e.certainCount,r);y.current.set(e.key,t)}f.current=i},[e,c,t,n,r,o]),{edgeAnimProgress:a,weightAnimProgress:l,isExiting:c,animStartWeights:m,animTargetWeights:x,resetAnimationState:k}}({showTopology:E,polylines:ae,weakPolylines:ie,maxCertainCount:fe,getWeight:L}),ke=i.useMemo(()=>{const e=new Set;for(const t of m.hubNodes){e.add(t);for(const n of m.validatedEdges)n.fromHash===t&&e.add(n.toHash),n.toHash===t&&e.add(n.fromHash)}return e},[m.hubNodes,m.validatedEdges]),we=i.useMemo(()=>{const e=new Set;if(!l)return e;for(const t of m.validatedEdges)t.fromHash===l&&e.add(t.toHash),t.toHash===l&&e.add(t.fromHash);return e},[l,m.validatedEdges]),{getNodeOpacity:Se}=function({soloDirect:e,soloHubs:t,neighborHashes:n,hubConnectedNodes:r,directNodeSet:o,localConnectedNodes:a,showTopology:s}){const[l,u]=i.useState(new Map),c=i.useRef(e),d=i.useRef(t),p=i.useRef(new Map),h=i.useRef(null),f=i.useRef(r),m=i.useRef(o),g=i.useRef(a),x=i.useRef(s);return i.useEffect(()=>{f.current=r,m.current=o,g.current=a,x.current=s},[r,o,a,s]),i.useEffect(()=>{const r=c.current,o=d.current,a=e,s=t;if(c.current=e,d.current=t,r===a&&o===s)return;h.current&&(cancelAnimationFrame(h.current),h.current=null);const i=f.current,l=m.current,b=g.current,y=x.current;for(const e of n)p.current.has(e)||p.current.set(e,Math.random());const v=(e,t,n)=>{const r=i.has(e),o=l.has(e),a=y&&b.has(e);return!t&&!n||(t&&n?r||o||a:n?r:!t||o||a)},k=[];for(const e of n){const t=v(e,r,o),n=v(e,a,s);t!==n&&k.push({hash:e,startOpacity:t?1:0,targetOpacity:n?1:0})}if(0===k.length)return;u(e=>{const t=new Map(e);for(const{hash:n,startOpacity:r}of k)t.set(n,r);return t});const w=k;let S=null;const C=e=>{S||(S=e);const t=e-S;let n=!0;u(()=>{const e=new Map;for(const{hash:r,startOpacity:o,targetOpacity:a}of w){const s=250*(p.current.get(r)??0),i=Math.max(0,t-s),l=Math.min(i/500,1),u=o+(a-o)*de(l);e.set(r,u),l<1&&(n=!1)}return e}),t<750&&!n?h.current=requestAnimationFrame(C):(h.current=null,u(new Map))};return h.current=requestAnimationFrame(C),()=>{h.current&&(cancelAnimationFrame(h.current),h.current=null)}},[e,t,n]),{nodeOpacities:l,getNodeOpacity:(e,t)=>l.has(e)?l.get(e):t?1:0}}({soloDirect:M,soloHubs:T,neighborHashes:Q.map(([e])=>e),hubConnectedNodes:ke,directNodeSet:oe,localConnectedNodes:we,showTopology:E}),Ce=i.useCallback(e=>{if(!M&&!T)return!0;if(M)return oe.has(e);if(T){if(m.hubNodes.includes(e))return!0;for(const t of m.validatedEdges){if(t.fromHash===e&&m.hubNodes.includes(t.toHash))return!0;if(t.toHash===e&&m.hubNodes.includes(t.fromHash))return!0}return!1}return!0},[M,T,oe,m.hubNodes,m.validatedEdges]),je=i.useCallback(async()=>{K(!0),q(!0),U("fetching"),Y(0),await y(),Y(k.packetCount),U("analyzing"),await new Promise(e=>setTimeout(e,200)),U("building");const e=Date.now(),t=Date.now()-e;t<1700&&await new Promise(e=>setTimeout(e,1700-t)),U("complete"),await new Promise(e=>setTimeout(e,1e3)),q(!1),K(!1),ve(),setTimeout(()=>{F(!0)},150)},[y,ve,k.packetCount]),Ne=i.useCallback(e=>{C(e.viewState)},[]),Ee=i.useCallback(()=>{N(e=>!e)},[]),Fe=i.useCallback(()=>{F(e=>!e)},[]),Re=i.useCallback(()=>{R(e=>!e)},[]),Te=i.useCallback(()=>{P(e=>!e)},[]),Pe=i.useCallback(()=>{E||F(!0)},[E]),He=i.useCallback((e,t)=>{z(e),O(t)},[]),_e=i.useCallback(()=>{I&&u&&u(I),z(null),O("")},[I,u]),De=i.useMemo(()=>[...Ie,...Oe],[]),Le=i.useCallback(e=>{var t;if(!e.features||0===e.features.length)return;const n=e.features[0],r=null==(t=n.layer)?void 0:t.id,o=n.properties;if(!(null==o?void 0:o.key))return;const a=null==r?void 0:r.startsWith("topology-"),s=null==r?void 0:r.startsWith("neighbor-");if(a||s){const t=o.key.replace(/-loop[12]$/,"");$(t),e.lngLat&&J({longitude:e.lngLat.lng,latitude:e.lngLat.lat,type:a?"topology":"neighbor",properties:o})}f.current&&(f.current.getCanvas().style.cursor="pointer")},[]),ze=i.useCallback(()=>{$(null),J(null),f.current&&(f.current.getCanvas().style.cursor="")},[]),Ae=j?"h-screen":"h-[500px]",Ke=j?"fixed inset-0 z-50 bg-surface":"glass-card overflow-hidden";return t.jsxs("div",{className:`${Ke} ${Ae}`,children:[t.jsxs("div",{className:"relative w-full h-full",children:[t.jsxs(g,{ref:f,...w,onMove:Ne,mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",style:{width:"100%",height:"100%"},attributionControl:!1,interactiveLayerIds:De,onMouseMove:Le,onMouseLeave:ze,onLoad:e=>{const t=e.target,n=t.getStyle();if(null==n?void 0:n.layers)for(const r of n.layers)"symbol"===r.type&&(t.setPaintProperty(r.id,"text-color","rgba(50, 52, 58, 1)"),t.setPaintProperty(r.id,"text-halo-color","rgba(8, 9, 11, 0.9)"),t.setPaintProperty(r.id,"text-halo-width",1),t.setLayoutProperty(r.id,"text-font",["Inter","Open Sans Regular","Arial Unicode MS Regular"]))},children:[t.jsx(x,{position:"top-left",style:{marginTop:"1rem",marginLeft:"1rem"}}),t.jsx(b,{position:"bottom-right"}),t.jsx(Ve,{positions:ee}),c&&t.jsx(qe,{targetHash:c,nodeCoordinates:te,onComplete:d}),h&&t.jsx(We,{highlightedEdgeKey:h,validatedPolylines:ae,weakPolylines:ie,onEnsureTopology:Pe}),t.jsx($e,{showTopology:E,isExiting:ye,validatedPolylines:ae,weakPolylines:ie,edgeAnimProgress:me,weightAnimProgress:ge,animStartWeights:xe,animTargetWeights:be,maxCertainCount:fe,loopEdgeKeys:pe,backboneEdgeKeys:he,hoveredEdgeKey:D,onEdgeHover:$,highlightedEdgeKey:h,neighbors:e}),t.jsx(Me,{neighborsWithLocation:Q,localNode:n,localHash:l,zeroHopNeighbors:oe,lastHopNeighborMap:re,meshTopology:m,hoveredMarker:H,onMarkerHover:_,getNodeOpacity:Se,shouldShowNode:Ce,onRequestRemove:u?He:void 0}),t.jsx(Be,{neighborPolylines:le,hoveredEdgeKey:D,onEdgeHover:$}),G&&t.jsx(p,{longitude:G.longitude,latitude:G.latitude,anchor:"bottom",offset:[0,-20],closeButton:!1,closeOnClick:!1,className:"maplibre-popup",children:t.jsx(Ze,{type:G.type,properties:G.properties,maxCertainCount:fe})})]}),t.jsx(ue,{isDeepLoading:Z,showDeepAnalysisModal:V,onDeepAnalysis:je,showTopology:E,onToggleTopology:Fe,hasValidatedPolylines:ae.length>0,soloHubs:T,onToggleSoloHubs:Te,hasHubNodes:m.hubNodes.length>0,soloDirect:M,onToggleSoloDirect:Re,hasZeroHopNeighbors:oe.size>0,isFullscreen:j,onToggleFullscreen:Ee}),t.jsx(se,{showTopology:E,validatedPolylineCount:ae.length,filteredNeighborCount:Q.length,hasLocalNode:!(!(null==n?void 0:n.latitude)||!(null==n?void 0:n.longitude)),meshTopology:m,zeroHopNeighbors:oe,neighborsWithLocation:Q})]}),!j&&t.jsxs("div",{className:"absolute inset-0 pointer-events-none rounded-[1.125rem] overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),t.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-white/[0.03] to-transparent"}),t.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-white/[0.03] to-transparent"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/20 to-transparent"})]}),t.jsx(S,{isOpen:null!==I,onCancel:()=>z(null),onConfirm:_e,title:"Remove Node?",message:`Remove "${A}" from the contacts list? This will hide the node until it sends a new packet.`,confirmLabel:"Remove",cancelLabel:"Cancel",variant:"danger"}),t.jsx(B,{isOpen:V,currentStep:W,packetCount:X})]})}export{Ke as default};
