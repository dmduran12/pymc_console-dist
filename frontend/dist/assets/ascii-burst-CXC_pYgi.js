const t="[",n=`${t}0m`,a=`${t}1m`,o=`${t}2m`;function s(n,a,o){return`${t}38;2;${n};${a};${o}m`}function h(t,n=.08){const a=t+(Math.random()-.5)*n*2,o=Math.max(0,Math.min(.999,a));return"   . Ë™',Â·âˆ™âºËšÂ°:;~*+âœ§âœ©Ã—âœ´â–‘âœ¦âœ¶âœ³oOâ–’#%&xXâ–“@MW8Bâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"[Math.floor(45*o)]}function M(){return"âœ¦âœ¶âœ³âœ§âœ´âœ©Ã—"[Math.floor(7*Math.random())]}const e=[[6,4,28],[14,10,60],[30,24,105],[50,45,160],[72,70,200],[91,91,214],[150,150,245]];function r(t){const n=Math.max(0,Math.min(1,t))*(e.length-1),a=Math.floor(n),o=Math.min(a+1,e.length-1),h=n-a;return s(Math.round(e[a][0]+(e[o][0]-e[a][0])*h),Math.round(e[a][1]+(e[o][1]-e[a][1])*h),Math.round(e[a][2]+(e[o][2]-e[a][2])*h))}const i=s(0,240,255),l=s(255,50,180),u=s(255,252,255),c=s(80,255,180),f=s(255,180,120),m=`${t}38;2;91;91;214m`,d=80,x=27;let $=null,g=null;function p(){$=null,g=null}function b(t,e){g!==t&&($=function(t){var n;const a=t.length,o=Math.max(...t.map(t=>t.length)),s=a/2,h=o/2,M=new Float32Array(a*o);let e=0;for(let r=0;r<a;r++)for(let a=0;a<o;a++){const i=r-s,l=.5*(a-h),u=Math.sqrt(i*i+l*l);M[r*o+a]=u," "!==((null==(n=t[r])?void 0:n[a])??" ")&&u>e&&(e=u)}return{dist:M,maxDist:e,cols:o,rows:a}}(t),g=t);const{dist:d,maxDist:x,cols:p,rows:b}=$,w=e<14,v=e>=14&&e<26,B=e>=26,D=Math.min(1,e/14),q=v?Math.min(1,(e-14)/Math.max(1,11)):B?1:0,y=v||B?x*(1-(.3*(A=q)+A*A*A*.7)):function(t){return 1-Math.pow(1-t,3)}(D)*x;var A;const F=.72*y,O=.45*y,T=w?-.6:.9,W=[],X=b/2,j=p/2,k=e>=5&&e<=19,z=k?e<=14?(e-5)/9:1-(e-14)/5:0,C=.28*Math.sin(3.4*e)+.24*Math.sin(5.9*e)+.18*Math.sin(9.7*e)+.12*Math.sin(14.3*e),E=Math.max(.12,.55+.55*C),G=Math.sin(.85*e),H=.5-.5*G,I=(.3+2.7*(.5+.5*G))*Math.max(0,z)*E,J=(.5+3.5*H)*Math.max(0,z)*E;for(let $=0;$<b;$++){const g=t[$]||"";let b="",w="";for(let t=0;t<p;t++){const n=t<g.length?g[t]:" ",D=" "===n,q=d[$*p+t];if(k&&(I>.2||J>.3)){const n=Math.abs($-X),o=Math.abs(t-j);if(n<I&&o<J){const s=.5*Math.sin(5.3*e+7*$+11*t)+.5,h=n<.6&&o<1,M=h&&I>.8?"â–ˆ":h||s>.6?"âœ¦":s>.3?"âœ¶":"âœ´",r="â–ˆ"===M?u+a:h||"âœ¦"===M?(s>.5?u:i)+a:(s>.65?i:m)+a;r!==w&&(b+=r,w=r),b+=M;continue}}if(D)b+=" ",w="";else if(B){const t=m+a;t!==w&&(b+=t,w=t),b+=n}else if(v&&q>y){const t=q-y;if(t<.2*x){const n=1-t/(.2*x),o=Math.random();let h;if(n>.85){const t=(n-.85)/.15;h=s(Math.round(190+65*t),Math.round(210+42*t),255)+a}else if(n>.6)if(o<.1)h=i+a;else if(o<.16)h=l+a;else{const t=(n-.6)/.25;h=s(Math.round(120+70*t),Math.round(150+60*t),255)+a}else h=r(.7+.3*n)+a;h!==w&&(b+=h,w=h)}else Math.random()<.008?f!==w&&(b+=f,w=f):m!==w&&(b+=m,w=m);b+=n}else if(q>y)b+=" ",w="";else{const n=y-q,m=.7*Math.exp(-n/(.22*x))+.3*Math.max(0,1-n/(.55*x)),d=Math.max(0,1-Math.abs(q-F)/(.18*x)),g=Math.max(0,1-Math.abs(q-O)/(.22*x)),p=.8*Math.sin(.3*t),v=.5*Math.sin(.4*$+.15*t),B=.5*Math.sin(3*q+e*T+p)+.5,D=B*B*.5+.28*(.5*Math.sin(6.5*q+e*T*1.8+.5*p+v)+.5)+.22*(.5*Math.sin(1.3*q-e*T*.35+1.5*p+.08*$)+.5),A=e<2&&q<.35*x?.7*(1-q/(.35*x)):0,W=.52*m,X=(.3+.7*(1-m))*D*.32,j=.18*d+.1*g,k=Math.min(1,W+X+j+A);if(k<.025)b+=" ",w="";else{const t=Math.max(m,.65*d,.45*g),n=.8*k+.2*m,e=Math.random();let x;if(A>.2)x=e<.35?u+a:e<.55?l+a:e<.7?i+a:r(.95)+a;else if(t>.8)if(e<.08)x=l+a;else if(e<.14)x=i+a;else{const n=(t-.8)/.2;x=s(Math.round(190+65*n),Math.round(210+42*n),255)+a}else if(t>.55)if(e<.05)x=c+a;else{const n=(t-.55)/.25;x=s(Math.round(110+80*n),Math.round(140+70*n),Math.round(245+10*n))+a}else if(t>.32){const n=(t-.32)/.23;x=s(Math.round(91+19*n),Math.round(91+49*n),Math.round(214+31*n))+(n>.5?a:"")}else x=k<.12&&D>.65&&e<.08?f+o:r(n)+(k>.4?a:k<.12?o:"");x!==w&&(b+=x,w=x),k>.82&&m>.7||k>.7&&d>.5&&Math.random()<.2?b+=M():b+=h(k,.02+.05*(1-k))}}}W.push(b+n)}return W}export{d as B,x as T,b as g,p as r};
