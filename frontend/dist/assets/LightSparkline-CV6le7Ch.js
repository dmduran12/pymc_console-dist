import{r as m,j as u}from"./index-2YU-f7O7.js";const a="var(--sparkline-critical)",C="var(--sparkline-poor)",L="var(--sparkline-fair)",g="var(--sparkline-good)",y="var(--sparkline-excellent)",$="var(--fg-muted)";function j(o){if(o.length===0)return a;const r=o.slice(-4),e=r.reduce((t,c)=>t+c.count,0),n=e/r.length,l=o.reduce((t,c)=>t+c.count,0)/o.length;if(e===0)return a;if(l>0){const t=n/l;return t>=1.2?y:t>=.8?g:t>=.4?L:t>=.1?C:a}return e>=10?y:e>=5?g:e>=2?L:e>=1?C:a}function h(o,r,e,n=2){if(o.length<2)return"";const s=o.map(i=>i.count),l=Math.max(...s,1),t=Math.min(...s),c=l-t||1,p=r-n*2,O=e-n*2,x=s.map((i,f)=>({x:n+f/(s.length-1)*p,y:n+O-(i-t)/c*O}));let k=`M ${x[0].x.toFixed(1)} ${x[0].y.toFixed(1)}`;for(let i=1;i<x.length;i++){const f=x[i-1],v=x[i],R=(f.x+v.x)/2;k+=` Q ${R.toFixed(1)} ${f.y.toFixed(1)} ${v.x.toFixed(1)} ${v.y.toFixed(1)}`}return k}const A=m.memo(function({data:r,width:e=48,height:n=16,color:s,isLoading:l=!1,className:t=""}){const c=m.useMemo(()=>h(r,e,n),[r,e,n]),p=m.useMemo(()=>s??(r.length>0?j(r):$),[s,r]);return l&&r.length<2?u.jsx("div",{className:`flex items-center justify-center ${t}`,style:{width:e,height:n},children:u.jsx("div",{className:"rounded animate-pulse bg-subtle-fill-hover",style:{width:e-8,height:n-6}})}):r.length<2?u.jsx("svg",{width:e,height:n,viewBox:`0 0 ${e} ${n}`,className:t,"aria-hidden":"true",children:u.jsx("line",{x1:4,y1:n/2,x2:e-4,y2:n/2,stroke:a,strokeWidth:1.5,strokeDasharray:"3,2"})}):u.jsx("svg",{width:e,height:n,viewBox:`0 0 ${e} ${n}`,preserveAspectRatio:"none",className:t,"aria-hidden":"true",style:{maxWidth:"100%"},children:u.jsx("path",{d:c,fill:"none",stroke:p,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke"})})});export{A as L};
